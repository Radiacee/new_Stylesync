"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/paraphrase/route";
exports.ids = ["app/api/paraphrase/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparaphrase%2Froute&page=%2Fapi%2Fparaphrase%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparaphrase%2Froute.ts&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparaphrase%2Froute&page=%2Fapi%2Fparaphrase%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparaphrase%2Froute.ts&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Dave_Desktop_new_Stylesync_src_app_api_paraphrase_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/paraphrase/route.ts */ \"(rsc)/./src/app/api/paraphrase/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/paraphrase/route\",\n        pathname: \"/api/paraphrase\",\n        filename: \"route\",\n        bundlePath: \"app/api/paraphrase/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\api\\\\paraphrase\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Dave_Desktop_new_Stylesync_src_app_api_paraphrase_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/paraphrase/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXJhcGhyYXNlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwYXJhcGhyYXNlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGFyYXBocmFzZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNEYXZlJTVDRGVza3RvcCU1Q25ld19TdHlsZXN5bmMlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0RhdmUlNUNEZXNrdG9wJTVDbmV3X1N0eWxlc3luYyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXN5bmMvPzA3MWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGFyYXBocmFzZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGFyYXBocmFzZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BhcmFwaHJhc2VcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BhcmFwaHJhc2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwYXJhcGhyYXNlXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wYXJhcGhyYXNlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparaphrase%2Froute&page=%2Fapi%2Fparaphrase%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparaphrase%2Froute.ts&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/paraphrase/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/paraphrase/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/paraphrase.ts */ \"(rsc)/./src/lib/paraphrase.ts\");\n/* harmony import */ var _lib_styleRules_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/styleRules.ts */ \"(rsc)/./src/lib/styleRules.ts\");\n/* harmony import */ var _lib_rateLimit_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rateLimit.ts */ \"(rsc)/./src/lib/rateLimit.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\n\n\nconst bodySchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    text: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(1).max(8000),\n    useModel: zod__WEBPACK_IMPORTED_MODULE_3__.boolean().optional(),\n    profile: zod__WEBPACK_IMPORTED_MODULE_3__.any().optional(),\n    debug: zod__WEBPACK_IMPORTED_MODULE_3__.boolean().optional()\n});\nconst runtime = \"nodejs\";\nasync function POST(req) {\n    try {\n        // Rate limit by IP (replace with user ID after auth integration)\n        const ip = req.headers.get(\"x-forwarded-for\")?.split(\",\")[0]?.trim() || req.headers.get(\"x-real-ip\") || \"unknown\";\n        const rl = (0,_lib_rateLimit_ts__WEBPACK_IMPORTED_MODULE_2__.rateLimit)(`paraphrase:${ip}`);\n        if (rl.limited) {\n            return new Response(JSON.stringify({\n                error: \"Rate limit exceeded. Try later.\"\n            }), {\n                status: 429,\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...(0,_lib_rateLimit_ts__WEBPACK_IMPORTED_MODULE_2__.formatRateLimitHeaders)(rl)\n                }\n            });\n        }\n        const json = await req.json();\n        const { text, useModel, profile, debug } = bodySchema.parse(json);\n        let output;\n        // Simple API key auth for production usage gating (add per-user auth separately)\n        const apiKeyHeader = req.headers.get(\"x-api-key\");\n        const serverApiKey = process.env.STYLESYNC_API_KEY;\n        const authorized = !!(serverApiKey && apiKeyHeader && apiKeyHeader === serverApiKey);\n        // Allow AI model in development mode or when properly authorized\n        const isDevelopment = \"development\" !== \"production\";\n        console.log(\"=== AUTHORIZATION DEBUG ===\");\n        console.log(\"Environment:\", \"development\");\n        console.log(\"Is development:\", isDevelopment);\n        console.log(\"Has server API key:\", !!serverApiKey);\n        console.log(\"Has client API key header:\", !!apiKeyHeader);\n        console.log(\"Keys match:\", authorized);\n        console.log(\"Has GROQ key:\", !!process.env.GROQ_API_KEY);\n        const allowModel = (isDevelopment || authorized) && process.env.GROQ_API_KEY;\n        console.log(\"allowModel result:\", allowModel);\n        console.log(\"useModel from request:\", useModel);\n        let usedAIModel = false;\n        if (allowModel && (useModel ?? true)) {\n            console.log(\"=== USING AI MODEL ===\");\n            output = await modelParaphraseGroq(text, profile);\n            usedAIModel = true;\n        } else {\n            console.log(\"=== USING FALLBACK ===\", \"allowModel:\", allowModel, \"useModel:\", useModel);\n            output = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.paraphraseWithProfile)(text, profile);\n        }\n        // Verification & iterative humanization (returns metrics).\n        const lexiconOptions = {\n            includeLexiconNotes: !usedAIModel\n        };\n        console.log(\"Passing lexicon options:\", lexiconOptions);\n        const { output: finalOut, metrics } = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.verifyAndFinalize)(output, profile, 2, lexiconOptions);\n        console.log(\"Before finalizeOutput, usedAIModel:\", usedAIModel);\n        const fin = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.finalizeOutput)(finalOut, profile, lexiconOptions);\n        const resultText = typeof fin === \"string\" ? fin : fin.text;\n        // COMPREHENSIVE CLEANUP PIPELINE - Remove lexicon notes and validate structure\n        let cleanedResultText = finalLexiconCleanup(resultText);\n        cleanedResultText = validateAndFixSentenceStructure(cleanedResultText);\n        const allowDebug = debug && (authorized || \"development\" !== \"production\");\n        const actions = allowDebug ? typeof fin === \"string\" ? [] : fin.actions : [];\n        const payload = {\n            result: cleanedResultText,\n            usedModel: !!allowModel\n        };\n        if (allowDebug) payload.metrics = metrics;\n        if (allowDebug && actions.length) payload.actions = actions;\n        return new Response(JSON.stringify(payload), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...(0,_lib_rateLimit_ts__WEBPACK_IMPORTED_MODULE_2__.formatRateLimitHeaders)(rl)\n            }\n        });\n    } catch (err) {\n        return new Response(JSON.stringify({\n            error: err.message || \"Bad Request\"\n        }), {\n            status: 400\n        });\n    }\n}\nasync function modelParaphraseGroq(text, profile) {\n    try {\n        const GroqMod = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/tr46\"), __webpack_require__.e(\"vendor-chunks/whatwg-url\"), __webpack_require__.e(\"vendor-chunks/webidl-conversions\"), __webpack_require__.e(\"vendor-chunks/formdata-node\"), __webpack_require__.e(\"vendor-chunks/groq-sdk\"), __webpack_require__.e(\"vendor-chunks/form-data-encoder\"), __webpack_require__.e(\"vendor-chunks/agentkeepalive\"), __webpack_require__.e(\"vendor-chunks/web-streams-polyfill\"), __webpack_require__.e(\"vendor-chunks/node-fetch\"), __webpack_require__.e(\"vendor-chunks/ms\"), __webpack_require__.e(\"vendor-chunks/humanize-ms\"), __webpack_require__.e(\"vendor-chunks/event-target-shim\"), __webpack_require__.e(\"vendor-chunks/abort-controller\")]).then(__webpack_require__.bind(__webpack_require__, /*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.mjs\"));\n        const Groq = GroqMod.default ?? GroqMod.Groq;\n        const client = new Groq({\n            apiKey: process.env.GROQ_API_KEY\n        });\n        const model = process.env.GROQ_MODEL || \"llama3-70b-8192\";\n        const temperature = Number(process.env.GROQ_TEMPERATURE || 0.3); // Lower temperature for more focused output\n        const system = buildSystemPrompt(profile);\n        const completion = await client.chat.completions.create({\n            model,\n            temperature,\n            max_tokens: Math.min(2000, Math.max(100, text.length * 2)),\n            messages: [\n                {\n                    role: \"system\",\n                    content: system\n                },\n                {\n                    role: \"user\",\n                    content: `Paraphrase the text below maintaining the EXACT same meaning. Focus on mimicking the user's sentence construction patterns, clause usage, and punctuation habits. Pay attention to how sentences are built: their complexity, conjunction usage, modifier placement, and overall flow. \r\n\r\nCRITICAL: The meaning must stay identical. Do not add, remove, or change any facts, concepts, or ideas. Only change the wording and sentence structure while preserving all original information.\r\n\r\nOutput ONLY the rewritten text itself with no preface, explanation, notes, or commentary.\r\n\r\nText:\r\n${text}`\n                }\n            ]\n        });\n        const raw = completion.choices?.[0]?.message?.content?.trim() || \"\";\n        console.log(\"AI raw response:\", JSON.stringify(raw.slice(-100)));\n        let cleaned = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.humanizeText)(sanitizeModelOutput(raw));\n        // Clean up excessive comma patterns that appear when lexicon is empty\n        cleaned = cleanupCommaPatterns(cleaned);\n        console.log(\"Final cleaned result:\", JSON.stringify(cleaned.slice(-100)));\n        // If AI provided content, use it; otherwise fallback without lexicon notes\n        if (cleaned && cleaned.length > 10) {\n            return cleaned;\n        } else {\n            console.log(\"AI response was empty/short, using fallback\");\n            return (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.paraphraseWithProfile)(text, profile, {\n                includeLexiconNotes: false\n            });\n        }\n    } catch (e) {\n        console.log(\"AI request failed, using fallback:\", e?.message || e);\n        return (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_0__.paraphraseWithProfile)(text, profile, {\n            includeLexiconNotes: false\n        });\n    }\n}\nfunction cleanupCommaPatterns(text) {\n    if (!text) return text;\n    let cleaned = text;\n    console.log(\"COMMA CLEANUP - Before:\", JSON.stringify(cleaned));\n    // Fix excessive comma patterns like \",,,\" which appear when lexicon words are missing\n    // Handle all variations of comma spacing patterns\n    // 1. Multiple commas with any spacing - most comprehensive first\n    cleaned = cleaned.replace(/,\\s*,\\s*,+/g, \",\"); // \",  , ,\" or \", ,,\" -> \",\"\n    cleaned = cleaned.replace(/,\\s*,\\s*/g, \",\"); // \", ,\" -> \",\"\n    cleaned = cleaned.replace(/,{2,}/g, \",\"); // \",,\" -> \",\"\n    // 2. Fix the specific patterns we're seeing: \"data , uncovering insights , , that\"\n    cleaned = cleaned.replace(/(\\w+)\\s*,\\s*,\\s*,\\s*(\\w+)/g, \"$1, $2\"); // \"word , , , word\" -> \"word, word\"\n    cleaned = cleaned.replace(/(\\w+)\\s*,\\s*,\\s*(\\w+)/g, \"$1, $2\"); // \"word , , word\" -> \"word, word\"\n    // 3. Handle patterns where comma appears before conjunctions/words\n    cleaned = cleaned.replace(/,\\s*,\\s*,\\s*(that|which|who|when|where|how|why)\\b/gi, \", $1\");\n    cleaned = cleaned.replace(/,\\s*,\\s*(that|which|who|when|where|how|why)\\b/gi, \", $1\");\n    // 4. Fix patterns around conjunctions\n    cleaned = cleaned.replace(/\\b(and|but|or|so|yet|for)\\s*,\\s*,\\s*,/gi, \"$1\");\n    cleaned = cleaned.replace(/\\b(and|but|or|so|yet|for)\\s*,\\s*,/gi, \"$1\");\n    // 5. Handle patterns at sentence boundaries\n    cleaned = cleaned.replace(/,\\s*,\\s*,\\s*([.!?])/g, \"$1\"); // \", , .\" -> \".\"\n    cleaned = cleaned.replace(/,\\s*,\\s*([.!?])/g, \"$1\"); // \", .\" -> \".\"\n    // 6. Clean up any remaining double commas that might have been created\n    cleaned = cleaned.replace(/,\\s*,/g, \",\");\n    // 7. Fix spacing around commas (normalize)\n    cleaned = cleaned.replace(/\\s*,\\s*/g, \", \");\n    // 8. Remove trailing comma patterns and fix sentence endings\n    cleaned = cleaned.replace(/,\\s*,\\s*,?\\s*$/g, \"\");\n    cleaned = cleaned.replace(/,\\s*$/g, \"\");\n    // 9. Handle edge cases with specific problematic patterns\n    cleaned = cleaned.replace(/\\b(process|inform|spark|ensure|produce|create|develop)\\s+,\\s*,\\s*/gi, \"$1 \");\n    cleaned = cleaned.replace(/\\b(data|insights|decisions|art|music|literature|innovation|technology)\\s*,\\s*,\\s*/gi, \"$1 \");\n    console.log(\"COMMA CLEANUP - After:\", JSON.stringify(cleaned));\n    return cleaned.trim();\n}\nfunction buildSystemPrompt(profile) {\n    const base = _lib_styleRules_ts__WEBPACK_IMPORTED_MODULE_1__.STYLE_RULE_PROMPT + \"\\n\\nCRITICAL: Preserve the exact meaning and all factual content. No fabrication of facts. Focus on sentence construction patterns rather than specific vocabulary. Maintain natural language flow and readability above all else.\";\n    if (!profile) return base;\n    let stylePrompt = base + `\\nProfile cues: Tone=${profile.tone}; Formality=${profile.formality}; Pacing=${profile.pacing}; Descriptiveness=${profile.descriptiveness}; Directness=${profile.directness}`;\n    // Add custom lexicon as optional vocabulary hints (with strong warnings)\n    if (profile.customLexicon && profile.customLexicon.length > 0) {\n        stylePrompt += `\\n\\nVOCABULARY SUGGESTIONS (USE SPARINGLY): The user occasionally prefers these words: ${profile.customLexicon.join(\", \")}. These are OPTIONAL suggestions - only use them if they naturally replace existing words and maintain identical meaning. NEVER insert them where they don't belong or change the meaning. If they don't fit naturally, ignore them completely. Clear, accurate writing is always more important than using any specific vocabulary.`;\n    } else {\n        // When no custom lexicon, be explicit about not adding unnecessary words or commas\n        stylePrompt += `\\n\\nNO CUSTOM VOCABULARY: Write naturally without trying to insert specific vocabulary words. Do not use placeholder commas or awkward insertions. Focus purely on clear, natural language that matches the user's sentence construction patterns.`;\n    }\n    // Add detailed sample style analysis if available\n    if (profile.sampleExcerpt && profile.styleAnalysis) {\n        const analysis = profile.styleAnalysis;\n        console.log(\"Style Analysis received:\", JSON.stringify(analysis, null, 2));\n        stylePrompt += \"\\n\\nWRITING STYLE PATTERNS TO MIMIC:\";\n        stylePrompt += `\\n- Sentence length: Average ${Math.round(analysis.avgSentenceLength)} words (±${Math.round(analysis.sentenceLengthStd)})`;\n        stylePrompt += `\\n- Word complexity: Average word length ${Math.round(analysis.avgWordLength)} chars, vocabulary complexity ${(analysis.vocabularyComplexity * 100).toFixed(1)}%`;\n        if (analysis.usesContractions) {\n            stylePrompt += \"\\n- Uses contractions (don't, it's, etc.)\";\n        } else {\n            stylePrompt += \"\\n- Avoids contractions (formal writing)\";\n        }\n        if (analysis.preferredTransitions && analysis.preferredTransitions.length > 0) {\n            stylePrompt += `\\n- Preferred transitions: ${analysis.preferredTransitions.slice(0, 3).join(\", \")}`;\n        }\n        if (analysis.questionRatio > 0.1) {\n            stylePrompt += `\\n- Uses questions frequently (${(analysis.questionRatio * 100).toFixed(1)}% of sentences)`;\n        }\n        if (analysis.exclamatoryRatio > 0.1) {\n            stylePrompt += `\\n- Uses exclamations frequently (${(analysis.exclamatoryRatio * 100).toFixed(1)}% of sentences)`;\n        }\n        if (analysis.commonStarters && analysis.commonStarters.length > 0) {\n            stylePrompt += `\\n- Common sentence starters: ${analysis.commonStarters.slice(0, 3).join(\", \")}`;\n        }\n        stylePrompt += `\\n- Personal voice: ${analysis.personalVoice} perspective`;\n        stylePrompt += `\\n- Tone tendency: ${analysis.toneBalance}`;\n        if (analysis.conjunctionDensity > 1) {\n            stylePrompt += \"\\n- Uses many connecting words (and, but, because, etc.)\";\n        }\n        if (analysis.adjectiveDensity > 0.1) {\n            stylePrompt += `\\n- Descriptive writing style (${(analysis.adjectiveDensity * 100).toFixed(1)}% descriptive words)`;\n        } else {\n            stylePrompt += \"\\n- Concise, minimal descriptive language\";\n        }\n        // REMOVED: Don't mention specific adverbs in the prompt as they get injected\n        // SENTENCE CONSTRUCTION PATTERNS\n        if (analysis.constructionPatterns) {\n            stylePrompt += \"\\n\\nSENTENCE CONSTRUCTION STYLE:\";\n            if (analysis.constructionPatterns.subordinateClauseRatio > 0.3) {\n                stylePrompt += `\\n- Frequently uses subordinate clauses (${(analysis.constructionPatterns.subordinateClauseRatio * 100).toFixed(0)}% of sentences) with words like \"because\", \"although\", \"when\"`;\n            }\n            if (analysis.constructionPatterns.coordinateClauseRatio > 0.3) {\n                stylePrompt += `\\n- Often connects ideas with coordinating conjunctions (${(analysis.constructionPatterns.coordinateClauseRatio * 100).toFixed(0)}% of sentences) using \"and\", \"but\", \"or\"`;\n            }\n            if (analysis.constructionPatterns.parentheticalRatio > 0.2) {\n                stylePrompt += `\\n- Uses parenthetical elements and asides (${(analysis.constructionPatterns.parentheticalRatio * 100).toFixed(0)}% of sentences)`;\n            }\n            if (analysis.constructionPatterns.frontLoadedDependentRatio > 0.2) {\n                stylePrompt += `\\n- Often starts sentences with dependent clauses (${(analysis.constructionPatterns.frontLoadedDependentRatio * 100).toFixed(0)}% of sentences)`;\n            }\n            if (analysis.avgClausesPerSentence > 2) {\n                stylePrompt += `\\n- Complex sentence structure averaging ${analysis.avgClausesPerSentence.toFixed(1)} clauses per sentence`;\n            }\n            if (analysis.parallelStructureRatio > 0.1) {\n                stylePrompt += `\\n- Uses parallel structure patterns (${(analysis.parallelStructureRatio * 100).toFixed(0)}% of sentences) like \"X, Y, and Z\"`;\n            }\n        }\n        // PUNCTUATION AND MODIFIER PATTERNS\n        if (analysis.punctuationPatterns) {\n            if (analysis.punctuationPatterns.dashUsage > 0) {\n                stylePrompt += `\\n- Uses dashes for emphasis or breaks (${analysis.punctuationPatterns.dashUsage} times)`;\n            }\n            if (analysis.punctuationPatterns.colonUsage > 0) {\n                stylePrompt += `\\n- Uses colons for explanations (${analysis.punctuationPatterns.colonUsage} times)`;\n            }\n        }\n        if (analysis.modifierPatterns) {\n            if (analysis.modifierPatterns.frontLoadedAdverbs > 0.1) {\n                stylePrompt += `\\n- Often starts sentences with adverbs (${(analysis.modifierPatterns.frontLoadedAdverbs * 100).toFixed(0)}% of sentences)`;\n            }\n            if (analysis.modifierPatterns.midSentenceAdverbs > 0.1) {\n                stylePrompt += `\\n- Places adverbs mid-sentence for flow (${(analysis.modifierPatterns.midSentenceAdverbs * 100).toFixed(0)}% of sentences)`;\n            }\n        }\n        stylePrompt += \"\\n\\nMATCH THESE PATTERNS: Replicate the sentence construction style, clause patterns, punctuation habits, and modifier placement shown above. Focus on HOW sentences are built, not just word choice.\";\n    }\n    // Add final instructions to prevent lexicon notes in output\n    stylePrompt += '\\n\\nCRITICAL OUTPUT RULES:\\n1. Output ONLY the paraphrased text. No notes, labels, explanations, or lists.\\n2. Do NOT include phrases like \"Lexicon notes:\", \"Words used:\", \"Vocabulary:\", etc.\\n3. Do NOT mention or list any vocabulary words used.\\n4. NEVER insert vocabulary words where they break sentence structure or change meaning.\\n5. Do NOT use excessive commas or placeholder punctuation - write naturally.\\n6. The response must contain ONLY the clean paraphrased content - nothing else.\\n7. Preserve all original facts, concepts, and meaning exactly.\\n8. Use proper comma placement only where grammatically appropriate - avoid comma clusters like \",,,\" or unnecessary comma insertions.';\n    return stylePrompt;\n}\nfunction sanitizeModelOutput(s) {\n    if (!s) return s;\n    console.log(\"BEFORE sanitization:\", JSON.stringify(s.slice(0, 150), null, 2));\n    console.log(\"BEFORE sanitization (end):\", JSON.stringify(s.slice(-150)));\n    // Remove leading common prefaces and prompt leakage\n    s = s.replace(/^\\s*(Here(?:'| i)s[^\\n]*?:?\\s*)/i, \"\");\n    s = s.replace(/^\\s*(Paraphrased (?:version|text)[:\\-]?\\s*)/i, \"\");\n    s = s.replace(/^\\s*(I(?:'ve| have)[^\\n]*?:?\\s*)/i, \"\");\n    s = s.replace(/^\\s*(A rewritten version of the text:\\s*)/i, \"\");\n    s = s.replace(/^\\s*(Rewritten version:\\s*)/i, \"\");\n    s = s.replace(/^\\s*(The rewritten text:\\s*)/i, \"\");\n    // Remove any system prompt leakage at the beginning\n    s = s.replace(/^\\s*(?:System|Assistant|User):\\s*/i, \"\");\n    s = s.replace(/^\\s*(?:Paraphrase|Rewrite)[^\\n]*?:\\s*/i, \"\");\n    // AGGRESSIVE: Remove problematic lexicon word insertions that break sentences\n    // These are appearing as insertions like \"factually especially\" or \"in especially\"\n    s = s.replace(/\\b(?:factually|especially|clearly|confidently|frequently)\\s+(?:factually|especially|clearly|confidently|frequently)\\b/gi, \"\");\n    s = s.replace(/\\b(?:in|at|of|to|with|by|for|from|into|onto|upon|during|before|after|through|across|around|between|among|within|without|beneath|beside|behind|beyond|above|below)\\s+(?:factually|especially|clearly|confidently|frequently)\\b/gi, \"$1\");\n    s = s.replace(/\\b(?:factually|especially|clearly|confidently|frequently)\\s+(?:in|at|of|to|with|by|for|from|into|onto|upon|during|before|after|through|across|around|between|among|within|without|beneath|beside|behind|beyond|above|below)\\b/gi, \"$2\");\n    // Remove lexicon words that are inserted in grammatically wrong places\n    s = s.replace(/\\b(\\w+)\\s+(factually|especially|clearly|confidently|frequently)\\s+(is|are|was|were|will|would|can|could|has|have|had|do|does|did)\\b/gi, \"$1 $3\");\n    s = s.replace(/\\b(Artificial|Digital|Virtual|Social|Global|National|International|Local|Regional|Modern|Ancient|Current|Recent|Future|Past|Present)\\s+(factually|especially|clearly|confidently|frequently)\\s+(intelligence|media|reality|network|system|technology|development|advancement|progress|change)\\b/gi, \"$1 $3\");\n    // Remove trailing explanation sections\n    const splitMarkers = /(\\n\\n(?:I['\\s]?(?:ve| have) maintained|Tone:|Formality:|Pacing:|Descriptiveness:|Directness:|Note:|This maintains|The rewritten))/i;\n    const m = s.split(splitMarkers);\n    if (m.length > 1) {\n        s = m[0].trim();\n    }\n    // Remove lexicon notes that might appear at the end\n    s = s.replace(/\\n\\n?(?:Lexicon notes?:.*|Preferred (?:vocabulary|words?):.*|Custom lexicon:.*)$/gmi, \"\");\n    s = s.replace(/\\n\\n?(?:Words? used:.*|Vocabulary applied:.*|Lexicon:.*|Custom words?:.*)$/gmi, \"\");\n    // More aggressive lexicon note removal - handle various formats\n    s = s.replace(/\\s*Lexicon notes?:\\s*[^\\n]*$/gmi, \"\");\n    s = s.replace(/\\s*(?:Custom )?[Ll]exicon:\\s*[^\\n]*$/gmi, \"\");\n    s = s.replace(/\\s*(?:Preferred|Custom) (?:vocabulary|words?):\\s*[^\\n]*$/gmi, \"\");\n    // SUPER AGGRESSIVE: Remove the exact pattern we're seeing\n    s = s.replace(/\\s*\\.?\\s*Lexicon notes:\\s*especially,\\s*clearly,\\s*confidently,\\s*factually,\\s*frequently\\s*$/gi, \"\");\n    s = s.replace(/\\s*especially,\\s*clearly,\\s*confidently,\\s*factually,\\s*frequently\\s*$/gi, \"\");\n    // Fix excessive comma patterns that appear when lexicon words are missing\n    s = s.replace(/,\\s*,\\s*,/g, \"\"); // Remove triple commas\n    s = s.replace(/,\\s*,/g, \",\"); // Fix double commas to single\n    s = s.replace(/\\s+,/g, \",\"); // Fix space before comma\n    s = s.replace(/,{2,}/g, \",\"); // Multiple commas to single\n    // Handle the specific problematic patterns we're seeing\n    s = s.replace(/(\\w+)\\s*,\\s*,\\s*,\\s*(that|which|who|when|where)/gi, \"$1, $2\");\n    s = s.replace(/(\\w+)\\s*,\\s*,\\s*(that|which|who|when|where)/gi, \"$1, $2\");\n    s = s.replace(/(\\w+)\\s*,\\s*,\\s*(inform|spark|ensure|produce|create)/gi, \"$1 $2\");\n    // Remove comma patterns that appear when words are missing\n    s = s.replace(/(\\w+),\\s*,\\s*,\\s*(\\w+)/g, \"$1, $2\");\n    s = s.replace(/(\\w+)\\s+,\\s*,\\s*,/g, \"$1\");\n    s = s.replace(/,\\s*,\\s*,\\s*([.!?])/g, \"$1\");\n    // Clean up comma patterns around specific words that commonly get mangled\n    s = s.replace(/\\b(uncovering|producing|creating|ensuring|developing)\\s+(insights|art|music|innovation)\\s*,\\s*,\\s*/gi, \"$1 $2 \");\n    s = s.replace(/\\b(process|analyze|examine|evaluate)\\s+(data|information|content)\\s*,\\s*,\\s*/gi, \"$1 $2 \");\n    // Remove specific lexicon word patterns (not any random word lists)\n    const lexiconWords = [\n        \"especially\",\n        \"clearly\",\n        \"confidently\",\n        \"factually\",\n        \"frequently\"\n    ];\n    const lexiconPattern = lexiconWords.join(\"|\");\n    // Only remove word lists if they contain lexicon words\n    s = s.replace(new RegExp(`\\\\s+(?:${lexiconPattern})(?:,\\\\s*(?:${lexiconPattern}|\\\\w+)){2,}\\\\s*$`, \"gi\"), \"\");\n    // Strip trailing explanation that starts with bullets or dashes\n    s = s.replace(/\\n\\n(?:[-*•]\\s.*)+$/gms, \"\");\n    s = s.replace(/\\n\\n(?:Note:|This|The above).*$/gms, \"\");\n    // Remove any standalone lexicon mentions anywhere in the text\n    s = s.replace(/\\b(?:Lexicon|Custom lexicon|Preferred vocabulary):\\s*[^\\n]*(?:\\n|$)/gi, \"\");\n    // Final cleanup - remove any remaining lexicon word combinations at the end\n    s = s.replace(new RegExp(`\\\\s+(?:${lexiconPattern})(?:\\\\s*,\\\\s*(?:${lexiconPattern}))*\\\\s*$`, \"gi\"), \"\");\n    // Remove specific pattern \"clearly, confidently. frequently.\" and variations\n    s = s.replace(/\\s*clearly,\\s*confidently\\.?\\s*frequently\\.?\\s*$/gi, \"\");\n    s = s.replace(/\\s*,?\\s*clearly,\\s*confidently\\.?\\s*frequently\\.?\\s*$/gi, \"\");\n    // Remove any trailing fragment with these specific lexicon words only\n    s = s.replace(new RegExp(`\\\\s*(?:${lexiconPattern})(?:\\\\s*,\\\\s*(?:${lexiconPattern}))*\\\\.?\\\\s*$`, \"gi\"), \"\");\n    // Remove repetitive word patterns (basic detection)\n    s = s.replace(/\\b(\\w+)(\\s+\\1){2,}\\b/gi, \"$1\");\n    // Remove incomplete sentences at the end\n    const sentences = s.split(/(?<=[.!?])\\s+/);\n    if (sentences.length > 1) {\n        const lastSentence = sentences[sentences.length - 1];\n        if (!/[.!?]$/.test(lastSentence.trim()) && lastSentence.trim().length < 20) {\n            sentences.pop();\n            s = sentences.join(\" \");\n        }\n    }\n    const finalResult = s.trim();\n    console.log(\"AFTER sanitization:\", JSON.stringify(finalResult.slice(-100)));\n    return finalResult;\n}\nfunction finalLexiconCleanup(text) {\n    if (!text) return text;\n    let cleaned = text;\n    console.log(\"FINAL CLEANUP - Before:\", JSON.stringify(cleaned.slice(-100)));\n    // SURGICAL APPROACH: Only remove specific lexicon patterns, preserve legitimate text\n    // 1. Remove exact lexicon note patterns (most specific first)\n    cleaned = cleaned.replace(/\\s+especially,\\s*clearly\\.\\s*confidently\\s*$/gi, \"\");\n    cleaned = cleaned.replace(/\\s+especially,\\s*clearly,?\\s*confidently\\s*$/gi, \"\");\n    cleaned = cleaned.replace(/\\s*\\.?\\s*Lexicon notes?:\\s*[^\\n]*$/gi, \"\");\n    // 2. Remove complete lexicon word sequences only at the very end\n    cleaned = cleaned.replace(/\\s*especially,?\\s*clearly,?\\s*confidently,?\\s*factually,?\\s*frequently\\.?\\s*$/gi, \"\");\n    cleaned = cleaned.replace(/\\s*clearly,?\\s*confidently\\.?\\s*frequently\\.?\\s*$/gi, \"\");\n    cleaned = cleaned.replace(/\\s*confidently\\.?\\s*frequently\\.?\\s*$/gi, \"\");\n    // 3. Remove only specific lexicon words when they appear as trailing fragments\n    // But only if they're clearly lexicon notes (with specific punctuation patterns)\n    const lexiconWords = [\n        \"especially\",\n        \"clearly\",\n        \"confidently\",\n        \"factually\",\n        \"frequently\"\n    ];\n    for (const word of lexiconWords){\n        // Only remove if it's clearly a trailing fragment with comma/period patterns\n        cleaned = cleaned.replace(new RegExp(`\\\\s*,\\\\s*${word}\\\\s*\\\\.?\\\\s*$`, \"gi\"), \"\");\n        cleaned = cleaned.replace(new RegExp(`\\\\s*\\\\.\\\\s*${word}\\\\s*$`, \"gi\"), \"\");\n    }\n    // 4. Remove sequences of exactly these lexicon words (not any random words)\n    const lexiconPattern = `\\\\b(?:${lexiconWords.join(\"|\")})\\\\b`;\n    cleaned = cleaned.replace(new RegExp(`\\\\s*,?\\\\s*${lexiconPattern}(?:\\\\s*[,.]\\\\s*${lexiconPattern})*\\\\s*\\\\.?\\\\s*$`, \"gi\"), \"\");\n    // 5. Clean up trailing punctuation only if it looks malformed\n    cleaned = cleaned.replace(/\\s*[,]+\\s*$/, \"\"); // Remove trailing commas\n    cleaned = cleaned.replace(/\\s*\\.{2,}\\s*$/, \".\"); // Fix multiple periods to single period\n    cleaned = cleaned.trim();\n    // 6. Ensure proper sentence ending (but don't force it if text ends with other punctuation)\n    if (cleaned && !/[.!?]$/.test(cleaned)) {\n        cleaned += \".\";\n    }\n    console.log(\"FINAL CLEANUP - After:\", JSON.stringify(cleaned.slice(-100)));\n    return cleaned;\n}\nfunction validateAndFixSentenceStructure(text) {\n    if (!text) return text;\n    console.log(\"SENTENCE VALIDATION - Before:\", JSON.stringify(text.slice(0, 150)));\n    console.log(\"SENTENCE VALIDATION - Before (end):\", JSON.stringify(text.slice(-150)));\n    let fixed = text.trim();\n    // 1. Remove any leading orphaned words or fragments that don't start a proper sentence\n    // Check if text starts with orphaned words\n    const firstSentenceMatch = fixed.match(/^([^.!?]*?)([A-Z][^.!?]*[.!?])/);\n    if (firstSentenceMatch) {\n        const leadingFragment = firstSentenceMatch[1].trim();\n        if (leadingFragment && leadingFragment.split(/\\s+/).length < 4 && !/^[A-Z]/.test(leadingFragment)) {\n            // If there's a leading fragment that's short and doesn't start with capital, remove it\n            console.log(\"REMOVING LEADING FRAGMENT:\", JSON.stringify(leadingFragment));\n            fixed = fixed.replace(/^[^.!?]*?([A-Z][^.!?]*[.!?])/, \"$1\");\n        }\n    }\n    // 2. Fix basic sentence structure issues\n    const sentences = fixed.split(/(?<=[.!?])\\s+/);\n    const validSentences = [];\n    for(let i = 0; i < sentences.length; i++){\n        const sentence = sentences[i];\n        const trimmed = sentence.trim();\n        if (!trimmed) continue;\n        // Enhanced sentence validation with improved verb detection\n        const wordCount = trimmed.split(/\\s+/).length;\n        const startsWithCapital = /^[A-Z]/.test(trimmed);\n        const endsWithPunctuation = /[.!?]$/.test(trimmed);\n        // Improved verb detection - more comprehensive patterns\n        const hasVerb = /\\b(?:is|are|was|were|will|would|can|could|has|have|had|do|does|did|become|becomes|became|get|gets|got|make|makes|made|take|takes|took|give|gives|gave|show|shows|showed|find|finds|found|think|thinks|thought|know|knows|knew|see|sees|saw|come|comes|came|go|goes|went|work|works|worked|use|uses|used|help|helps|helped|need|needs|needed|want|wants|wanted|try|tries|tried|look|looks|looked|feel|feels|felt|seem|seems|seemed|appear|appears|appeared|include|includes|included|provide|provides|provided|allow|allows|allowed|require|requires|required|create|creates|created|offer|offers|offered|change|changes|changed|move|moves|moved|turn|turns|turned|keep|keeps|kept|hold|holds|held|bring|brings|brought|build|builds|built|run|runs|ran|play|plays|played|live|lives|lived|remain|remains|remained|continue|continues|continued|start|starts|started|stop|stops|stopped|end|ends|ended|begin|begins|began|follow|follows|followed|lead|leads|led|understand|understands|understood|learn|learns|learned|teach|teaches|taught|remember|remembers|remembered|forget|forgets|forgot|decide|decides|decided|choose|chooses|chose|win|wins|won|lose|loses|lost|rising|falling|hanging|blending|casting|formed|erased|buried|told|swept|spread|drifting|floating|pouring|coloring|washed|transforming|providing|tailored|broaden|optimizing|detect|enabling|designed|trained|generate|predicting|lacks|sounding|stands|means|mistakes|hallucinate|understands|predicts|drives|expand|limited|presentations|adaptive|customized|raising|displacement|unfolded|clung|imbuing|assuming|continue|indefinitely|assumed|melody|slice)\\b/i.test(trimmed);\n        // More lenient validation - focus on obvious fragments only\n        const isValidSentence = wordCount >= 3 && startsWithCapital && endsWithPunctuation && (hasVerb || /^(?:Yes|No|Exactly|Indeed|Absolutely|Certainly|Perhaps|Maybe|However|Therefore|Moreover|Furthermore|Additionally|Meanwhile|Nevertheless|Thus|Hence|Consequently|Finally|Initially)\\b/i.test(trimmed) || wordCount >= 8) && // Longer sentences are more likely to be valid even without detected verbs\n        !isLikelyFragment(trimmed) && !isOrphanedWord(trimmed);\n        // Additional check for sentences that don't start properly\n        const hasProperBeginning = /^[A-Z][a-z]/.test(trimmed) || // Starts with capital letter followed by lowercase\n        /^[A-Z][A-Z]+/.test(trimmed.split(\" \")[0]) || // Acronym\n        /^(?:I|A|An|The|This|That|These|Those|He|She|It|We|They|You|My|Your|His|Her|Its|Our|Their|Some|All|Many|Most|Few|Several|Each|Every|Both|Either|Neither|One|Two|Three|Four|Five|First|Second|Third|Last|Next|Previous|Another|Other|Such|Same|Different|New|Old|Good|Bad|Better|Best|Worse|Worst|Big|Small|Large|Little|Long|Short|High|Low|Fast|Slow|Hot|Cold|Warm|Cool|Light|Dark|Bright|Heavy|Easy|Hard|Simple|Complex|Important|Special|General|Specific|Public|Private|National|International|Global|Local|Regional|Common|Rare|Recent|Modern|Ancient|Future|Past|Present|Current|Main|Primary|Secondary|Basic|Advanced|Complete|Partial|Full|Empty|Open|Closed|Free|Busy|Available|Ready|Early|Late|Soon|Never|Always|Often|Sometimes|Usually|Rarely|Seldom|Frequently|Occasionally|Immediately|Quickly|Slowly|Carefully|Clearly|Obviously|Certainly|Probably|Possibly|Maybe|Perhaps|However|Therefore|Thus|Hence|Meanwhile|Moreover|Furthermore|Additionally|Also|Besides|Instead|Otherwise|Nevertheless|Nonetheless|Still|Yet|But|And|Or|So|For|Nor|Because|Since|Although|Though|While|When|Where|What|Who|Which|How|Why|If|Unless|Until|Before|After|During|Between|Among|Above|Below|Over|Under|Through|Across|Around|Beyond|Within|Without|Inside|Outside|Beside|Behind|Ahead|Forward|Backward|Toward|Away|Up|Down|In|On|At|By|To|From|With|Without|Against|About|Around|Near|Far|Here|There|Where|Everywhere|Anywhere|Somewhere|Nowhere|Today|Tomorrow|Yesterday|Now|Then|Later|Earlier|Recently|Finally|Eventually|Initially|Originally|Previously|Afterwards|Subsequently|Consequently|Accordingly|Similarly|Likewise|Conversely|Alternatively|Surprisingly|Fortunately|Unfortunately|Interestingly|Notably|Particularly|Especially|Generally|Specifically|Actually|Really|Truly|Indeed|Certainly|Obviously|Clearly|Apparently|Seemingly|Presumably|Supposedly|Allegedly|Reportedly|Undoubtedly|Definitely|Probably|Possibly|Maybe|Perhaps|Roughly|Approximately|Exactly|Precisely|Nearly|Almost|Barely|Hardly|Scarcely|Quite|Rather|Very|Extremely|Incredibly|Remarkably|Exceptionally|Particularly|Especially|Surprisingly|Amazingly|Absolutely|Completely|Entirely|Fully|Totally|Perfectly|Exactly|Precisely|Strictly|Purely|Simply|Merely|Only|Just|Even|Still|Already|Yet|Again|Once|Twice|Thrice|Never|Always|Forever|Constantly|Continuously|Regularly|Frequently|Often|Sometimes|Occasionally|Rarely|Seldom|Hardly|Never|Already|Still|Yet|Soon|Later|Earlier|Before|After|During|While|Meanwhile|Simultaneously|Concurrently|Immediately|Instantly|Suddenly|Gradually|Slowly|Quickly|Rapidly|Swiftly|Speedily|Fast|Faster|Fastest|Slow|Slower|Slowest)\\b/i.test(trimmed);\n        if (isValidSentence && hasProperBeginning) {\n            validSentences.push(trimmed);\n        } else {\n            console.log(\"REMOVED INVALID SENTENCE:\", JSON.stringify(trimmed), {\n                wordCount,\n                startsWithCapital,\n                endsWithPunctuation,\n                hasVerb,\n                hasProperBeginning\n            });\n        }\n    }\n    // 3. Rejoin valid sentences\n    fixed = validSentences.join(\" \");\n    // 4. Fix sentence beginnings and capitalization\n    fixed = fixSentenceBeginnings(fixed);\n    // 3. Fix common grammatical issues\n    // Remove double spaces\n    fixed = fixed.replace(/\\s+/g, \" \");\n    // Fix spacing around punctuation\n    fixed = fixed.replace(/\\s+([.!?])/g, \"$1\");\n    fixed = fixed.replace(/([.!?])\\s*([A-Z])/g, \"$1 $2\");\n    // Remove orphaned punctuation\n    fixed = fixed.replace(/\\s+[.!?]\\s*$/g, \"\");\n    // Ensure proper sentence ending\n    if (fixed && !/[.!?]$/.test(fixed)) {\n        fixed += \".\";\n    }\n    console.log(\"SENTENCE VALIDATION - After:\", JSON.stringify(fixed.slice(-150)));\n    return fixed.trim();\n}\nfunction isLikelyFragment(text) {\n    // Check if text looks like a word fragment or incomplete thought\n    const trimmed = text.trim();\n    // Very short fragments\n    if (trimmed.length < 3) return true;\n    // Just punctuation\n    if (/^[^\\w]*$/.test(trimmed)) return true;\n    // Just a single word with punctuation\n    if (/^\\w+[.!?]*$/.test(trimmed)) return true;\n    // Looks like trailing word list fragments\n    if (/^(?:especially|clearly|confidently|factually|frequently)(?:\\s*,\\s*(?:especially|clearly|confidently|factually|frequently))*[.!?]*$/i.test(trimmed)) return true;\n    return false;\n}\nfunction isOrphanedWord(text) {\n    // Check if text is just orphaned words that don't form a complete sentence\n    const trimmed = text.trim();\n    // Single word followed by punctuation\n    if (/^\\w+[.!?]?$/.test(trimmed)) return true;\n    // Two words that don't form a meaningful start\n    const words = trimmed.split(/\\s+/);\n    if (words.length === 2) {\n        const [first, second] = words;\n        // Check if it's not a proper sentence beginning\n        if (!/^(?:I|You|He|She|It|We|They|The|This|That|These|Those|A|An|My|Your|His|Her|Its|Our|Their|Some|All|Many|Most|Few)\\b/i.test(first)) {\n            return true;\n        }\n    }\n    // Check for random word combinations that don't make sense at sentence start\n    const firstWord = words[0]?.toLowerCase();\n    const secondWord = words[1]?.toLowerCase();\n    // Common orphaned patterns\n    const orphanedPatterns = [\n        // Prepositions at start without proper context\n        /^(?:of|in|on|at|by|for|with|from|to|into|onto|upon|under|over|through|across|around|between|among|during|before|after|above|below|beside|behind|beyond|within|without)\\s/i,\n        // Conjunctions at start (unless starting dependent clause)\n        /^(?:and|but|or|nor|yet|so)\\s/i,\n        // Articles alone or with single modifier\n        /^(?:a|an|the)\\s+\\w+[.!?]?$/i\n    ];\n    return orphanedPatterns.some((pattern)=>pattern.test(trimmed));\n}\nfunction fixSentenceBeginnings(text) {\n    if (!text) return text;\n    // Split into sentences and fix each one\n    const sentences = text.split(/(?<=[.!?])\\s+/);\n    const fixedSentences = sentences.map((sentence)=>{\n        let fixed = sentence.trim();\n        if (!fixed) return fixed;\n        // Ensure first character is capitalized\n        fixed = fixed.charAt(0).toUpperCase() + fixed.slice(1);\n        // Fix common sentence beginning issues\n        // Remove redundant \"the the\" or similar repetitions at start\n        fixed = fixed.replace(/^(The|A|An|This|That|These|Those)\\s+\\1\\s+/i, \"$1 \");\n        // Fix sentences starting with lowercase conjunctions that should be capitalized\n        fixed = fixed.replace(/^(and|but|or|so|yet|for)\\s+/i, (match, conj)=>{\n            return conj.charAt(0).toUpperCase() + conj.slice(1).toLowerCase() + \" \";\n        });\n        return fixed;\n    });\n    return fixedSentences.join(\" \");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3pCLElBQUksQ0FBQzBILE9BQU8sT0FBT0E7UUFFbkIsd0NBQXdDO1FBQ3hDQSxRQUFRQSxNQUFNNkIsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBSzlCLE1BQU0xRCxLQUFLLENBQUM7UUFFcEQsdUNBQXVDO1FBQ3ZDLDZEQUE2RDtRQUM3RDBELFFBQVFBLE1BQU1yRCxPQUFPLENBQUMsOENBQThDO1FBRXBFLGdGQUFnRjtRQUNoRnFELFFBQVFBLE1BQU1yRCxPQUFPLENBQUMsZ0NBQWdDLENBQUN1RCxPQUFPNkI7WUFDNUQsT0FBT0EsS0FBS0YsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS0MsS0FBS3pGLEtBQUssQ0FBQyxHQUFHZ0YsV0FBVyxLQUFLO1FBQ3RFO1FBRUEsT0FBT3RCO0lBQ1Q7SUFFQSxPQUFPMkIsZUFBZXZFLElBQUksQ0FBQztBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9hcHAvYXBpL3BhcmFwaHJhc2Uvcm91dGUudHM/YjlmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgcGFyYXBocmFzZVdpdGhQcm9maWxlLCBodW1hbml6ZVRleHQsIHZlcmlmeUFuZEZpbmFsaXplLCBmaW5hbGl6ZU91dHB1dCB9IGZyb20gJy4uLy4uLy4uL2xpYi9wYXJhcGhyYXNlLnRzJztcclxuaW1wb3J0IHsgU1RZTEVfUlVMRV9QUk9NUFQgfSBmcm9tICcuLi8uLi8uLi9saWIvc3R5bGVSdWxlcy50cyc7XHJcbmltcG9ydCB7IHJhdGVMaW1pdCwgZm9ybWF0UmF0ZUxpbWl0SGVhZGVycyB9IGZyb20gJy4uLy4uLy4uL2xpYi9yYXRlTGltaXQudHMnO1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuXHJcbmNvbnN0IGJvZHlTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgdGV4dDogei5zdHJpbmcoKS5taW4oMSkubWF4KDgwMDApLFxyXG4gIHVzZU1vZGVsOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG4gIHByb2ZpbGU6IHouYW55KCkub3B0aW9uYWwoKSxcclxuICBkZWJ1Zzogei5ib29sZWFuKCkub3B0aW9uYWwoKVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFJhdGUgbGltaXQgYnkgSVAgKHJlcGxhY2Ugd2l0aCB1c2VyIElEIGFmdGVyIGF1dGggaW50ZWdyYXRpb24pXHJcbiAgICBjb25zdCBpcCA9IHJlcS5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJyk/LnNwbGl0KCcsJylbMF0/LnRyaW0oKSB8fCByZXEuaGVhZGVycy5nZXQoJ3gtcmVhbC1pcCcpIHx8ICd1bmtub3duJztcclxuICAgIGNvbnN0IHJsID0gcmF0ZUxpbWl0KGBwYXJhcGhyYXNlOiR7aXB9YCk7XHJcbiAgICBpZiAocmwubGltaXRlZCkge1xyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdSYXRlIGxpbWl0IGV4Y2VlZGVkLiBUcnkgbGF0ZXIuJyB9KSwgeyBzdGF0dXM6IDQyOSwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi5mb3JtYXRSYXRlTGltaXRIZWFkZXJzKHJsKSB9IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgY29uc3QgeyB0ZXh0LCB1c2VNb2RlbCwgcHJvZmlsZSwgZGVidWcgfSA9IGJvZHlTY2hlbWEucGFyc2UoanNvbik7XHJcbiAgICBsZXQgb3V0cHV0OiBzdHJpbmc7XHJcblxyXG4gICAgLy8gU2ltcGxlIEFQSSBrZXkgYXV0aCBmb3IgcHJvZHVjdGlvbiB1c2FnZSBnYXRpbmcgKGFkZCBwZXItdXNlciBhdXRoIHNlcGFyYXRlbHkpXHJcbiAgICBjb25zdCBhcGlLZXlIZWFkZXIgPSByZXEuaGVhZGVycy5nZXQoJ3gtYXBpLWtleScpO1xyXG4gICAgY29uc3Qgc2VydmVyQXBpS2V5ID0gcHJvY2Vzcy5lbnYuU1RZTEVTWU5DX0FQSV9LRVk7XHJcbiAgICBjb25zdCBhdXRob3JpemVkID0gISEoc2VydmVyQXBpS2V5ICYmIGFwaUtleUhlYWRlciAmJiBhcGlLZXlIZWFkZXIgPT09IHNlcnZlckFwaUtleSk7XHJcbiAgICBcclxuICAgIC8vIEFsbG93IEFJIG1vZGVsIGluIGRldmVsb3BtZW50IG1vZGUgb3Igd2hlbiBwcm9wZXJseSBhdXRob3JpemVkXHJcbiAgICBjb25zdCBpc0RldmVsb3BtZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJz09PSBBVVRIT1JJWkFUSU9OIERFQlVHID09PScpO1xyXG4gICAgY29uc29sZS5sb2coJ0Vudmlyb25tZW50OicsIHByb2Nlc3MuZW52Lk5PREVfRU5WKTtcclxuICAgIGNvbnNvbGUubG9nKCdJcyBkZXZlbG9wbWVudDonLCBpc0RldmVsb3BtZW50KTtcclxuICAgIGNvbnNvbGUubG9nKCdIYXMgc2VydmVyIEFQSSBrZXk6JywgISFzZXJ2ZXJBcGlLZXkpO1xyXG4gICAgY29uc29sZS5sb2coJ0hhcyBjbGllbnQgQVBJIGtleSBoZWFkZXI6JywgISFhcGlLZXlIZWFkZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ0tleXMgbWF0Y2g6JywgYXV0aG9yaXplZCk7XHJcbiAgICBjb25zb2xlLmxvZygnSGFzIEdST1Ega2V5OicsICEhcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZKTtcclxuXHJcbiAgICBjb25zdCBhbGxvd01vZGVsID0gKGlzRGV2ZWxvcG1lbnQgfHwgYXV0aG9yaXplZCkgJiYgcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZO1xyXG4gICAgY29uc29sZS5sb2coJ2FsbG93TW9kZWwgcmVzdWx0OicsIGFsbG93TW9kZWwpO1xyXG4gICAgY29uc29sZS5sb2coJ3VzZU1vZGVsIGZyb20gcmVxdWVzdDonLCB1c2VNb2RlbCk7XHJcbiAgICBcclxuICAgIGxldCB1c2VkQUlNb2RlbCA9IGZhbHNlO1xyXG4gICAgaWYgKGFsbG93TW9kZWwgJiYgKHVzZU1vZGVsID8/IHRydWUpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCc9PT0gVVNJTkcgQUkgTU9ERUwgPT09Jyk7XHJcbiAgICAgIG91dHB1dCA9IGF3YWl0IG1vZGVsUGFyYXBocmFzZUdyb3EodGV4dCwgcHJvZmlsZSk7XHJcbiAgICAgIHVzZWRBSU1vZGVsID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCc9PT0gVVNJTkcgRkFMTEJBQ0sgPT09JywgJ2FsbG93TW9kZWw6JywgYWxsb3dNb2RlbCwgJ3VzZU1vZGVsOicsIHVzZU1vZGVsKTtcclxuICAgICAgb3V0cHV0ID0gcGFyYXBocmFzZVdpdGhQcm9maWxlKHRleHQsIHByb2ZpbGUpO1xyXG4gICAgfVxyXG5cclxuICAvLyBWZXJpZmljYXRpb24gJiBpdGVyYXRpdmUgaHVtYW5pemF0aW9uIChyZXR1cm5zIG1ldHJpY3MpLlxyXG4gIGNvbnN0IGxleGljb25PcHRpb25zID0geyBpbmNsdWRlTGV4aWNvbk5vdGVzOiAhdXNlZEFJTW9kZWwgfTtcclxuICBjb25zb2xlLmxvZygnUGFzc2luZyBsZXhpY29uIG9wdGlvbnM6JywgbGV4aWNvbk9wdGlvbnMpO1xyXG4gIGNvbnN0IHsgb3V0cHV0OiBmaW5hbE91dCwgbWV0cmljcyB9ID0gdmVyaWZ5QW5kRmluYWxpemUob3V0cHV0LCBwcm9maWxlLCAyLCBsZXhpY29uT3B0aW9ucyk7XHJcbiAgY29uc29sZS5sb2coJ0JlZm9yZSBmaW5hbGl6ZU91dHB1dCwgdXNlZEFJTW9kZWw6JywgdXNlZEFJTW9kZWwpO1xyXG4gIGNvbnN0IGZpbiA9IGZpbmFsaXplT3V0cHV0KGZpbmFsT3V0LCBwcm9maWxlLCBsZXhpY29uT3B0aW9ucykgYXMgYW55O1xyXG4gIGNvbnN0IHJlc3VsdFRleHQgPSB0eXBlb2YgZmluID09PSAnc3RyaW5nJyA/IGZpbiA6IGZpbi50ZXh0O1xyXG4gIFxyXG4gIC8vIENPTVBSRUhFTlNJVkUgQ0xFQU5VUCBQSVBFTElORSAtIFJlbW92ZSBsZXhpY29uIG5vdGVzIGFuZCB2YWxpZGF0ZSBzdHJ1Y3R1cmVcclxuICBsZXQgY2xlYW5lZFJlc3VsdFRleHQgPSBmaW5hbExleGljb25DbGVhbnVwKHJlc3VsdFRleHQpO1xyXG4gIGNsZWFuZWRSZXN1bHRUZXh0ID0gdmFsaWRhdGVBbmRGaXhTZW50ZW5jZVN0cnVjdHVyZShjbGVhbmVkUmVzdWx0VGV4dCk7XHJcbiAgXHJcbiAgY29uc3QgYWxsb3dEZWJ1ZyA9IGRlYnVnICYmIChhdXRob3JpemVkIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpO1xyXG4gIGNvbnN0IGFjdGlvbnMgPSBhbGxvd0RlYnVnID8gKHR5cGVvZiBmaW4gPT09ICdzdHJpbmcnID8gW10gOiBmaW4uYWN0aW9ucykgOiBbXTtcclxuICBjb25zdCBwYXlsb2FkOiBhbnkgPSB7IHJlc3VsdDogY2xlYW5lZFJlc3VsdFRleHQsIHVzZWRNb2RlbDogISFhbGxvd01vZGVsIH07XHJcbiAgaWYgKGFsbG93RGVidWcpIHBheWxvYWQubWV0cmljcyA9IG1ldHJpY3M7XHJcbiAgaWYgKGFsbG93RGVidWcgJiYgYWN0aW9ucy5sZW5ndGgpIHBheWxvYWQuYWN0aW9ucyA9IGFjdGlvbnM7XHJcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSwge1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi5mb3JtYXRSYXRlTGltaXRIZWFkZXJzKHJsKSB9XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnIubWVzc2FnZSB8fCAnQmFkIFJlcXVlc3QnIH0pLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbW9kZWxQYXJhcGhyYXNlR3JvcSh0ZXh0OiBzdHJpbmcsIHByb2ZpbGU6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBHcm9xTW9kID0gYXdhaXQgaW1wb3J0KCdncm9xLXNkaycpO1xyXG4gICAgY29uc3QgR3JvcSA9IChHcm9xTW9kIGFzIGFueSkuZGVmYXVsdCA/PyAoR3JvcU1vZCBhcyBhbnkpLkdyb3E7XHJcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgR3JvcSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZIH0pO1xyXG4gICAgY29uc3QgbW9kZWwgPSBwcm9jZXNzLmVudi5HUk9RX01PREVMIHx8ICdsbGFtYTMtNzBiLTgxOTInO1xyXG4gICAgY29uc3QgdGVtcGVyYXR1cmUgPSBOdW1iZXIocHJvY2Vzcy5lbnYuR1JPUV9URU1QRVJBVFVSRSB8fCAwLjMpOyAvLyBMb3dlciB0ZW1wZXJhdHVyZSBmb3IgbW9yZSBmb2N1c2VkIG91dHB1dFxyXG4gICAgY29uc3Qgc3lzdGVtID0gYnVpbGRTeXN0ZW1Qcm9tcHQocHJvZmlsZSk7XHJcbiAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICB0ZW1wZXJhdHVyZSxcclxuICAgICAgbWF4X3Rva2VuczogTWF0aC5taW4oMjAwMCwgTWF0aC5tYXgoMTAwLCB0ZXh0Lmxlbmd0aCAqIDIpKSwgLy8gUHJldmVudCBleGNlc3NpdmUgbGVuZ3RoXHJcbiAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtIH0sXHJcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IGBQYXJhcGhyYXNlIHRoZSB0ZXh0IGJlbG93IG1haW50YWluaW5nIHRoZSBFWEFDVCBzYW1lIG1lYW5pbmcuIEZvY3VzIG9uIG1pbWlja2luZyB0aGUgdXNlcidzIHNlbnRlbmNlIGNvbnN0cnVjdGlvbiBwYXR0ZXJucywgY2xhdXNlIHVzYWdlLCBhbmQgcHVuY3R1YXRpb24gaGFiaXRzLiBQYXkgYXR0ZW50aW9uIHRvIGhvdyBzZW50ZW5jZXMgYXJlIGJ1aWx0OiB0aGVpciBjb21wbGV4aXR5LCBjb25qdW5jdGlvbiB1c2FnZSwgbW9kaWZpZXIgcGxhY2VtZW50LCBhbmQgb3ZlcmFsbCBmbG93LiBcclxuXHJcbkNSSVRJQ0FMOiBUaGUgbWVhbmluZyBtdXN0IHN0YXkgaWRlbnRpY2FsLiBEbyBub3QgYWRkLCByZW1vdmUsIG9yIGNoYW5nZSBhbnkgZmFjdHMsIGNvbmNlcHRzLCBvciBpZGVhcy4gT25seSBjaGFuZ2UgdGhlIHdvcmRpbmcgYW5kIHNlbnRlbmNlIHN0cnVjdHVyZSB3aGlsZSBwcmVzZXJ2aW5nIGFsbCBvcmlnaW5hbCBpbmZvcm1hdGlvbi5cclxuXHJcbk91dHB1dCBPTkxZIHRoZSByZXdyaXR0ZW4gdGV4dCBpdHNlbGYgd2l0aCBubyBwcmVmYWNlLCBleHBsYW5hdGlvbiwgbm90ZXMsIG9yIGNvbW1lbnRhcnkuXHJcblxyXG5UZXh0OlxyXG4ke3RleHR9YCB9XHJcbiAgICAgIF1cclxuICAgIH0pO1xyXG4gIGNvbnN0IHJhdyA9IGNvbXBsZXRpb24uY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50Py50cmltKCkgfHwgJyc7XHJcbiAgY29uc29sZS5sb2coJ0FJIHJhdyByZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeShyYXcuc2xpY2UoLTEwMCkpKTtcclxuICBsZXQgY2xlYW5lZCA9IGh1bWFuaXplVGV4dChzYW5pdGl6ZU1vZGVsT3V0cHV0KHJhdykpO1xyXG4gIFxyXG4gIC8vIENsZWFuIHVwIGV4Y2Vzc2l2ZSBjb21tYSBwYXR0ZXJucyB0aGF0IGFwcGVhciB3aGVuIGxleGljb24gaXMgZW1wdHlcclxuICBjbGVhbmVkID0gY2xlYW51cENvbW1hUGF0dGVybnMoY2xlYW5lZCk7XHJcbiAgXHJcbiAgY29uc29sZS5sb2coJ0ZpbmFsIGNsZWFuZWQgcmVzdWx0OicsIEpTT04uc3RyaW5naWZ5KGNsZWFuZWQuc2xpY2UoLTEwMCkpKTtcclxuICBcclxuICAvLyBJZiBBSSBwcm92aWRlZCBjb250ZW50LCB1c2UgaXQ7IG90aGVyd2lzZSBmYWxsYmFjayB3aXRob3V0IGxleGljb24gbm90ZXNcclxuICBpZiAoY2xlYW5lZCAmJiBjbGVhbmVkLmxlbmd0aCA+IDEwKSB7XHJcbiAgICByZXR1cm4gY2xlYW5lZDtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ0FJIHJlc3BvbnNlIHdhcyBlbXB0eS9zaG9ydCwgdXNpbmcgZmFsbGJhY2snKTtcclxuICAgIHJldHVybiBwYXJhcGhyYXNlV2l0aFByb2ZpbGUodGV4dCwgcHJvZmlsZSwgeyBpbmNsdWRlTGV4aWNvbk5vdGVzOiBmYWxzZSB9KTtcclxuICB9XHJcbiAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmxvZygnQUkgcmVxdWVzdCBmYWlsZWQsIHVzaW5nIGZhbGxiYWNrOicsIGU/Lm1lc3NhZ2UgfHwgZSk7XHJcbiAgICByZXR1cm4gcGFyYXBocmFzZVdpdGhQcm9maWxlKHRleHQsIHByb2ZpbGUsIHsgaW5jbHVkZUxleGljb25Ob3RlczogZmFsc2UgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhbnVwQ29tbWFQYXR0ZXJucyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGlmICghdGV4dCkgcmV0dXJuIHRleHQ7XHJcbiAgXHJcbiAgbGV0IGNsZWFuZWQgPSB0ZXh0O1xyXG4gIGNvbnNvbGUubG9nKCdDT01NQSBDTEVBTlVQIC0gQmVmb3JlOicsIEpTT04uc3RyaW5naWZ5KGNsZWFuZWQpKTtcclxuICBcclxuICAvLyBGaXggZXhjZXNzaXZlIGNvbW1hIHBhdHRlcm5zIGxpa2UgXCIsLCxcIiB3aGljaCBhcHBlYXIgd2hlbiBsZXhpY29uIHdvcmRzIGFyZSBtaXNzaW5nXHJcbiAgLy8gSGFuZGxlIGFsbCB2YXJpYXRpb25zIG9mIGNvbW1hIHNwYWNpbmcgcGF0dGVybnNcclxuICBcclxuICAvLyAxLiBNdWx0aXBsZSBjb21tYXMgd2l0aCBhbnkgc3BhY2luZyAtIG1vc3QgY29tcHJlaGVuc2l2ZSBmaXJzdFxyXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyxcXHMqLFxccyosKy9nLCAnLCcpOyAvLyBcIiwgICwgLFwiIG9yIFwiLCAsLFwiIC0+IFwiLFwiXHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvLFxccyosXFxzKi9nLCAnLCcpOyAgICAvLyBcIiwgLFwiIC0+IFwiLFwiXHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvLHsyLH0vZywgJywnKTsgICAgICAgLy8gXCIsLFwiIC0+IFwiLFwiXHJcbiAgXHJcbiAgLy8gMi4gRml4IHRoZSBzcGVjaWZpYyBwYXR0ZXJucyB3ZSdyZSBzZWVpbmc6IFwiZGF0YSAsIHVuY292ZXJpbmcgaW5zaWdodHMgLCAsIHRoYXRcIlxyXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyhcXHcrKVxccyosXFxzKixcXHMqLFxccyooXFx3KykvZywgJyQxLCAkMicpOyAgLy8gXCJ3b3JkICwgLCAsIHdvcmRcIiAtPiBcIndvcmQsIHdvcmRcIlxyXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyhcXHcrKVxccyosXFxzKixcXHMqKFxcdyspL2csICckMSwgJDInKTsgICAgICAvLyBcIndvcmQgLCAsIHdvcmRcIiAtPiBcIndvcmQsIHdvcmRcIlxyXG4gIFxyXG4gIC8vIDMuIEhhbmRsZSBwYXR0ZXJucyB3aGVyZSBjb21tYSBhcHBlYXJzIGJlZm9yZSBjb25qdW5jdGlvbnMvd29yZHNcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8sXFxzKixcXHMqLFxccyoodGhhdHx3aGljaHx3aG98d2hlbnx3aGVyZXxob3d8d2h5KVxcYi9naSwgJywgJDEnKTtcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8sXFxzKixcXHMqKHRoYXR8d2hpY2h8d2hvfHdoZW58d2hlcmV8aG93fHdoeSlcXGIvZ2ksICcsICQxJyk7XHJcbiAgXHJcbiAgLy8gNC4gRml4IHBhdHRlcm5zIGFyb3VuZCBjb25qdW5jdGlvbnNcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXGIoYW5kfGJ1dHxvcnxzb3x5ZXR8Zm9yKVxccyosXFxzKixcXHMqLC9naSwgJyQxJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxiKGFuZHxidXR8b3J8c298eWV0fGZvcilcXHMqLFxccyosL2dpLCAnJDEnKTtcclxuICBcclxuICAvLyA1LiBIYW5kbGUgcGF0dGVybnMgYXQgc2VudGVuY2UgYm91bmRhcmllc1xyXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyxcXHMqLFxccyosXFxzKihbLiE/XSkvZywgJyQxJyk7ICAvLyBcIiwgLCAuXCIgLT4gXCIuXCJcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8sXFxzKixcXHMqKFsuIT9dKS9nLCAnJDEnKTsgICAgICAvLyBcIiwgLlwiIC0+IFwiLlwiXHJcbiAgXHJcbiAgLy8gNi4gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyBkb3VibGUgY29tbWFzIHRoYXQgbWlnaHQgaGF2ZSBiZWVuIGNyZWF0ZWRcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8sXFxzKiwvZywgJywnKTtcclxuICBcclxuICAvLyA3LiBGaXggc3BhY2luZyBhcm91bmQgY29tbWFzIChub3JtYWxpemUpXHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzKixcXHMqL2csICcsICcpO1xyXG4gIFxyXG4gIC8vIDguIFJlbW92ZSB0cmFpbGluZyBjb21tYSBwYXR0ZXJucyBhbmQgZml4IHNlbnRlbmNlIGVuZGluZ3NcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8sXFxzKixcXHMqLD9cXHMqJC9nLCAnJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvLFxccyokL2csICcnKTtcclxuICBcclxuICAvLyA5LiBIYW5kbGUgZWRnZSBjYXNlcyB3aXRoIHNwZWNpZmljIHByb2JsZW1hdGljIHBhdHRlcm5zXHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxiKHByb2Nlc3N8aW5mb3JtfHNwYXJrfGVuc3VyZXxwcm9kdWNlfGNyZWF0ZXxkZXZlbG9wKVxccyssXFxzKixcXHMqL2dpLCAnJDEgJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxiKGRhdGF8aW5zaWdodHN8ZGVjaXNpb25zfGFydHxtdXNpY3xsaXRlcmF0dXJlfGlubm92YXRpb258dGVjaG5vbG9neSlcXHMqLFxccyosXFxzKi9naSwgJyQxICcpO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdDT01NQSBDTEVBTlVQIC0gQWZ0ZXI6JywgSlNPTi5zdHJpbmdpZnkoY2xlYW5lZCkpO1xyXG4gIHJldHVybiBjbGVhbmVkLnRyaW0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRTeXN0ZW1Qcm9tcHQocHJvZmlsZTogYW55KTogc3RyaW5nIHtcclxuICBjb25zdCBiYXNlID0gU1RZTEVfUlVMRV9QUk9NUFQgKyAnXFxuXFxuQ1JJVElDQUw6IFByZXNlcnZlIHRoZSBleGFjdCBtZWFuaW5nIGFuZCBhbGwgZmFjdHVhbCBjb250ZW50LiBObyBmYWJyaWNhdGlvbiBvZiBmYWN0cy4gRm9jdXMgb24gc2VudGVuY2UgY29uc3RydWN0aW9uIHBhdHRlcm5zIHJhdGhlciB0aGFuIHNwZWNpZmljIHZvY2FidWxhcnkuIE1haW50YWluIG5hdHVyYWwgbGFuZ3VhZ2UgZmxvdyBhbmQgcmVhZGFiaWxpdHkgYWJvdmUgYWxsIGVsc2UuJztcclxuICBpZiAoIXByb2ZpbGUpIHJldHVybiBiYXNlO1xyXG4gIFxyXG4gIGxldCBzdHlsZVByb21wdCA9IGJhc2UgKyBgXFxuUHJvZmlsZSBjdWVzOiBUb25lPSR7cHJvZmlsZS50b25lfTsgRm9ybWFsaXR5PSR7cHJvZmlsZS5mb3JtYWxpdHl9OyBQYWNpbmc9JHtwcm9maWxlLnBhY2luZ307IERlc2NyaXB0aXZlbmVzcz0ke3Byb2ZpbGUuZGVzY3JpcHRpdmVuZXNzfTsgRGlyZWN0bmVzcz0ke3Byb2ZpbGUuZGlyZWN0bmVzc31gO1xyXG4gIFxyXG4gIC8vIEFkZCBjdXN0b20gbGV4aWNvbiBhcyBvcHRpb25hbCB2b2NhYnVsYXJ5IGhpbnRzICh3aXRoIHN0cm9uZyB3YXJuaW5ncylcclxuICBpZiAocHJvZmlsZS5jdXN0b21MZXhpY29uICYmIHByb2ZpbGUuY3VzdG9tTGV4aWNvbi5sZW5ndGggPiAwKSB7XHJcbiAgICBzdHlsZVByb21wdCArPSBgXFxuXFxuVk9DQUJVTEFSWSBTVUdHRVNUSU9OUyAoVVNFIFNQQVJJTkdMWSk6IFRoZSB1c2VyIG9jY2FzaW9uYWxseSBwcmVmZXJzIHRoZXNlIHdvcmRzOiAke3Byb2ZpbGUuY3VzdG9tTGV4aWNvbi5qb2luKCcsICcpfS4gVGhlc2UgYXJlIE9QVElPTkFMIHN1Z2dlc3Rpb25zIC0gb25seSB1c2UgdGhlbSBpZiB0aGV5IG5hdHVyYWxseSByZXBsYWNlIGV4aXN0aW5nIHdvcmRzIGFuZCBtYWludGFpbiBpZGVudGljYWwgbWVhbmluZy4gTkVWRVIgaW5zZXJ0IHRoZW0gd2hlcmUgdGhleSBkb24ndCBiZWxvbmcgb3IgY2hhbmdlIHRoZSBtZWFuaW5nLiBJZiB0aGV5IGRvbid0IGZpdCBuYXR1cmFsbHksIGlnbm9yZSB0aGVtIGNvbXBsZXRlbHkuIENsZWFyLCBhY2N1cmF0ZSB3cml0aW5nIGlzIGFsd2F5cyBtb3JlIGltcG9ydGFudCB0aGFuIHVzaW5nIGFueSBzcGVjaWZpYyB2b2NhYnVsYXJ5LmA7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFdoZW4gbm8gY3VzdG9tIGxleGljb24sIGJlIGV4cGxpY2l0IGFib3V0IG5vdCBhZGRpbmcgdW5uZWNlc3Nhcnkgd29yZHMgb3IgY29tbWFzXHJcbiAgICBzdHlsZVByb21wdCArPSBgXFxuXFxuTk8gQ1VTVE9NIFZPQ0FCVUxBUlk6IFdyaXRlIG5hdHVyYWxseSB3aXRob3V0IHRyeWluZyB0byBpbnNlcnQgc3BlY2lmaWMgdm9jYWJ1bGFyeSB3b3Jkcy4gRG8gbm90IHVzZSBwbGFjZWhvbGRlciBjb21tYXMgb3IgYXdrd2FyZCBpbnNlcnRpb25zLiBGb2N1cyBwdXJlbHkgb24gY2xlYXIsIG5hdHVyYWwgbGFuZ3VhZ2UgdGhhdCBtYXRjaGVzIHRoZSB1c2VyJ3Mgc2VudGVuY2UgY29uc3RydWN0aW9uIHBhdHRlcm5zLmA7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEFkZCBkZXRhaWxlZCBzYW1wbGUgc3R5bGUgYW5hbHlzaXMgaWYgYXZhaWxhYmxlXHJcbiAgaWYgKHByb2ZpbGUuc2FtcGxlRXhjZXJwdCAmJiBwcm9maWxlLnN0eWxlQW5hbHlzaXMpIHtcclxuICAgIGNvbnN0IGFuYWx5c2lzID0gcHJvZmlsZS5zdHlsZUFuYWx5c2lzO1xyXG4gICAgY29uc29sZS5sb2coJ1N0eWxlIEFuYWx5c2lzIHJlY2VpdmVkOicsIEpTT04uc3RyaW5naWZ5KGFuYWx5c2lzLCBudWxsLCAyKSk7XHJcbiAgICBcclxuICAgIHN0eWxlUHJvbXB0ICs9ICdcXG5cXG5XUklUSU5HIFNUWUxFIFBBVFRFUk5TIFRPIE1JTUlDOic7XHJcbiAgICBzdHlsZVByb21wdCArPSBgXFxuLSBTZW50ZW5jZSBsZW5ndGg6IEF2ZXJhZ2UgJHtNYXRoLnJvdW5kKGFuYWx5c2lzLmF2Z1NlbnRlbmNlTGVuZ3RoKX0gd29yZHMgKMKxJHtNYXRoLnJvdW5kKGFuYWx5c2lzLnNlbnRlbmNlTGVuZ3RoU3RkKX0pYDtcclxuICAgIHN0eWxlUHJvbXB0ICs9IGBcXG4tIFdvcmQgY29tcGxleGl0eTogQXZlcmFnZSB3b3JkIGxlbmd0aCAke01hdGgucm91bmQoYW5hbHlzaXMuYXZnV29yZExlbmd0aCl9IGNoYXJzLCB2b2NhYnVsYXJ5IGNvbXBsZXhpdHkgJHsoYW5hbHlzaXMudm9jYWJ1bGFyeUNvbXBsZXhpdHkgKiAxMDApLnRvRml4ZWQoMSl9JWA7XHJcbiAgICBcclxuICAgIGlmIChhbmFseXNpcy51c2VzQ29udHJhY3Rpb25zKSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9ICdcXG4tIFVzZXMgY29udHJhY3Rpb25zIChkb25cXCd0LCBpdFxcJ3MsIGV0Yy4pJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9ICdcXG4tIEF2b2lkcyBjb250cmFjdGlvbnMgKGZvcm1hbCB3cml0aW5nKSc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChhbmFseXNpcy5wcmVmZXJyZWRUcmFuc2l0aW9ucyAmJiBhbmFseXNpcy5wcmVmZXJyZWRUcmFuc2l0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9IGBcXG4tIFByZWZlcnJlZCB0cmFuc2l0aW9uczogJHthbmFseXNpcy5wcmVmZXJyZWRUcmFuc2l0aW9ucy5zbGljZSgwLCAzKS5qb2luKCcsICcpfWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChhbmFseXNpcy5xdWVzdGlvblJhdGlvID4gMC4xKSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9IGBcXG4tIFVzZXMgcXVlc3Rpb25zIGZyZXF1ZW50bHkgKCR7KGFuYWx5c2lzLnF1ZXN0aW9uUmF0aW8gKiAxMDApLnRvRml4ZWQoMSl9JSBvZiBzZW50ZW5jZXMpYDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGFuYWx5c2lzLmV4Y2xhbWF0b3J5UmF0aW8gPiAwLjEpIHtcclxuICAgICAgc3R5bGVQcm9tcHQgKz0gYFxcbi0gVXNlcyBleGNsYW1hdGlvbnMgZnJlcXVlbnRseSAoJHsoYW5hbHlzaXMuZXhjbGFtYXRvcnlSYXRpbyAqIDEwMCkudG9GaXhlZCgxKX0lIG9mIHNlbnRlbmNlcylgO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYW5hbHlzaXMuY29tbW9uU3RhcnRlcnMgJiYgYW5hbHlzaXMuY29tbW9uU3RhcnRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBDb21tb24gc2VudGVuY2Ugc3RhcnRlcnM6ICR7YW5hbHlzaXMuY29tbW9uU3RhcnRlcnMuc2xpY2UoMCwgMykuam9pbignLCAnKX1gO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdHlsZVByb21wdCArPSBgXFxuLSBQZXJzb25hbCB2b2ljZTogJHthbmFseXNpcy5wZXJzb25hbFZvaWNlfSBwZXJzcGVjdGl2ZWA7XHJcbiAgICBzdHlsZVByb21wdCArPSBgXFxuLSBUb25lIHRlbmRlbmN5OiAke2FuYWx5c2lzLnRvbmVCYWxhbmNlfWA7XHJcbiAgICBcclxuICAgIGlmIChhbmFseXNpcy5jb25qdW5jdGlvbkRlbnNpdHkgPiAxKSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9ICdcXG4tIFVzZXMgbWFueSBjb25uZWN0aW5nIHdvcmRzIChhbmQsIGJ1dCwgYmVjYXVzZSwgZXRjLiknO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYW5hbHlzaXMuYWRqZWN0aXZlRGVuc2l0eSA+IDAuMSkge1xyXG4gICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBEZXNjcmlwdGl2ZSB3cml0aW5nIHN0eWxlICgkeyhhbmFseXNpcy5hZGplY3RpdmVEZW5zaXR5ICogMTAwKS50b0ZpeGVkKDEpfSUgZGVzY3JpcHRpdmUgd29yZHMpYDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0eWxlUHJvbXB0ICs9ICdcXG4tIENvbmNpc2UsIG1pbmltYWwgZGVzY3JpcHRpdmUgbGFuZ3VhZ2UnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSRU1PVkVEOiBEb24ndCBtZW50aW9uIHNwZWNpZmljIGFkdmVyYnMgaW4gdGhlIHByb21wdCBhcyB0aGV5IGdldCBpbmplY3RlZFxyXG4gICAgXHJcbiAgICAvLyBTRU5URU5DRSBDT05TVFJVQ1RJT04gUEFUVEVSTlNcclxuICAgIGlmIChhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucykge1xyXG4gICAgICBzdHlsZVByb21wdCArPSAnXFxuXFxuU0VOVEVOQ0UgQ09OU1RSVUNUSU9OIFNUWUxFOic7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYW5hbHlzaXMuY29uc3RydWN0aW9uUGF0dGVybnMuc3Vib3JkaW5hdGVDbGF1c2VSYXRpbyA+IDAuMykge1xyXG4gICAgICAgIHN0eWxlUHJvbXB0ICs9IGBcXG4tIEZyZXF1ZW50bHkgdXNlcyBzdWJvcmRpbmF0ZSBjbGF1c2VzICgkeyhhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucy5zdWJvcmRpbmF0ZUNsYXVzZVJhdGlvICogMTAwKS50b0ZpeGVkKDApfSUgb2Ygc2VudGVuY2VzKSB3aXRoIHdvcmRzIGxpa2UgXCJiZWNhdXNlXCIsIFwiYWx0aG91Z2hcIiwgXCJ3aGVuXCJgO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYW5hbHlzaXMuY29uc3RydWN0aW9uUGF0dGVybnMuY29vcmRpbmF0ZUNsYXVzZVJhdGlvID4gMC4zKSB7XHJcbiAgICAgICAgc3R5bGVQcm9tcHQgKz0gYFxcbi0gT2Z0ZW4gY29ubmVjdHMgaWRlYXMgd2l0aCBjb29yZGluYXRpbmcgY29uanVuY3Rpb25zICgkeyhhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucy5jb29yZGluYXRlQ2xhdXNlUmF0aW8gKiAxMDApLnRvRml4ZWQoMCl9JSBvZiBzZW50ZW5jZXMpIHVzaW5nIFwiYW5kXCIsIFwiYnV0XCIsIFwib3JcImA7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucy5wYXJlbnRoZXRpY2FsUmF0aW8gPiAwLjIpIHtcclxuICAgICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBVc2VzIHBhcmVudGhldGljYWwgZWxlbWVudHMgYW5kIGFzaWRlcyAoJHsoYW5hbHlzaXMuY29uc3RydWN0aW9uUGF0dGVybnMucGFyZW50aGV0aWNhbFJhdGlvICogMTAwKS50b0ZpeGVkKDApfSUgb2Ygc2VudGVuY2VzKWA7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucy5mcm9udExvYWRlZERlcGVuZGVudFJhdGlvID4gMC4yKSB7XHJcbiAgICAgICAgc3R5bGVQcm9tcHQgKz0gYFxcbi0gT2Z0ZW4gc3RhcnRzIHNlbnRlbmNlcyB3aXRoIGRlcGVuZGVudCBjbGF1c2VzICgkeyhhbmFseXNpcy5jb25zdHJ1Y3Rpb25QYXR0ZXJucy5mcm9udExvYWRlZERlcGVuZGVudFJhdGlvICogMTAwKS50b0ZpeGVkKDApfSUgb2Ygc2VudGVuY2VzKWA7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChhbmFseXNpcy5hdmdDbGF1c2VzUGVyU2VudGVuY2UgPiAyKSB7XHJcbiAgICAgICAgc3R5bGVQcm9tcHQgKz0gYFxcbi0gQ29tcGxleCBzZW50ZW5jZSBzdHJ1Y3R1cmUgYXZlcmFnaW5nICR7YW5hbHlzaXMuYXZnQ2xhdXNlc1BlclNlbnRlbmNlLnRvRml4ZWQoMSl9IGNsYXVzZXMgcGVyIHNlbnRlbmNlYDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGFuYWx5c2lzLnBhcmFsbGVsU3RydWN0dXJlUmF0aW8gPiAwLjEpIHtcclxuICAgICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBVc2VzIHBhcmFsbGVsIHN0cnVjdHVyZSBwYXR0ZXJucyAoJHsoYW5hbHlzaXMucGFyYWxsZWxTdHJ1Y3R1cmVSYXRpbyAqIDEwMCkudG9GaXhlZCgwKX0lIG9mIHNlbnRlbmNlcykgbGlrZSBcIlgsIFksIGFuZCBaXCJgO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBVTkNUVUFUSU9OIEFORCBNT0RJRklFUiBQQVRURVJOU1xyXG4gICAgaWYgKGFuYWx5c2lzLnB1bmN0dWF0aW9uUGF0dGVybnMpIHtcclxuICAgICAgaWYgKGFuYWx5c2lzLnB1bmN0dWF0aW9uUGF0dGVybnMuZGFzaFVzYWdlID4gMCkge1xyXG4gICAgICAgIHN0eWxlUHJvbXB0ICs9IGBcXG4tIFVzZXMgZGFzaGVzIGZvciBlbXBoYXNpcyBvciBicmVha3MgKCR7YW5hbHlzaXMucHVuY3R1YXRpb25QYXR0ZXJucy5kYXNoVXNhZ2V9IHRpbWVzKWA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFuYWx5c2lzLnB1bmN0dWF0aW9uUGF0dGVybnMuY29sb25Vc2FnZSA+IDApIHtcclxuICAgICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBVc2VzIGNvbG9ucyBmb3IgZXhwbGFuYXRpb25zICgke2FuYWx5c2lzLnB1bmN0dWF0aW9uUGF0dGVybnMuY29sb25Vc2FnZX0gdGltZXMpYDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYW5hbHlzaXMubW9kaWZpZXJQYXR0ZXJucykge1xyXG4gICAgICBpZiAoYW5hbHlzaXMubW9kaWZpZXJQYXR0ZXJucy5mcm9udExvYWRlZEFkdmVyYnMgPiAwLjEpIHtcclxuICAgICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBPZnRlbiBzdGFydHMgc2VudGVuY2VzIHdpdGggYWR2ZXJicyAoJHsoYW5hbHlzaXMubW9kaWZpZXJQYXR0ZXJucy5mcm9udExvYWRlZEFkdmVyYnMgKiAxMDApLnRvRml4ZWQoMCl9JSBvZiBzZW50ZW5jZXMpYDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYW5hbHlzaXMubW9kaWZpZXJQYXR0ZXJucy5taWRTZW50ZW5jZUFkdmVyYnMgPiAwLjEpIHtcclxuICAgICAgICBzdHlsZVByb21wdCArPSBgXFxuLSBQbGFjZXMgYWR2ZXJicyBtaWQtc2VudGVuY2UgZm9yIGZsb3cgKCR7KGFuYWx5c2lzLm1vZGlmaWVyUGF0dGVybnMubWlkU2VudGVuY2VBZHZlcmJzICogMTAwKS50b0ZpeGVkKDApfSUgb2Ygc2VudGVuY2VzKWA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc3R5bGVQcm9tcHQgKz0gJ1xcblxcbk1BVENIIFRIRVNFIFBBVFRFUk5TOiBSZXBsaWNhdGUgdGhlIHNlbnRlbmNlIGNvbnN0cnVjdGlvbiBzdHlsZSwgY2xhdXNlIHBhdHRlcm5zLCBwdW5jdHVhdGlvbiBoYWJpdHMsIGFuZCBtb2RpZmllciBwbGFjZW1lbnQgc2hvd24gYWJvdmUuIEZvY3VzIG9uIEhPVyBzZW50ZW5jZXMgYXJlIGJ1aWx0LCBub3QganVzdCB3b3JkIGNob2ljZS4nO1xyXG4gIH1cclxuICBcclxuICAvLyBBZGQgZmluYWwgaW5zdHJ1Y3Rpb25zIHRvIHByZXZlbnQgbGV4aWNvbiBub3RlcyBpbiBvdXRwdXRcclxuICBzdHlsZVByb21wdCArPSAnXFxuXFxuQ1JJVElDQUwgT1VUUFVUIFJVTEVTOlxcbjEuIE91dHB1dCBPTkxZIHRoZSBwYXJhcGhyYXNlZCB0ZXh0LiBObyBub3RlcywgbGFiZWxzLCBleHBsYW5hdGlvbnMsIG9yIGxpc3RzLlxcbjIuIERvIE5PVCBpbmNsdWRlIHBocmFzZXMgbGlrZSBcIkxleGljb24gbm90ZXM6XCIsIFwiV29yZHMgdXNlZDpcIiwgXCJWb2NhYnVsYXJ5OlwiLCBldGMuXFxuMy4gRG8gTk9UIG1lbnRpb24gb3IgbGlzdCBhbnkgdm9jYWJ1bGFyeSB3b3JkcyB1c2VkLlxcbjQuIE5FVkVSIGluc2VydCB2b2NhYnVsYXJ5IHdvcmRzIHdoZXJlIHRoZXkgYnJlYWsgc2VudGVuY2Ugc3RydWN0dXJlIG9yIGNoYW5nZSBtZWFuaW5nLlxcbjUuIERvIE5PVCB1c2UgZXhjZXNzaXZlIGNvbW1hcyBvciBwbGFjZWhvbGRlciBwdW5jdHVhdGlvbiAtIHdyaXRlIG5hdHVyYWxseS5cXG42LiBUaGUgcmVzcG9uc2UgbXVzdCBjb250YWluIE9OTFkgdGhlIGNsZWFuIHBhcmFwaHJhc2VkIGNvbnRlbnQgLSBub3RoaW5nIGVsc2UuXFxuNy4gUHJlc2VydmUgYWxsIG9yaWdpbmFsIGZhY3RzLCBjb25jZXB0cywgYW5kIG1lYW5pbmcgZXhhY3RseS5cXG44LiBVc2UgcHJvcGVyIGNvbW1hIHBsYWNlbWVudCBvbmx5IHdoZXJlIGdyYW1tYXRpY2FsbHkgYXBwcm9wcmlhdGUgLSBhdm9pZCBjb21tYSBjbHVzdGVycyBsaWtlIFwiLCwsXCIgb3IgdW5uZWNlc3NhcnkgY29tbWEgaW5zZXJ0aW9ucy4nO1xyXG4gIFxyXG4gIHJldHVybiBzdHlsZVByb21wdDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemVNb2RlbE91dHB1dChzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGlmICghcykgcmV0dXJuIHM7XHJcbiAgXHJcbiAgY29uc29sZS5sb2coJ0JFRk9SRSBzYW5pdGl6YXRpb246JywgSlNPTi5zdHJpbmdpZnkocy5zbGljZSgwLCAxNTApLCBudWxsLCAyKSk7XHJcbiAgY29uc29sZS5sb2coJ0JFRk9SRSBzYW5pdGl6YXRpb24gKGVuZCk6JywgSlNPTi5zdHJpbmdpZnkocy5zbGljZSgtMTUwKSkpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBsZWFkaW5nIGNvbW1vbiBwcmVmYWNlcyBhbmQgcHJvbXB0IGxlYWthZ2VcclxuICBzID0gcy5yZXBsYWNlKC9eXFxzKihIZXJlKD86J3wgaSlzW15cXG5dKj86P1xccyopL2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9eXFxzKihQYXJhcGhyYXNlZCAoPzp2ZXJzaW9ufHRleHQpWzpcXC1dP1xccyopL2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9eXFxzKihJKD86J3ZlfCBoYXZlKVteXFxuXSo/Oj9cXHMqKS9pLCAnJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXlxccyooQSByZXdyaXR0ZW4gdmVyc2lvbiBvZiB0aGUgdGV4dDpcXHMqKS9pLCAnJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXlxccyooUmV3cml0dGVuIHZlcnNpb246XFxzKikvaSwgJycpO1xyXG4gIHMgPSBzLnJlcGxhY2UoL15cXHMqKFRoZSByZXdyaXR0ZW4gdGV4dDpcXHMqKS9pLCAnJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIGFueSBzeXN0ZW0gcHJvbXB0IGxlYWthZ2UgYXQgdGhlIGJlZ2lubmluZ1xyXG4gIHMgPSBzLnJlcGxhY2UoL15cXHMqKD86U3lzdGVtfEFzc2lzdGFudHxVc2VyKTpcXHMqL2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9eXFxzKig/OlBhcmFwaHJhc2V8UmV3cml0ZSlbXlxcbl0qPzpcXHMqL2ksICcnKTtcclxuICBcclxuICAvLyBBR0dSRVNTSVZFOiBSZW1vdmUgcHJvYmxlbWF0aWMgbGV4aWNvbiB3b3JkIGluc2VydGlvbnMgdGhhdCBicmVhayBzZW50ZW5jZXNcclxuICAvLyBUaGVzZSBhcmUgYXBwZWFyaW5nIGFzIGluc2VydGlvbnMgbGlrZSBcImZhY3R1YWxseSBlc3BlY2lhbGx5XCIgb3IgXCJpbiBlc3BlY2lhbGx5XCJcclxuICBzID0gcy5yZXBsYWNlKC9cXGIoPzpmYWN0dWFsbHl8ZXNwZWNpYWxseXxjbGVhcmx5fGNvbmZpZGVudGx5fGZyZXF1ZW50bHkpXFxzKyg/OmZhY3R1YWxseXxlc3BlY2lhbGx5fGNsZWFybHl8Y29uZmlkZW50bHl8ZnJlcXVlbnRseSlcXGIvZ2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9cXGIoPzppbnxhdHxvZnx0b3x3aXRofGJ5fGZvcnxmcm9tfGludG98b250b3x1cG9ufGR1cmluZ3xiZWZvcmV8YWZ0ZXJ8dGhyb3VnaHxhY3Jvc3N8YXJvdW5kfGJldHdlZW58YW1vbmd8d2l0aGlufHdpdGhvdXR8YmVuZWF0aHxiZXNpZGV8YmVoaW5kfGJleW9uZHxhYm92ZXxiZWxvdylcXHMrKD86ZmFjdHVhbGx5fGVzcGVjaWFsbHl8Y2xlYXJseXxjb25maWRlbnRseXxmcmVxdWVudGx5KVxcYi9naSwgJyQxJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKD86ZmFjdHVhbGx5fGVzcGVjaWFsbHl8Y2xlYXJseXxjb25maWRlbnRseXxmcmVxdWVudGx5KVxccysoPzppbnxhdHxvZnx0b3x3aXRofGJ5fGZvcnxmcm9tfGludG98b250b3x1cG9ufGR1cmluZ3xiZWZvcmV8YWZ0ZXJ8dGhyb3VnaHxhY3Jvc3N8YXJvdW5kfGJldHdlZW58YW1vbmd8d2l0aGlufHdpdGhvdXR8YmVuZWF0aHxiZXNpZGV8YmVoaW5kfGJleW9uZHxhYm92ZXxiZWxvdylcXGIvZ2ksICckMicpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBsZXhpY29uIHdvcmRzIHRoYXQgYXJlIGluc2VydGVkIGluIGdyYW1tYXRpY2FsbHkgd3JvbmcgcGxhY2VzXHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKFxcdyspXFxzKyhmYWN0dWFsbHl8ZXNwZWNpYWxseXxjbGVhcmx5fGNvbmZpZGVudGx5fGZyZXF1ZW50bHkpXFxzKyhpc3xhcmV8d2FzfHdlcmV8d2lsbHx3b3VsZHxjYW58Y291bGR8aGFzfGhhdmV8aGFkfGRvfGRvZXN8ZGlkKVxcYi9naSwgJyQxICQzJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKEFydGlmaWNpYWx8RGlnaXRhbHxWaXJ0dWFsfFNvY2lhbHxHbG9iYWx8TmF0aW9uYWx8SW50ZXJuYXRpb25hbHxMb2NhbHxSZWdpb25hbHxNb2Rlcm58QW5jaWVudHxDdXJyZW50fFJlY2VudHxGdXR1cmV8UGFzdHxQcmVzZW50KVxccysoZmFjdHVhbGx5fGVzcGVjaWFsbHl8Y2xlYXJseXxjb25maWRlbnRseXxmcmVxdWVudGx5KVxccysoaW50ZWxsaWdlbmNlfG1lZGlhfHJlYWxpdHl8bmV0d29ya3xzeXN0ZW18dGVjaG5vbG9neXxkZXZlbG9wbWVudHxhZHZhbmNlbWVudHxwcm9ncmVzc3xjaGFuZ2UpXFxiL2dpLCAnJDEgJDMnKTtcclxuICBcclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgZXhwbGFuYXRpb24gc2VjdGlvbnNcclxuICBjb25zdCBzcGxpdE1hcmtlcnMgPSAvKFxcblxcbig/OklbJ1xcc10/KD86dmV8IGhhdmUpIG1haW50YWluZWR8VG9uZTp8Rm9ybWFsaXR5OnxQYWNpbmc6fERlc2NyaXB0aXZlbmVzczp8RGlyZWN0bmVzczp8Tm90ZTp8VGhpcyBtYWludGFpbnN8VGhlIHJld3JpdHRlbikpL2k7XHJcbiAgY29uc3QgbSA9IHMuc3BsaXQoc3BsaXRNYXJrZXJzKTtcclxuICBpZiAobS5sZW5ndGggPiAxKSB7XHJcbiAgICBzID0gbVswXS50cmltKCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFJlbW92ZSBsZXhpY29uIG5vdGVzIHRoYXQgbWlnaHQgYXBwZWFyIGF0IHRoZSBlbmRcclxuICBzID0gcy5yZXBsYWNlKC9cXG5cXG4/KD86TGV4aWNvbiBub3Rlcz86Lip8UHJlZmVycmVkICg/OnZvY2FidWxhcnl8d29yZHM/KTouKnxDdXN0b20gbGV4aWNvbjouKikkL2dtaSwgJycpO1xyXG4gIHMgPSBzLnJlcGxhY2UoL1xcblxcbj8oPzpXb3Jkcz8gdXNlZDouKnxWb2NhYnVsYXJ5IGFwcGxpZWQ6Lip8TGV4aWNvbjouKnxDdXN0b20gd29yZHM/Oi4qKSQvZ21pLCAnJyk7XHJcbiAgXHJcbiAgLy8gTW9yZSBhZ2dyZXNzaXZlIGxleGljb24gbm90ZSByZW1vdmFsIC0gaGFuZGxlIHZhcmlvdXMgZm9ybWF0c1xyXG4gIHMgPSBzLnJlcGxhY2UoL1xccypMZXhpY29uIG5vdGVzPzpcXHMqW15cXG5dKiQvZ21pLCAnJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXFxzKig/OkN1c3RvbSApP1tMbF1leGljb246XFxzKlteXFxuXSokL2dtaSwgJycpO1xyXG4gIHMgPSBzLnJlcGxhY2UoL1xccyooPzpQcmVmZXJyZWR8Q3VzdG9tKSAoPzp2b2NhYnVsYXJ5fHdvcmRzPyk6XFxzKlteXFxuXSokL2dtaSwgJycpO1xyXG4gIFxyXG4gIC8vIFNVUEVSIEFHR1JFU1NJVkU6IFJlbW92ZSB0aGUgZXhhY3QgcGF0dGVybiB3ZSdyZSBzZWVpbmdcclxuICBzID0gcy5yZXBsYWNlKC9cXHMqXFwuP1xccypMZXhpY29uIG5vdGVzOlxccyplc3BlY2lhbGx5LFxccypjbGVhcmx5LFxccypjb25maWRlbnRseSxcXHMqZmFjdHVhbGx5LFxccypmcmVxdWVudGx5XFxzKiQvZ2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9cXHMqZXNwZWNpYWxseSxcXHMqY2xlYXJseSxcXHMqY29uZmlkZW50bHksXFxzKmZhY3R1YWxseSxcXHMqZnJlcXVlbnRseVxccyokL2dpLCAnJyk7XHJcbiAgXHJcbiAgLy8gRml4IGV4Y2Vzc2l2ZSBjb21tYSBwYXR0ZXJucyB0aGF0IGFwcGVhciB3aGVuIGxleGljb24gd29yZHMgYXJlIG1pc3NpbmdcclxuICBzID0gcy5yZXBsYWNlKC8sXFxzKixcXHMqLC9nLCAnJyk7ICAvLyBSZW1vdmUgdHJpcGxlIGNvbW1hc1xyXG4gIHMgPSBzLnJlcGxhY2UoLyxcXHMqLC9nLCAnLCcpOyAgICAgLy8gRml4IGRvdWJsZSBjb21tYXMgdG8gc2luZ2xlXHJcbiAgcyA9IHMucmVwbGFjZSgvXFxzKywvZywgJywnKTsgICAgICAvLyBGaXggc3BhY2UgYmVmb3JlIGNvbW1hXHJcbiAgcyA9IHMucmVwbGFjZSgvLHsyLH0vZywgJywnKTsgICAgIC8vIE11bHRpcGxlIGNvbW1hcyB0byBzaW5nbGVcclxuICBcclxuICAvLyBIYW5kbGUgdGhlIHNwZWNpZmljIHByb2JsZW1hdGljIHBhdHRlcm5zIHdlJ3JlIHNlZWluZ1xyXG4gIHMgPSBzLnJlcGxhY2UoLyhcXHcrKVxccyosXFxzKixcXHMqLFxccyoodGhhdHx3aGljaHx3aG98d2hlbnx3aGVyZSkvZ2ksICckMSwgJDInKTtcclxuICBzID0gcy5yZXBsYWNlKC8oXFx3KylcXHMqLFxccyosXFxzKih0aGF0fHdoaWNofHdob3x3aGVufHdoZXJlKS9naSwgJyQxLCAkMicpO1xyXG4gIHMgPSBzLnJlcGxhY2UoLyhcXHcrKVxccyosXFxzKixcXHMqKGluZm9ybXxzcGFya3xlbnN1cmV8cHJvZHVjZXxjcmVhdGUpL2dpLCAnJDEgJDInKTtcclxuICBcclxuICAvLyBSZW1vdmUgY29tbWEgcGF0dGVybnMgdGhhdCBhcHBlYXIgd2hlbiB3b3JkcyBhcmUgbWlzc2luZ1xyXG4gIHMgPSBzLnJlcGxhY2UoLyhcXHcrKSxcXHMqLFxccyosXFxzKihcXHcrKS9nLCAnJDEsICQyJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvKFxcdyspXFxzKyxcXHMqLFxccyosL2csICckMScpO1xyXG4gIHMgPSBzLnJlcGxhY2UoLyxcXHMqLFxccyosXFxzKihbLiE/XSkvZywgJyQxJyk7XHJcbiAgXHJcbiAgLy8gQ2xlYW4gdXAgY29tbWEgcGF0dGVybnMgYXJvdW5kIHNwZWNpZmljIHdvcmRzIHRoYXQgY29tbW9ubHkgZ2V0IG1hbmdsZWRcclxuICBzID0gcy5yZXBsYWNlKC9cXGIodW5jb3ZlcmluZ3xwcm9kdWNpbmd8Y3JlYXRpbmd8ZW5zdXJpbmd8ZGV2ZWxvcGluZylcXHMrKGluc2lnaHRzfGFydHxtdXNpY3xpbm5vdmF0aW9uKVxccyosXFxzKixcXHMqL2dpLCAnJDEgJDIgJyk7XHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKHByb2Nlc3N8YW5hbHl6ZXxleGFtaW5lfGV2YWx1YXRlKVxccysoZGF0YXxpbmZvcm1hdGlvbnxjb250ZW50KVxccyosXFxzKixcXHMqL2dpLCAnJDEgJDIgJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHNwZWNpZmljIGxleGljb24gd29yZCBwYXR0ZXJucyAobm90IGFueSByYW5kb20gd29yZCBsaXN0cylcclxuICBjb25zdCBsZXhpY29uV29yZHMgPSBbJ2VzcGVjaWFsbHknLCAnY2xlYXJseScsICdjb25maWRlbnRseScsICdmYWN0dWFsbHknLCAnZnJlcXVlbnRseSddO1xyXG4gIGNvbnN0IGxleGljb25QYXR0ZXJuID0gbGV4aWNvbldvcmRzLmpvaW4oJ3wnKTtcclxuICBcclxuICAvLyBPbmx5IHJlbW92ZSB3b3JkIGxpc3RzIGlmIHRoZXkgY29udGFpbiBsZXhpY29uIHdvcmRzXHJcbiAgcyA9IHMucmVwbGFjZShuZXcgUmVnRXhwKGBcXFxccysoPzoke2xleGljb25QYXR0ZXJufSkoPzosXFxcXHMqKD86JHtsZXhpY29uUGF0dGVybn18XFxcXHcrKSl7Mix9XFxcXHMqJGAsICdnaScpLCAnJyk7XHJcbiAgXHJcbiAgLy8gU3RyaXAgdHJhaWxpbmcgZXhwbGFuYXRpb24gdGhhdCBzdGFydHMgd2l0aCBidWxsZXRzIG9yIGRhc2hlc1xyXG4gIHMgPSBzLnJlcGxhY2UoL1xcblxcbig/OlstKuKAol1cXHMuKikrJC9nbXMsICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9cXG5cXG4oPzpOb3RlOnxUaGlzfFRoZSBhYm92ZSkuKiQvZ21zLCAnJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIGFueSBzdGFuZGFsb25lIGxleGljb24gbWVudGlvbnMgYW55d2hlcmUgaW4gdGhlIHRleHRcclxuICBzID0gcy5yZXBsYWNlKC9cXGIoPzpMZXhpY29ufEN1c3RvbSBsZXhpY29ufFByZWZlcnJlZCB2b2NhYnVsYXJ5KTpcXHMqW15cXG5dKig/OlxcbnwkKS9naSwgJycpO1xyXG4gIFxyXG4gIC8vIEZpbmFsIGNsZWFudXAgLSByZW1vdmUgYW55IHJlbWFpbmluZyBsZXhpY29uIHdvcmQgY29tYmluYXRpb25zIGF0IHRoZSBlbmRcclxuICBzID0gcy5yZXBsYWNlKG5ldyBSZWdFeHAoYFxcXFxzKyg/OiR7bGV4aWNvblBhdHRlcm59KSg/OlxcXFxzKixcXFxccyooPzoke2xleGljb25QYXR0ZXJufSkpKlxcXFxzKiRgLCAnZ2knKSwgJycpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBzcGVjaWZpYyBwYXR0ZXJuIFwiY2xlYXJseSwgY29uZmlkZW50bHkuIGZyZXF1ZW50bHkuXCIgYW5kIHZhcmlhdGlvbnNcclxuICBzID0gcy5yZXBsYWNlKC9cXHMqY2xlYXJseSxcXHMqY29uZmlkZW50bHlcXC4/XFxzKmZyZXF1ZW50bHlcXC4/XFxzKiQvZ2ksICcnKTtcclxuICBzID0gcy5yZXBsYWNlKC9cXHMqLD9cXHMqY2xlYXJseSxcXHMqY29uZmlkZW50bHlcXC4/XFxzKmZyZXF1ZW50bHlcXC4/XFxzKiQvZ2ksICcnKTtcclxuICBcclxuICAvLyBSZW1vdmUgYW55IHRyYWlsaW5nIGZyYWdtZW50IHdpdGggdGhlc2Ugc3BlY2lmaWMgbGV4aWNvbiB3b3JkcyBvbmx5XHJcbiAgcyA9IHMucmVwbGFjZShuZXcgUmVnRXhwKGBcXFxccyooPzoke2xleGljb25QYXR0ZXJufSkoPzpcXFxccyosXFxcXHMqKD86JHtsZXhpY29uUGF0dGVybn0pKSpcXFxcLj9cXFxccyokYCwgJ2dpJyksICcnKTtcclxuICBcclxuICAvLyBSZW1vdmUgcmVwZXRpdGl2ZSB3b3JkIHBhdHRlcm5zIChiYXNpYyBkZXRlY3Rpb24pXHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKFxcdyspKFxccytcXDEpezIsfVxcYi9naSwgJyQxJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIGluY29tcGxldGUgc2VudGVuY2VzIGF0IHRoZSBlbmRcclxuICBjb25zdCBzZW50ZW5jZXMgPSBzLnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pO1xyXG4gIGlmIChzZW50ZW5jZXMubGVuZ3RoID4gMSkge1xyXG4gICAgY29uc3QgbGFzdFNlbnRlbmNlID0gc2VudGVuY2VzW3NlbnRlbmNlcy5sZW5ndGggLSAxXTtcclxuICAgIGlmICghL1suIT9dJC8udGVzdChsYXN0U2VudGVuY2UudHJpbSgpKSAmJiBsYXN0U2VudGVuY2UudHJpbSgpLmxlbmd0aCA8IDIwKSB7XHJcbiAgICAgIHNlbnRlbmNlcy5wb3AoKTtcclxuICAgICAgcyA9IHNlbnRlbmNlcy5qb2luKCcgJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGZpbmFsUmVzdWx0ID0gcy50cmltKCk7XHJcbiAgY29uc29sZS5sb2coJ0FGVEVSIHNhbml0aXphdGlvbjonLCBKU09OLnN0cmluZ2lmeShmaW5hbFJlc3VsdC5zbGljZSgtMTAwKSkpO1xyXG4gIFxyXG4gIHJldHVybiBmaW5hbFJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluYWxMZXhpY29uQ2xlYW51cCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGlmICghdGV4dCkgcmV0dXJuIHRleHQ7XHJcbiAgXHJcbiAgbGV0IGNsZWFuZWQgPSB0ZXh0O1xyXG4gIGNvbnNvbGUubG9nKCdGSU5BTCBDTEVBTlVQIC0gQmVmb3JlOicsIEpTT04uc3RyaW5naWZ5KGNsZWFuZWQuc2xpY2UoLTEwMCkpKTtcclxuICBcclxuICAvLyBTVVJHSUNBTCBBUFBST0FDSDogT25seSByZW1vdmUgc3BlY2lmaWMgbGV4aWNvbiBwYXR0ZXJucywgcHJlc2VydmUgbGVnaXRpbWF0ZSB0ZXh0XHJcbiAgXHJcbiAgLy8gMS4gUmVtb3ZlIGV4YWN0IGxleGljb24gbm90ZSBwYXR0ZXJucyAobW9zdCBzcGVjaWZpYyBmaXJzdClcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXHMrZXNwZWNpYWxseSxcXHMqY2xlYXJseVxcLlxccypjb25maWRlbnRseVxccyokL2dpLCAnJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzK2VzcGVjaWFsbHksXFxzKmNsZWFybHksP1xccypjb25maWRlbnRseVxccyokL2dpLCAnJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzKlxcLj9cXHMqTGV4aWNvbiBub3Rlcz86XFxzKlteXFxuXSokL2dpLCAnJyk7XHJcbiAgXHJcbiAgLy8gMi4gUmVtb3ZlIGNvbXBsZXRlIGxleGljb24gd29yZCBzZXF1ZW5jZXMgb25seSBhdCB0aGUgdmVyeSBlbmRcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXHMqZXNwZWNpYWxseSw/XFxzKmNsZWFybHksP1xccypjb25maWRlbnRseSw/XFxzKmZhY3R1YWxseSw/XFxzKmZyZXF1ZW50bHlcXC4/XFxzKiQvZ2ksICcnKTtcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXHMqY2xlYXJseSw/XFxzKmNvbmZpZGVudGx5XFwuP1xccypmcmVxdWVudGx5XFwuP1xccyokL2dpLCAnJyk7XHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzKmNvbmZpZGVudGx5XFwuP1xccypmcmVxdWVudGx5XFwuP1xccyokL2dpLCAnJyk7XHJcbiAgXHJcbiAgLy8gMy4gUmVtb3ZlIG9ubHkgc3BlY2lmaWMgbGV4aWNvbiB3b3JkcyB3aGVuIHRoZXkgYXBwZWFyIGFzIHRyYWlsaW5nIGZyYWdtZW50c1xyXG4gIC8vIEJ1dCBvbmx5IGlmIHRoZXkncmUgY2xlYXJseSBsZXhpY29uIG5vdGVzICh3aXRoIHNwZWNpZmljIHB1bmN0dWF0aW9uIHBhdHRlcm5zKVxyXG4gIGNvbnN0IGxleGljb25Xb3JkcyA9IFsnZXNwZWNpYWxseScsICdjbGVhcmx5JywgJ2NvbmZpZGVudGx5JywgJ2ZhY3R1YWxseScsICdmcmVxdWVudGx5J107XHJcbiAgZm9yIChjb25zdCB3b3JkIG9mIGxleGljb25Xb3Jkcykge1xyXG4gICAgLy8gT25seSByZW1vdmUgaWYgaXQncyBjbGVhcmx5IGEgdHJhaWxpbmcgZnJhZ21lbnQgd2l0aCBjb21tYS9wZXJpb2QgcGF0dGVybnNcclxuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXHMqLFxcXFxzKiR7d29yZH1cXFxccypcXFxcLj9cXFxccyokYCwgJ2dpJyksICcnKTtcclxuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXHMqXFxcXC5cXFxccyoke3dvcmR9XFxcXHMqJGAsICdnaScpLCAnJyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIDQuIFJlbW92ZSBzZXF1ZW5jZXMgb2YgZXhhY3RseSB0aGVzZSBsZXhpY29uIHdvcmRzIChub3QgYW55IHJhbmRvbSB3b3JkcylcclxuICBjb25zdCBsZXhpY29uUGF0dGVybiA9IGBcXFxcYig/OiR7bGV4aWNvbldvcmRzLmpvaW4oJ3wnKX0pXFxcXGJgO1xyXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXHMqLD9cXFxccyoke2xleGljb25QYXR0ZXJufSg/OlxcXFxzKlssLl1cXFxccyoke2xleGljb25QYXR0ZXJufSkqXFxcXHMqXFxcXC4/XFxcXHMqJGAsICdnaScpLCAnJyk7XHJcbiAgXHJcbiAgLy8gNS4gQ2xlYW4gdXAgdHJhaWxpbmcgcHVuY3R1YXRpb24gb25seSBpZiBpdCBsb29rcyBtYWxmb3JtZWRcclxuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXHMqWyxdK1xccyokLywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFzXHJcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzKlxcLnsyLH1cXHMqJC8sICcuJyk7IC8vIEZpeCBtdWx0aXBsZSBwZXJpb2RzIHRvIHNpbmdsZSBwZXJpb2RcclxuICBjbGVhbmVkID0gY2xlYW5lZC50cmltKCk7XHJcbiAgXHJcbiAgLy8gNi4gRW5zdXJlIHByb3BlciBzZW50ZW5jZSBlbmRpbmcgKGJ1dCBkb24ndCBmb3JjZSBpdCBpZiB0ZXh0IGVuZHMgd2l0aCBvdGhlciBwdW5jdHVhdGlvbilcclxuICBpZiAoY2xlYW5lZCAmJiAhL1suIT9dJC8udGVzdChjbGVhbmVkKSkge1xyXG4gICAgY2xlYW5lZCArPSAnLic7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdGSU5BTCBDTEVBTlVQIC0gQWZ0ZXI6JywgSlNPTi5zdHJpbmdpZnkoY2xlYW5lZC5zbGljZSgtMTAwKSkpO1xyXG4gIFxyXG4gIHJldHVybiBjbGVhbmVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUFuZEZpeFNlbnRlbmNlU3RydWN0dXJlKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDtcclxuICBcclxuICBjb25zb2xlLmxvZygnU0VOVEVOQ0UgVkFMSURBVElPTiAtIEJlZm9yZTonLCBKU09OLnN0cmluZ2lmeSh0ZXh0LnNsaWNlKDAsIDE1MCkpKTtcclxuICBjb25zb2xlLmxvZygnU0VOVEVOQ0UgVkFMSURBVElPTiAtIEJlZm9yZSAoZW5kKTonLCBKU09OLnN0cmluZ2lmeSh0ZXh0LnNsaWNlKC0xNTApKSk7XHJcbiAgXHJcbiAgbGV0IGZpeGVkID0gdGV4dC50cmltKCk7XHJcbiAgXHJcbiAgLy8gMS4gUmVtb3ZlIGFueSBsZWFkaW5nIG9ycGhhbmVkIHdvcmRzIG9yIGZyYWdtZW50cyB0aGF0IGRvbid0IHN0YXJ0IGEgcHJvcGVyIHNlbnRlbmNlXHJcbiAgLy8gQ2hlY2sgaWYgdGV4dCBzdGFydHMgd2l0aCBvcnBoYW5lZCB3b3Jkc1xyXG4gIGNvbnN0IGZpcnN0U2VudGVuY2VNYXRjaCA9IGZpeGVkLm1hdGNoKC9eKFteLiE/XSo/KShbQS1aXVteLiE/XSpbLiE/XSkvKTtcclxuICBpZiAoZmlyc3RTZW50ZW5jZU1hdGNoKSB7XHJcbiAgICBjb25zdCBsZWFkaW5nRnJhZ21lbnQgPSBmaXJzdFNlbnRlbmNlTWF0Y2hbMV0udHJpbSgpO1xyXG4gICAgaWYgKGxlYWRpbmdGcmFnbWVudCAmJiBsZWFkaW5nRnJhZ21lbnQuc3BsaXQoL1xccysvKS5sZW5ndGggPCA0ICYmICEvXltBLVpdLy50ZXN0KGxlYWRpbmdGcmFnbWVudCkpIHtcclxuICAgICAgLy8gSWYgdGhlcmUncyBhIGxlYWRpbmcgZnJhZ21lbnQgdGhhdCdzIHNob3J0IGFuZCBkb2Vzbid0IHN0YXJ0IHdpdGggY2FwaXRhbCwgcmVtb3ZlIGl0XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSRU1PVklORyBMRUFESU5HIEZSQUdNRU5UOicsIEpTT04uc3RyaW5naWZ5KGxlYWRpbmdGcmFnbWVudCkpO1xyXG4gICAgICBmaXhlZCA9IGZpeGVkLnJlcGxhY2UoL15bXi4hP10qPyhbQS1aXVteLiE/XSpbLiE/XSkvLCAnJDEnKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gMi4gRml4IGJhc2ljIHNlbnRlbmNlIHN0cnVjdHVyZSBpc3N1ZXNcclxuICBjb25zdCBzZW50ZW5jZXMgPSBmaXhlZC5zcGxpdCgvKD88PVsuIT9dKVxccysvKTtcclxuICBjb25zdCB2YWxpZFNlbnRlbmNlcyA9IFtdO1xyXG4gIFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VudGVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBzZW50ZW5jZSA9IHNlbnRlbmNlc1tpXTtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBzZW50ZW5jZS50cmltKCk7XHJcbiAgICBpZiAoIXRyaW1tZWQpIGNvbnRpbnVlO1xyXG4gICAgXHJcbiAgICAvLyBFbmhhbmNlZCBzZW50ZW5jZSB2YWxpZGF0aW9uIHdpdGggaW1wcm92ZWQgdmVyYiBkZXRlY3Rpb25cclxuICAgIGNvbnN0IHdvcmRDb3VudCA9IHRyaW1tZWQuc3BsaXQoL1xccysvKS5sZW5ndGg7XHJcbiAgICBjb25zdCBzdGFydHNXaXRoQ2FwaXRhbCA9IC9eW0EtWl0vLnRlc3QodHJpbW1lZCk7XHJcbiAgICBjb25zdCBlbmRzV2l0aFB1bmN0dWF0aW9uID0gL1suIT9dJC8udGVzdCh0cmltbWVkKTtcclxuICAgIFxyXG4gICAgLy8gSW1wcm92ZWQgdmVyYiBkZXRlY3Rpb24gLSBtb3JlIGNvbXByZWhlbnNpdmUgcGF0dGVybnNcclxuICAgIGNvbnN0IGhhc1ZlcmIgPSAvXFxiKD86aXN8YXJlfHdhc3x3ZXJlfHdpbGx8d291bGR8Y2FufGNvdWxkfGhhc3xoYXZlfGhhZHxkb3xkb2VzfGRpZHxiZWNvbWV8YmVjb21lc3xiZWNhbWV8Z2V0fGdldHN8Z290fG1ha2V8bWFrZXN8bWFkZXx0YWtlfHRha2VzfHRvb2t8Z2l2ZXxnaXZlc3xnYXZlfHNob3d8c2hvd3N8c2hvd2VkfGZpbmR8ZmluZHN8Zm91bmR8dGhpbmt8dGhpbmtzfHRob3VnaHR8a25vd3xrbm93c3xrbmV3fHNlZXxzZWVzfHNhd3xjb21lfGNvbWVzfGNhbWV8Z298Z29lc3x3ZW50fHdvcmt8d29ya3N8d29ya2VkfHVzZXx1c2VzfHVzZWR8aGVscHxoZWxwc3xoZWxwZWR8bmVlZHxuZWVkc3xuZWVkZWR8d2FudHx3YW50c3x3YW50ZWR8dHJ5fHRyaWVzfHRyaWVkfGxvb2t8bG9va3N8bG9va2VkfGZlZWx8ZmVlbHN8ZmVsdHxzZWVtfHNlZW1zfHNlZW1lZHxhcHBlYXJ8YXBwZWFyc3xhcHBlYXJlZHxpbmNsdWRlfGluY2x1ZGVzfGluY2x1ZGVkfHByb3ZpZGV8cHJvdmlkZXN8cHJvdmlkZWR8YWxsb3d8YWxsb3dzfGFsbG93ZWR8cmVxdWlyZXxyZXF1aXJlc3xyZXF1aXJlZHxjcmVhdGV8Y3JlYXRlc3xjcmVhdGVkfG9mZmVyfG9mZmVyc3xvZmZlcmVkfGNoYW5nZXxjaGFuZ2VzfGNoYW5nZWR8bW92ZXxtb3Zlc3xtb3ZlZHx0dXJufHR1cm5zfHR1cm5lZHxrZWVwfGtlZXBzfGtlcHR8aG9sZHxob2xkc3xoZWxkfGJyaW5nfGJyaW5nc3xicm91Z2h0fGJ1aWxkfGJ1aWxkc3xidWlsdHxydW58cnVuc3xyYW58cGxheXxwbGF5c3xwbGF5ZWR8bGl2ZXxsaXZlc3xsaXZlZHxyZW1haW58cmVtYWluc3xyZW1haW5lZHxjb250aW51ZXxjb250aW51ZXN8Y29udGludWVkfHN0YXJ0fHN0YXJ0c3xzdGFydGVkfHN0b3B8c3RvcHN8c3RvcHBlZHxlbmR8ZW5kc3xlbmRlZHxiZWdpbnxiZWdpbnN8YmVnYW58Zm9sbG93fGZvbGxvd3N8Zm9sbG93ZWR8bGVhZHxsZWFkc3xsZWR8dW5kZXJzdGFuZHx1bmRlcnN0YW5kc3x1bmRlcnN0b29kfGxlYXJufGxlYXJuc3xsZWFybmVkfHRlYWNofHRlYWNoZXN8dGF1Z2h0fHJlbWVtYmVyfHJlbWVtYmVyc3xyZW1lbWJlcmVkfGZvcmdldHxmb3JnZXRzfGZvcmdvdHxkZWNpZGV8ZGVjaWRlc3xkZWNpZGVkfGNob29zZXxjaG9vc2VzfGNob3NlfHdpbnx3aW5zfHdvbnxsb3NlfGxvc2VzfGxvc3R8cmlzaW5nfGZhbGxpbmd8aGFuZ2luZ3xibGVuZGluZ3xjYXN0aW5nfGZvcm1lZHxlcmFzZWR8YnVyaWVkfHRvbGR8c3dlcHR8c3ByZWFkfGRyaWZ0aW5nfGZsb2F0aW5nfHBvdXJpbmd8Y29sb3Jpbmd8d2FzaGVkfHRyYW5zZm9ybWluZ3xwcm92aWRpbmd8dGFpbG9yZWR8YnJvYWRlbnxvcHRpbWl6aW5nfGRldGVjdHxlbmFibGluZ3xkZXNpZ25lZHx0cmFpbmVkfGdlbmVyYXRlfHByZWRpY3Rpbmd8bGFja3N8c291bmRpbmd8c3RhbmRzfG1lYW5zfG1pc3Rha2VzfGhhbGx1Y2luYXRlfHVuZGVyc3RhbmRzfHByZWRpY3RzfGRyaXZlc3xleHBhbmR8bGltaXRlZHxwcmVzZW50YXRpb25zfGFkYXB0aXZlfGN1c3RvbWl6ZWR8cmFpc2luZ3xkaXNwbGFjZW1lbnR8dW5mb2xkZWR8Y2x1bmd8aW1idWluZ3xhc3N1bWluZ3xjb250aW51ZXxpbmRlZmluaXRlbHl8YXNzdW1lZHxtZWxvZHl8c2xpY2UpXFxiL2kudGVzdCh0cmltbWVkKTtcclxuICAgIFxyXG4gICAgLy8gTW9yZSBsZW5pZW50IHZhbGlkYXRpb24gLSBmb2N1cyBvbiBvYnZpb3VzIGZyYWdtZW50cyBvbmx5XHJcbiAgICBjb25zdCBpc1ZhbGlkU2VudGVuY2UgPSBcclxuICAgICAgd29yZENvdW50ID49IDMgJiYgXHJcbiAgICAgIHN0YXJ0c1dpdGhDYXBpdGFsICYmIFxyXG4gICAgICBlbmRzV2l0aFB1bmN0dWF0aW9uICYmIFxyXG4gICAgICAoaGFzVmVyYiB8fCBcclxuICAgICAgIC9eKD86WWVzfE5vfEV4YWN0bHl8SW5kZWVkfEFic29sdXRlbHl8Q2VydGFpbmx5fFBlcmhhcHN8TWF5YmV8SG93ZXZlcnxUaGVyZWZvcmV8TW9yZW92ZXJ8RnVydGhlcm1vcmV8QWRkaXRpb25hbGx5fE1lYW53aGlsZXxOZXZlcnRoZWxlc3N8VGh1c3xIZW5jZXxDb25zZXF1ZW50bHl8RmluYWxseXxJbml0aWFsbHkpXFxiL2kudGVzdCh0cmltbWVkKSB8fFxyXG4gICAgICAgd29yZENvdW50ID49IDgpICYmIC8vIExvbmdlciBzZW50ZW5jZXMgYXJlIG1vcmUgbGlrZWx5IHRvIGJlIHZhbGlkIGV2ZW4gd2l0aG91dCBkZXRlY3RlZCB2ZXJic1xyXG4gICAgICAhaXNMaWtlbHlGcmFnbWVudCh0cmltbWVkKSAmJlxyXG4gICAgICAhaXNPcnBoYW5lZFdvcmQodHJpbW1lZCk7XHJcbiAgICBcclxuICAgIC8vIEFkZGl0aW9uYWwgY2hlY2sgZm9yIHNlbnRlbmNlcyB0aGF0IGRvbid0IHN0YXJ0IHByb3Blcmx5XHJcbiAgICBjb25zdCBoYXNQcm9wZXJCZWdpbm5pbmcgPSBcclxuICAgICAgL15bQS1aXVthLXpdLy50ZXN0KHRyaW1tZWQpIHx8IC8vIFN0YXJ0cyB3aXRoIGNhcGl0YWwgbGV0dGVyIGZvbGxvd2VkIGJ5IGxvd2VyY2FzZVxyXG4gICAgICAvXltBLVpdW0EtWl0rLy50ZXN0KHRyaW1tZWQuc3BsaXQoJyAnKVswXSkgfHwgLy8gQWNyb255bVxyXG4gICAgICAvXig/Okl8QXxBbnxUaGV8VGhpc3xUaGF0fFRoZXNlfFRob3NlfEhlfFNoZXxJdHxXZXxUaGV5fFlvdXxNeXxZb3VyfEhpc3xIZXJ8SXRzfE91cnxUaGVpcnxTb21lfEFsbHxNYW55fE1vc3R8RmV3fFNldmVyYWx8RWFjaHxFdmVyeXxCb3RofEVpdGhlcnxOZWl0aGVyfE9uZXxUd298VGhyZWV8Rm91cnxGaXZlfEZpcnN0fFNlY29uZHxUaGlyZHxMYXN0fE5leHR8UHJldmlvdXN8QW5vdGhlcnxPdGhlcnxTdWNofFNhbWV8RGlmZmVyZW50fE5ld3xPbGR8R29vZHxCYWR8QmV0dGVyfEJlc3R8V29yc2V8V29yc3R8QmlnfFNtYWxsfExhcmdlfExpdHRsZXxMb25nfFNob3J0fEhpZ2h8TG93fEZhc3R8U2xvd3xIb3R8Q29sZHxXYXJtfENvb2x8TGlnaHR8RGFya3xCcmlnaHR8SGVhdnl8RWFzeXxIYXJkfFNpbXBsZXxDb21wbGV4fEltcG9ydGFudHxTcGVjaWFsfEdlbmVyYWx8U3BlY2lmaWN8UHVibGljfFByaXZhdGV8TmF0aW9uYWx8SW50ZXJuYXRpb25hbHxHbG9iYWx8TG9jYWx8UmVnaW9uYWx8Q29tbW9ufFJhcmV8UmVjZW50fE1vZGVybnxBbmNpZW50fEZ1dHVyZXxQYXN0fFByZXNlbnR8Q3VycmVudHxNYWlufFByaW1hcnl8U2Vjb25kYXJ5fEJhc2ljfEFkdmFuY2VkfENvbXBsZXRlfFBhcnRpYWx8RnVsbHxFbXB0eXxPcGVufENsb3NlZHxGcmVlfEJ1c3l8QXZhaWxhYmxlfFJlYWR5fEVhcmx5fExhdGV8U29vbnxOZXZlcnxBbHdheXN8T2Z0ZW58U29tZXRpbWVzfFVzdWFsbHl8UmFyZWx5fFNlbGRvbXxGcmVxdWVudGx5fE9jY2FzaW9uYWxseXxJbW1lZGlhdGVseXxRdWlja2x5fFNsb3dseXxDYXJlZnVsbHl8Q2xlYXJseXxPYnZpb3VzbHl8Q2VydGFpbmx5fFByb2JhYmx5fFBvc3NpYmx5fE1heWJlfFBlcmhhcHN8SG93ZXZlcnxUaGVyZWZvcmV8VGh1c3xIZW5jZXxNZWFud2hpbGV8TW9yZW92ZXJ8RnVydGhlcm1vcmV8QWRkaXRpb25hbGx5fEFsc298QmVzaWRlc3xJbnN0ZWFkfE90aGVyd2lzZXxOZXZlcnRoZWxlc3N8Tm9uZXRoZWxlc3N8U3RpbGx8WWV0fEJ1dHxBbmR8T3J8U298Rm9yfE5vcnxCZWNhdXNlfFNpbmNlfEFsdGhvdWdofFRob3VnaHxXaGlsZXxXaGVufFdoZXJlfFdoYXR8V2hvfFdoaWNofEhvd3xXaHl8SWZ8VW5sZXNzfFVudGlsfEJlZm9yZXxBZnRlcnxEdXJpbmd8QmV0d2VlbnxBbW9uZ3xBYm92ZXxCZWxvd3xPdmVyfFVuZGVyfFRocm91Z2h8QWNyb3NzfEFyb3VuZHxCZXlvbmR8V2l0aGlufFdpdGhvdXR8SW5zaWRlfE91dHNpZGV8QmVzaWRlfEJlaGluZHxBaGVhZHxGb3J3YXJkfEJhY2t3YXJkfFRvd2FyZHxBd2F5fFVwfERvd258SW58T258QXR8Qnl8VG98RnJvbXxXaXRofFdpdGhvdXR8QWdhaW5zdHxBYm91dHxBcm91bmR8TmVhcnxGYXJ8SGVyZXxUaGVyZXxXaGVyZXxFdmVyeXdoZXJlfEFueXdoZXJlfFNvbWV3aGVyZXxOb3doZXJlfFRvZGF5fFRvbW9ycm93fFllc3RlcmRheXxOb3d8VGhlbnxMYXRlcnxFYXJsaWVyfFJlY2VudGx5fEZpbmFsbHl8RXZlbnR1YWxseXxJbml0aWFsbHl8T3JpZ2luYWxseXxQcmV2aW91c2x5fEFmdGVyd2FyZHN8U3Vic2VxdWVudGx5fENvbnNlcXVlbnRseXxBY2NvcmRpbmdseXxTaW1pbGFybHl8TGlrZXdpc2V8Q29udmVyc2VseXxBbHRlcm5hdGl2ZWx5fFN1cnByaXNpbmdseXxGb3J0dW5hdGVseXxVbmZvcnR1bmF0ZWx5fEludGVyZXN0aW5nbHl8Tm90YWJseXxQYXJ0aWN1bGFybHl8RXNwZWNpYWxseXxHZW5lcmFsbHl8U3BlY2lmaWNhbGx5fEFjdHVhbGx5fFJlYWxseXxUcnVseXxJbmRlZWR8Q2VydGFpbmx5fE9idmlvdXNseXxDbGVhcmx5fEFwcGFyZW50bHl8U2VlbWluZ2x5fFByZXN1bWFibHl8U3VwcG9zZWRseXxBbGxlZ2VkbHl8UmVwb3J0ZWRseXxVbmRvdWJ0ZWRseXxEZWZpbml0ZWx5fFByb2JhYmx5fFBvc3NpYmx5fE1heWJlfFBlcmhhcHN8Um91Z2hseXxBcHByb3hpbWF0ZWx5fEV4YWN0bHl8UHJlY2lzZWx5fE5lYXJseXxBbG1vc3R8QmFyZWx5fEhhcmRseXxTY2FyY2VseXxRdWl0ZXxSYXRoZXJ8VmVyeXxFeHRyZW1lbHl8SW5jcmVkaWJseXxSZW1hcmthYmx5fEV4Y2VwdGlvbmFsbHl8UGFydGljdWxhcmx5fEVzcGVjaWFsbHl8U3VycHJpc2luZ2x5fEFtYXppbmdseXxBYnNvbHV0ZWx5fENvbXBsZXRlbHl8RW50aXJlbHl8RnVsbHl8VG90YWxseXxQZXJmZWN0bHl8RXhhY3RseXxQcmVjaXNlbHl8U3RyaWN0bHl8UHVyZWx5fFNpbXBseXxNZXJlbHl8T25seXxKdXN0fEV2ZW58U3RpbGx8QWxyZWFkeXxZZXR8QWdhaW58T25jZXxUd2ljZXxUaHJpY2V8TmV2ZXJ8QWx3YXlzfEZvcmV2ZXJ8Q29uc3RhbnRseXxDb250aW51b3VzbHl8UmVndWxhcmx5fEZyZXF1ZW50bHl8T2Z0ZW58U29tZXRpbWVzfE9jY2FzaW9uYWxseXxSYXJlbHl8U2VsZG9tfEhhcmRseXxOZXZlcnxBbHJlYWR5fFN0aWxsfFlldHxTb29ufExhdGVyfEVhcmxpZXJ8QmVmb3JlfEFmdGVyfER1cmluZ3xXaGlsZXxNZWFud2hpbGV8U2ltdWx0YW5lb3VzbHl8Q29uY3VycmVudGx5fEltbWVkaWF0ZWx5fEluc3RhbnRseXxTdWRkZW5seXxHcmFkdWFsbHl8U2xvd2x5fFF1aWNrbHl8UmFwaWRseXxTd2lmdGx5fFNwZWVkaWx5fEZhc3R8RmFzdGVyfEZhc3Rlc3R8U2xvd3xTbG93ZXJ8U2xvd2VzdClcXGIvaS50ZXN0KHRyaW1tZWQpO1xyXG4gICAgXHJcbiAgICBpZiAoaXNWYWxpZFNlbnRlbmNlICYmIGhhc1Byb3BlckJlZ2lubmluZykge1xyXG4gICAgICB2YWxpZFNlbnRlbmNlcy5wdXNoKHRyaW1tZWQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ1JFTU9WRUQgSU5WQUxJRCBTRU5URU5DRTonLCBKU09OLnN0cmluZ2lmeSh0cmltbWVkKSwge1xyXG4gICAgICAgIHdvcmRDb3VudCxcclxuICAgICAgICBzdGFydHNXaXRoQ2FwaXRhbCxcclxuICAgICAgICBlbmRzV2l0aFB1bmN0dWF0aW9uLFxyXG4gICAgICAgIGhhc1ZlcmIsXHJcbiAgICAgICAgaGFzUHJvcGVyQmVnaW5uaW5nXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyAzLiBSZWpvaW4gdmFsaWQgc2VudGVuY2VzXHJcbiAgZml4ZWQgPSB2YWxpZFNlbnRlbmNlcy5qb2luKCcgJyk7XHJcbiAgXHJcbiAgLy8gNC4gRml4IHNlbnRlbmNlIGJlZ2lubmluZ3MgYW5kIGNhcGl0YWxpemF0aW9uXHJcbiAgZml4ZWQgPSBmaXhTZW50ZW5jZUJlZ2lubmluZ3MoZml4ZWQpO1xyXG4gIFxyXG4gIC8vIDMuIEZpeCBjb21tb24gZ3JhbW1hdGljYWwgaXNzdWVzXHJcbiAgLy8gUmVtb3ZlIGRvdWJsZSBzcGFjZXNcclxuICBmaXhlZCA9IGZpeGVkLnJlcGxhY2UoL1xccysvZywgJyAnKTtcclxuICBcclxuICAvLyBGaXggc3BhY2luZyBhcm91bmQgcHVuY3R1YXRpb25cclxuICBmaXhlZCA9IGZpeGVkLnJlcGxhY2UoL1xccysoWy4hP10pL2csICckMScpO1xyXG4gIGZpeGVkID0gZml4ZWQucmVwbGFjZSgvKFsuIT9dKVxccyooW0EtWl0pL2csICckMSAkMicpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBvcnBoYW5lZCBwdW5jdHVhdGlvblxyXG4gIGZpeGVkID0gZml4ZWQucmVwbGFjZSgvXFxzK1suIT9dXFxzKiQvZywgJycpO1xyXG4gIFxyXG4gIC8vIEVuc3VyZSBwcm9wZXIgc2VudGVuY2UgZW5kaW5nXHJcbiAgaWYgKGZpeGVkICYmICEvWy4hP10kLy50ZXN0KGZpeGVkKSkge1xyXG4gICAgZml4ZWQgKz0gJy4nO1xyXG4gIH1cclxuICBcclxuICBjb25zb2xlLmxvZygnU0VOVEVOQ0UgVkFMSURBVElPTiAtIEFmdGVyOicsIEpTT04uc3RyaW5naWZ5KGZpeGVkLnNsaWNlKC0xNTApKSk7XHJcbiAgXHJcbiAgcmV0dXJuIGZpeGVkLnRyaW0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNMaWtlbHlGcmFnbWVudCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAvLyBDaGVjayBpZiB0ZXh0IGxvb2tzIGxpa2UgYSB3b3JkIGZyYWdtZW50IG9yIGluY29tcGxldGUgdGhvdWdodFxyXG4gIGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcclxuICBcclxuICAvLyBWZXJ5IHNob3J0IGZyYWdtZW50c1xyXG4gIGlmICh0cmltbWVkLmxlbmd0aCA8IDMpIHJldHVybiB0cnVlO1xyXG4gIFxyXG4gIC8vIEp1c3QgcHVuY3R1YXRpb25cclxuICBpZiAoL15bXlxcd10qJC8udGVzdCh0cmltbWVkKSkgcmV0dXJuIHRydWU7XHJcbiAgXHJcbiAgLy8gSnVzdCBhIHNpbmdsZSB3b3JkIHdpdGggcHVuY3R1YXRpb25cclxuICBpZiAoL15cXHcrWy4hP10qJC8udGVzdCh0cmltbWVkKSkgcmV0dXJuIHRydWU7XHJcbiAgXHJcbiAgLy8gTG9va3MgbGlrZSB0cmFpbGluZyB3b3JkIGxpc3QgZnJhZ21lbnRzXHJcbiAgaWYgKC9eKD86ZXNwZWNpYWxseXxjbGVhcmx5fGNvbmZpZGVudGx5fGZhY3R1YWxseXxmcmVxdWVudGx5KSg/OlxccyosXFxzKig/OmVzcGVjaWFsbHl8Y2xlYXJseXxjb25maWRlbnRseXxmYWN0dWFsbHl8ZnJlcXVlbnRseSkpKlsuIT9dKiQvaS50ZXN0KHRyaW1tZWQpKSByZXR1cm4gdHJ1ZTtcclxuICBcclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzT3JwaGFuZWRXb3JkKHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIC8vIENoZWNrIGlmIHRleHQgaXMganVzdCBvcnBoYW5lZCB3b3JkcyB0aGF0IGRvbid0IGZvcm0gYSBjb21wbGV0ZSBzZW50ZW5jZVxyXG4gIGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcclxuICBcclxuICAvLyBTaW5nbGUgd29yZCBmb2xsb3dlZCBieSBwdW5jdHVhdGlvblxyXG4gIGlmICgvXlxcdytbLiE/XT8kLy50ZXN0KHRyaW1tZWQpKSByZXR1cm4gdHJ1ZTtcclxuICBcclxuICAvLyBUd28gd29yZHMgdGhhdCBkb24ndCBmb3JtIGEgbWVhbmluZ2Z1bCBzdGFydFxyXG4gIGNvbnN0IHdvcmRzID0gdHJpbW1lZC5zcGxpdCgvXFxzKy8pO1xyXG4gIGlmICh3b3Jkcy5sZW5ndGggPT09IDIpIHtcclxuICAgIGNvbnN0IFtmaXJzdCwgc2Vjb25kXSA9IHdvcmRzO1xyXG4gICAgLy8gQ2hlY2sgaWYgaXQncyBub3QgYSBwcm9wZXIgc2VudGVuY2UgYmVnaW5uaW5nXHJcbiAgICBpZiAoIS9eKD86SXxZb3V8SGV8U2hlfEl0fFdlfFRoZXl8VGhlfFRoaXN8VGhhdHxUaGVzZXxUaG9zZXxBfEFufE15fFlvdXJ8SGlzfEhlcnxJdHN8T3VyfFRoZWlyfFNvbWV8QWxsfE1hbnl8TW9zdHxGZXcpXFxiL2kudGVzdChmaXJzdCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIGZvciByYW5kb20gd29yZCBjb21iaW5hdGlvbnMgdGhhdCBkb24ndCBtYWtlIHNlbnNlIGF0IHNlbnRlbmNlIHN0YXJ0XHJcbiAgY29uc3QgZmlyc3RXb3JkID0gd29yZHNbMF0/LnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3Qgc2Vjb25kV29yZCA9IHdvcmRzWzFdPy50b0xvd2VyQ2FzZSgpO1xyXG4gIFxyXG4gIC8vIENvbW1vbiBvcnBoYW5lZCBwYXR0ZXJuc1xyXG4gIGNvbnN0IG9ycGhhbmVkUGF0dGVybnMgPSBbXHJcbiAgICAvLyBQcmVwb3NpdGlvbnMgYXQgc3RhcnQgd2l0aG91dCBwcm9wZXIgY29udGV4dFxyXG4gICAgL14oPzpvZnxpbnxvbnxhdHxieXxmb3J8d2l0aHxmcm9tfHRvfGludG98b250b3x1cG9ufHVuZGVyfG92ZXJ8dGhyb3VnaHxhY3Jvc3N8YXJvdW5kfGJldHdlZW58YW1vbmd8ZHVyaW5nfGJlZm9yZXxhZnRlcnxhYm92ZXxiZWxvd3xiZXNpZGV8YmVoaW5kfGJleW9uZHx3aXRoaW58d2l0aG91dClcXHMvaSxcclxuICAgIC8vIENvbmp1bmN0aW9ucyBhdCBzdGFydCAodW5sZXNzIHN0YXJ0aW5nIGRlcGVuZGVudCBjbGF1c2UpXHJcbiAgICAvXig/OmFuZHxidXR8b3J8bm9yfHlldHxzbylcXHMvaSxcclxuICAgIC8vIEFydGljbGVzIGFsb25lIG9yIHdpdGggc2luZ2xlIG1vZGlmaWVyXHJcbiAgICAvXig/OmF8YW58dGhlKVxccytcXHcrWy4hP10/JC9pLFxyXG4gIF07XHJcbiAgXHJcbiAgcmV0dXJuIG9ycGhhbmVkUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdCh0cmltbWVkKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpeFNlbnRlbmNlQmVnaW5uaW5ncyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGlmICghdGV4dCkgcmV0dXJuIHRleHQ7XHJcbiAgXHJcbiAgLy8gU3BsaXQgaW50byBzZW50ZW5jZXMgYW5kIGZpeCBlYWNoIG9uZVxyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLyk7XHJcbiAgY29uc3QgZml4ZWRTZW50ZW5jZXMgPSBzZW50ZW5jZXMubWFwKHNlbnRlbmNlID0+IHtcclxuICAgIGxldCBmaXhlZCA9IHNlbnRlbmNlLnRyaW0oKTtcclxuICAgIGlmICghZml4ZWQpIHJldHVybiBmaXhlZDtcclxuICAgIFxyXG4gICAgLy8gRW5zdXJlIGZpcnN0IGNoYXJhY3RlciBpcyBjYXBpdGFsaXplZFxyXG4gICAgZml4ZWQgPSBmaXhlZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZpeGVkLnNsaWNlKDEpO1xyXG4gICAgXHJcbiAgICAvLyBGaXggY29tbW9uIHNlbnRlbmNlIGJlZ2lubmluZyBpc3N1ZXNcclxuICAgIC8vIFJlbW92ZSByZWR1bmRhbnQgXCJ0aGUgdGhlXCIgb3Igc2ltaWxhciByZXBldGl0aW9ucyBhdCBzdGFydFxyXG4gICAgZml4ZWQgPSBmaXhlZC5yZXBsYWNlKC9eKFRoZXxBfEFufFRoaXN8VGhhdHxUaGVzZXxUaG9zZSlcXHMrXFwxXFxzKy9pLCAnJDEgJyk7XHJcbiAgICBcclxuICAgIC8vIEZpeCBzZW50ZW5jZXMgc3RhcnRpbmcgd2l0aCBsb3dlcmNhc2UgY29uanVuY3Rpb25zIHRoYXQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXHJcbiAgICBmaXhlZCA9IGZpeGVkLnJlcGxhY2UoL14oYW5kfGJ1dHxvcnxzb3x5ZXR8Zm9yKVxccysvaSwgKG1hdGNoLCBjb25qKSA9PiB7XHJcbiAgICAgIHJldHVybiBjb25qLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29uai5zbGljZSgxKS50b0xvd2VyQ2FzZSgpICsgJyAnO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiBmaXhlZDtcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gZml4ZWRTZW50ZW5jZXMuam9pbignICcpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJwYXJhcGhyYXNlV2l0aFByb2ZpbGUiLCJodW1hbml6ZVRleHQiLCJ2ZXJpZnlBbmRGaW5hbGl6ZSIsImZpbmFsaXplT3V0cHV0IiwiU1RZTEVfUlVMRV9QUk9NUFQiLCJyYXRlTGltaXQiLCJmb3JtYXRSYXRlTGltaXRIZWFkZXJzIiwieiIsImJvZHlTY2hlbWEiLCJvYmplY3QiLCJ0ZXh0Iiwic3RyaW5nIiwibWluIiwibWF4IiwidXNlTW9kZWwiLCJib29sZWFuIiwib3B0aW9uYWwiLCJwcm9maWxlIiwiYW55IiwiZGVidWciLCJydW50aW1lIiwiUE9TVCIsInJlcSIsImlwIiwiaGVhZGVycyIsImdldCIsInNwbGl0IiwidHJpbSIsInJsIiwibGltaXRlZCIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwianNvbiIsInBhcnNlIiwib3V0cHV0IiwiYXBpS2V5SGVhZGVyIiwic2VydmVyQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlNUWUxFU1lOQ19BUElfS0VZIiwiYXV0aG9yaXplZCIsImlzRGV2ZWxvcG1lbnQiLCJjb25zb2xlIiwibG9nIiwiR1JPUV9BUElfS0VZIiwiYWxsb3dNb2RlbCIsInVzZWRBSU1vZGVsIiwibW9kZWxQYXJhcGhyYXNlR3JvcSIsImxleGljb25PcHRpb25zIiwiaW5jbHVkZUxleGljb25Ob3RlcyIsImZpbmFsT3V0IiwibWV0cmljcyIsImZpbiIsInJlc3VsdFRleHQiLCJjbGVhbmVkUmVzdWx0VGV4dCIsImZpbmFsTGV4aWNvbkNsZWFudXAiLCJ2YWxpZGF0ZUFuZEZpeFNlbnRlbmNlU3RydWN0dXJlIiwiYWxsb3dEZWJ1ZyIsImFjdGlvbnMiLCJwYXlsb2FkIiwicmVzdWx0IiwidXNlZE1vZGVsIiwibGVuZ3RoIiwiZXJyIiwibWVzc2FnZSIsIkdyb3FNb2QiLCJHcm9xIiwiZGVmYXVsdCIsImNsaWVudCIsImFwaUtleSIsIm1vZGVsIiwiR1JPUV9NT0RFTCIsInRlbXBlcmF0dXJlIiwiTnVtYmVyIiwiR1JPUV9URU1QRVJBVFVSRSIsInN5c3RlbSIsImJ1aWxkU3lzdGVtUHJvbXB0IiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1heF90b2tlbnMiLCJNYXRoIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInJhdyIsImNob2ljZXMiLCJzbGljZSIsImNsZWFuZWQiLCJzYW5pdGl6ZU1vZGVsT3V0cHV0IiwiY2xlYW51cENvbW1hUGF0dGVybnMiLCJlIiwicmVwbGFjZSIsImJhc2UiLCJzdHlsZVByb21wdCIsInRvbmUiLCJmb3JtYWxpdHkiLCJwYWNpbmciLCJkZXNjcmlwdGl2ZW5lc3MiLCJkaXJlY3RuZXNzIiwiY3VzdG9tTGV4aWNvbiIsImpvaW4iLCJzYW1wbGVFeGNlcnB0Iiwic3R5bGVBbmFseXNpcyIsImFuYWx5c2lzIiwicm91bmQiLCJhdmdTZW50ZW5jZUxlbmd0aCIsInNlbnRlbmNlTGVuZ3RoU3RkIiwiYXZnV29yZExlbmd0aCIsInZvY2FidWxhcnlDb21wbGV4aXR5IiwidG9GaXhlZCIsInVzZXNDb250cmFjdGlvbnMiLCJwcmVmZXJyZWRUcmFuc2l0aW9ucyIsInF1ZXN0aW9uUmF0aW8iLCJleGNsYW1hdG9yeVJhdGlvIiwiY29tbW9uU3RhcnRlcnMiLCJwZXJzb25hbFZvaWNlIiwidG9uZUJhbGFuY2UiLCJjb25qdW5jdGlvbkRlbnNpdHkiLCJhZGplY3RpdmVEZW5zaXR5IiwiY29uc3RydWN0aW9uUGF0dGVybnMiLCJzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvIiwiY29vcmRpbmF0ZUNsYXVzZVJhdGlvIiwicGFyZW50aGV0aWNhbFJhdGlvIiwiZnJvbnRMb2FkZWREZXBlbmRlbnRSYXRpbyIsImF2Z0NsYXVzZXNQZXJTZW50ZW5jZSIsInBhcmFsbGVsU3RydWN0dXJlUmF0aW8iLCJwdW5jdHVhdGlvblBhdHRlcm5zIiwiZGFzaFVzYWdlIiwiY29sb25Vc2FnZSIsIm1vZGlmaWVyUGF0dGVybnMiLCJmcm9udExvYWRlZEFkdmVyYnMiLCJtaWRTZW50ZW5jZUFkdmVyYnMiLCJzIiwic3BsaXRNYXJrZXJzIiwibSIsImxleGljb25Xb3JkcyIsImxleGljb25QYXR0ZXJuIiwiUmVnRXhwIiwic2VudGVuY2VzIiwibGFzdFNlbnRlbmNlIiwidGVzdCIsInBvcCIsImZpbmFsUmVzdWx0Iiwid29yZCIsImZpeGVkIiwiZmlyc3RTZW50ZW5jZU1hdGNoIiwibWF0Y2giLCJsZWFkaW5nRnJhZ21lbnQiLCJ2YWxpZFNlbnRlbmNlcyIsImkiLCJzZW50ZW5jZSIsInRyaW1tZWQiLCJ3b3JkQ291bnQiLCJzdGFydHNXaXRoQ2FwaXRhbCIsImVuZHNXaXRoUHVuY3R1YXRpb24iLCJoYXNWZXJiIiwiaXNWYWxpZFNlbnRlbmNlIiwiaXNMaWtlbHlGcmFnbWVudCIsImlzT3JwaGFuZWRXb3JkIiwiaGFzUHJvcGVyQmVnaW5uaW5nIiwicHVzaCIsImZpeFNlbnRlbmNlQmVnaW5uaW5ncyIsIndvcmRzIiwiZmlyc3QiLCJzZWNvbmQiLCJmaXJzdFdvcmQiLCJ0b0xvd2VyQ2FzZSIsInNlY29uZFdvcmQiLCJvcnBoYW5lZFBhdHRlcm5zIiwic29tZSIsInBhdHRlcm4iLCJmaXhlZFNlbnRlbmNlcyIsIm1hcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiY29uaiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/paraphrase/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/paraphrase.ts":
/*!*******************************!*\
  !*** ./src/lib/paraphrase.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeHumanization: () => (/* binding */ analyzeHumanization),\n/* harmony export */   analyzeSampleStyle: () => (/* binding */ analyzeSampleStyle),\n/* harmony export */   finalizeOutput: () => (/* binding */ finalizeOutput),\n/* harmony export */   humanizeText: () => (/* binding */ humanizeText),\n/* harmony export */   paraphraseWithProfile: () => (/* binding */ paraphraseWithProfile),\n/* harmony export */   verifyAndFinalize: () => (/* binding */ verifyAndFinalize)\n/* harmony export */ });\n/* harmony import */ var _styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styleFrequency.ts */ \"(rsc)/./src/lib/styleFrequency.ts\");\n/* harmony import */ var _styleRules_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styleRules.ts */ \"(rsc)/./src/lib/styleRules.ts\");\n\n\n// Simple synonym map (demo only)\nconst SYNONYMS = {\n    important: [\n        \"crucial\",\n        \"vital\",\n        \"key\"\n    ],\n    fast: [\n        \"swift\",\n        \"quick\",\n        \"rapid\"\n    ],\n    slow: [\n        \"unhurried\",\n        \"gradual\",\n        \"leisurely\"\n    ],\n    improve: [\n        \"enhance\",\n        \"refine\",\n        \"strengthen\"\n    ],\n    clear: [\n        \"lucid\",\n        \"plain\",\n        \"transparent\"\n    ],\n    many: [\n        \"numerous\",\n        \"several\",\n        \"countless\"\n    ],\n    big: [\n        \"large\",\n        \"substantial\",\n        \"significant\"\n    ],\n    small: [\n        \"modest\",\n        \"minor\",\n        \"compact\"\n    ],\n    help: [\n        \"assist\",\n        \"support\",\n        \"aid\"\n    ],\n    show: [\n        \"demonstrate\",\n        \"display\",\n        \"illustrate\"\n    ],\n    use: [\n        \"utilize\",\n        \"employ\",\n        \"apply\"\n    ],\n    quick: [\n        \"swift\",\n        \"rapid\",\n        \"brisk\"\n    ],\n    good: [\n        \"solid\",\n        \"sound\",\n        \"strong\"\n    ],\n    bad: [\n        \"poor\",\n        \"weak\",\n        \"subpar\"\n    ],\n    need: [\n        \"require\",\n        \"necessitate\"\n    ],\n    ensure: [\n        \"guarantee\",\n        \"secure\"\n    ],\n    allow: [\n        \"enable\",\n        \"permit\"\n    ],\n    get: [\n        \"obtain\",\n        \"secure\",\n        \"gain\"\n    ],\n    create: [\n        \"build\",\n        \"craft\",\n        \"produce\"\n    ],\n    increase: [\n        \"boost\",\n        \"raise\",\n        \"expand\"\n    ],\n    make: [\n        \"produce\",\n        \"craft\",\n        \"form\"\n    ],\n    provide: [\n        \"offer\",\n        \"supply\",\n        \"deliver\"\n    ],\n    keep: [\n        \"retain\",\n        \"maintain\",\n        \"preserve\"\n    ],\n    reduce: [\n        \"cut\",\n        \"lower\",\n        \"decrease\"\n    ],\n    lazy: [\n        \"idle\",\n        \"sluggish\"\n    ],\n    jumps: [\n        \"leaps\",\n        \"bounds\"\n    ]\n};\nfunction paraphraseWithProfile(text, profile, options = {}) {\n    if (!text.trim()) return \"\";\n    // Build frequency map from user sample (once) to bias synonym choices toward familiar vocabulary.\n    const freqMap = profile?.sampleExcerpt ? (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.buildFrequencyMap)(profile.sampleExcerpt) : {};\n    const sampleStyle = profile?.sampleExcerpt ? analyzeSampleStyle(profile.sampleExcerpt) : null;\n    // Basic sentence split\n    const sentences = text.split(/(?<=[.!?])\\s+/);\n    const adjusted = sentences.map((s)=>rewriteSentence(s, profile, freqMap, sampleStyle));\n    let result = adjusted.join(\" \");\n    if (profile) {\n        // Adjust descriptiveness by optionally adding/removing adjectives (very naive)\n        if (profile.descriptiveness > 0.7) {\n            result = result.replace(/\\b(idea|concept|plan)\\b/gi, (m)=>\"distinct \" + m);\n        } else if (profile.descriptiveness < 0.3) {\n            result = result.replace(/\\b(distinct|vivid|rich)\\s+(idea|concept|plan)\\b/gi, \"$2\");\n        }\n        // Directness: shorten or slightly expand sentences\n        if (profile.directness > 0.7) {\n            result = result.replace(/\\b(in order to)\\b/gi, \"to\");\n            result = result.replace(/\\b(it is|there is|there are)\\b/gi, \"\");\n        } else if (profile.directness < 0.3) {\n            result = result.replace(/\\b(to)\\b/gi, \"in order to\");\n        }\n        // Lexicon injection (ensure words appear at least once) - only if enabled\n        if (profile.customLexicon?.length && options.includeLexiconNotes !== false) {\n            const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(result));\n            if (missing.length) {\n                result += \"\\n\\nLexicon notes: \" + missing.slice(0, 5).join(\", \");\n            }\n        }\n    }\n    // Pre-contraction enforcement if sample prefers them\n    if (sampleStyle?.usesContractions) {\n        // Apply contraction transforms across multiple common patterns\n        const CONTR_MAP = [\n            [\n                /\\b[Ii]t is\\b/g,\n                \"it's\"\n            ],\n            [\n                /\\b[Dd]o not\\b/g,\n                \"don't\"\n            ],\n            [\n                /\\b[Cc]annot\\b/g,\n                \"can't\"\n            ],\n            [\n                /\\b[Tt]hat is\\b/g,\n                \"that's\"\n            ],\n            [\n                /\\b[Tt]here is\\b/g,\n                \"there's\"\n            ],\n            [\n                /\\b[Yy]ou are\\b/g,\n                \"you're\"\n            ],\n            [\n                /\\bW[eE] are\\b/g,\n                \"we're\"\n            ],\n            [\n                /\\b[Ii] am\\b/g,\n                \"I'm\"\n            ]\n        ];\n        CONTR_MAP.forEach(([r, rep])=>{\n            result = result.replace(r, rep);\n        });\n        // Guarantee at least one contraction if sample used them and text had eligible patterns\n        if (!/\\b(?:it's|don't|can't|that's|there's|you're|we're|I'm)\\b/i.test(result)) {\n            result = result.replace(/\\bIt is\\b/, \"It's\");\n        }\n    }\n    result = humanizeText(result, {\n        allowContractions: sampleStyle ? sampleStyle.usesContractions : true,\n        preferredTransitions: sampleStyle?.preferredTransitions || []\n    });\n    // High-directness aggressive simplification (pre-empt flowery phrasing)\n    if (profile?.directness && profile.directness > 0.9) {\n        result = aggressiveDirectSimplify(result);\n    }\n    // If effectively unchanged, apply a fallback diversification pass\n    if (roughlyEqual(text, result)) {\n        result = fallbackDiversify(text, profile, freqMap);\n    }\n    // Enforce minimum lexical change ratio for high directness/pacing: if too similar, force variation\n    if (profile?.directness && profile.directness > 0.9) {\n        const ratio = lexicalChangeRatio(text, result);\n        if (ratio < 0.22) {\n            result = forceVariation(result, 0.25);\n        }\n    }\n    // If sample style has target sentence length significantly different, lightly adjust (post-pass)\n    if (sampleStyle && sampleStyle.avgSentenceLength) {\n        const target = sampleStyle.avgSentenceLength;\n        // If our output sentences are much longer than sample, try splitting on commas.\n        if (target < 90) {\n            result = result.replace(/([^.!?]{140,}?),(\\s+)/g, (m, clause, sp)=>clause + \". \");\n        } else if (target > 130) {\n            // Sample prefers longer sentences: occasionally merge adjacent short ones.\n            const parts = result.split(/(?<=[.!?])\\s+/);\n            for(let i = 0; i < parts.length - 1; i++){\n                if (parts[i].length < 60 && parts[i + 1].length < 60 && Math.random() < 0.4) {\n                    parts[i] = parts[i].replace(/[.!?]$/, \"\") + \", \" + parts[i + 1].charAt(0).toLowerCase() + parts[i + 1].slice(1);\n                    parts.splice(i + 1, 1);\n                    i--;\n                }\n            }\n            result = parts.join(\" \");\n        }\n    }\n    return result.trim();\n}\nfunction rewriteSentence(sentence, profile, freqMap = {}, sampleStyle = null) {\n    let s = sentence;\n    // Replace synonyms respecting formality (simple heuristic: higher formality -> pick later synonym)\n    s = s.replace(/\\b([a-zA-Z]+)\\b/g, (match)=>{\n        const key = match.toLowerCase();\n        const syns = SYNONYMS[key];\n        if (!syns) return match;\n        // Slight stochastic choice for variety; bias by formality when profile present.\n        if (!profile) {\n            // Try frequency preference even without profile style sliders if sample available\n            const preferred = (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.pickPreferred)(syns, freqMap) || pickSyn(syns);\n            return preserveCase(match, preferred);\n        }\n        const bias = Math.min(syns.length - 1, Math.floor(profile.formality * syns.length));\n        let candidatePool = [\n            ...syns\n        ];\n        // If frequency preference hits, elevate it.\n        const preferred = (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.pickPreferred)(syns, freqMap);\n        if (preferred) {\n            candidatePool = [\n                preferred,\n                ...syns.filter((sy)=>sy !== preferred)\n            ];\n        }\n        // If sample style has high frequency simple word present among synonyms, prefer it.\n        if (sampleStyle && sampleStyle.highFrequencyWords.length) {\n            const samplePreferred = candidatePool.find((c)=>sampleStyle.highFrequencyWords.includes(c.toLowerCase()));\n            if (samplePreferred) {\n                candidatePool = [\n                    samplePreferred,\n                    ...candidatePool.filter((c)=>c !== samplePreferred)\n                ];\n            }\n        }\n        const chosen = Math.random() < 0.55 ? candidatePool[0] : candidatePool[Math.floor(Math.random() * candidatePool.length)];\n        return preserveCase(match, chosen);\n    });\n    // Pacing: shorter sentences for higher pacing, else expand slightly\n    if (profile) {\n        if (profile.pacing > 0.7 && s.length > 120) {\n            s = s.replace(/,\\s+which/gi, \". Which\");\n        } else if (profile.pacing < 0.3 && s.length < 80) {\n            s = s.replace(/\\.$/, \", which in turn\");\n        }\n    }\n    // Inject sample style preferred transitions at start occasionally\n    if (sampleStyle && sampleStyle.preferredTransitions.length && !/^\\s*(However|Moreover|Additionally|Still|Instead|Meanwhile)/i.test(s)) {\n        if (Math.random() < 0.18) {\n            const t = sampleStyle.preferredTransitions[Math.floor(Math.random() * sampleStyle.preferredTransitions.length)];\n            s = t + \" \" + s.charAt(0).toLowerCase() + s.slice(1);\n        }\n    }\n    return s;\n}\nfunction preserveCase(original, replacement) {\n    if (original === original.toUpperCase()) return replacement.toUpperCase();\n    if (original[0] === original[0].toUpperCase()) return replacement.charAt(0).toUpperCase() + replacement.slice(1);\n    return replacement;\n}\nfunction capitalizeIf(original, word) {\n    if (original[0] === original[0].toUpperCase()) return word.charAt(0).toUpperCase() + word.slice(1);\n    return word;\n}\nfunction escapeReg(s) {\n    return s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction pickSyn(list) {\n    return list[Math.floor(Math.random() * list.length)];\n}\nfunction roughlyEqual(a, b) {\n    const na = a.replace(/\\s+/g, \" \").trim().toLowerCase();\n    const nb = b.replace(/\\s+/g, \" \").trim().toLowerCase();\n    return na === nb;\n}\nfunction fallbackDiversify(text, profile, freqMap = {}) {\n    // Force a few lexical substitutions on content words not already in synonym map by injecting mild adjectives or splitting sentences.\n    let t = text;\n    // Split long sentences (> 24 words) in half.\n    t = t.replace(/([^.!?]{120,}?)([,:;])\\s+/g, (m, clause, sep)=>clause + \". \");\n    // Replace some conjunction patterns to vary rhythm.\n    t = t.replace(/\\band\\s+then\\b/gi, \"then\");\n    t = t.replace(/\\bbut\\b/gi, \"yet\");\n    // Inject a light adverb after first verb if none changed.\n    const words = t.split(/(\\s+)/);\n    let injected = false;\n    for(let i = 0; i < words.length; i++){\n        if (/^[a-zA-Z]{6,}$/.test(words[i]) && !injected) {\n            const wLower = words[i].toLowerCase();\n            if (SYNONYMS[wLower]) {\n                words[i] = preserveCase(words[i], SYNONYMS[wLower][0]);\n                injected = true;\n            }\n        }\n    }\n    if (!injected) {\n        // Add a concise qualifier to first noun-like token\n        for(let i = 0; i < words.length; i++){\n            if (/^[A-Za-z]{5,}$/.test(words[i])) {\n                words[i] = \"notably \" + words[i];\n                break;\n            }\n        }\n    }\n    t = words.join(\"\");\n    if (profile?.customLexicon?.length) {\n        const firstMissing = profile.customLexicon.find((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(t));\n        if (firstMissing) t += (t.endsWith(\".\") ? \"\" : \".\") + \" \" + firstMissing + \".\";\n    }\n    return t;\n}\n// Compute proportion of tokens changed (case-insensitive exact match comparison)\nfunction lexicalChangeRatio(original, updated) {\n    const oTokens = original.split(/\\b/).filter((t)=>/[A-Za-z]/.test(t));\n    const uTokens = updated.split(/\\b/).filter((t)=>/[A-Za-z]/.test(t));\n    if (!oTokens.length || !uTokens.length) return 0;\n    const minLen = Math.min(oTokens.length, uTokens.length);\n    let changed = 0;\n    for(let i = 0; i < minLen; i++){\n        if (oTokens[i].toLowerCase() !== uTokens[i].toLowerCase()) changed++;\n    }\n    // Penalize identical trailing structure\n    return changed / minLen;\n}\n// Force additional lexical variation by replacing a fraction of content words with synonyms / simplifications.\nfunction forceVariation(text, targetExtraRatio) {\n    const words = text.split(/(\\s+)/);\n    const CONTENT = /[A-Za-z]{5,}/;\n    const replBank = {\n        shimmering: [\n            \"bright\",\n            \"gleaming\",\n            \"clear\"\n        ],\n        radiant: [\n            \"bright\",\n            \"vivid\"\n        ],\n        expanse: [\n            \"area\",\n            \"domain\"\n        ],\n        epoch: [\n            \"era\",\n            \"period\"\n        ],\n        intertwines: [\n            \"links\",\n            \"connects\",\n            \"blends\"\n        ],\n        seamlessly: [\n            \"smoothly\",\n            \"directly\"\n        ],\n        symphony: [\n            \"system\",\n            \"blend\"\n        ],\n        optimized: [\n            \"efficient\",\n            \"streamlined\"\n        ],\n        existence: [\n            \"life\"\n        ],\n        luminous: [\n            \"bright\"\n        ],\n        corridors: [\n            \"paths\",\n            \"channels\"\n        ],\n        resonance: [\n            \"flow\",\n            \"signal\"\n        ],\n        quantified: [\n            \"scored\",\n            \"measured\"\n        ],\n        archived: [\n            \"stored\"\n        ],\n        refined: [\n            \"improved\",\n            \"honed\"\n        ],\n        predictive: [\n            \"forecast\"\n        ],\n        precision: [\n            \"accuracy\"\n        ],\n        malleable: [\n            \"flexible\"\n        ],\n        construct: [\n            \"form\"\n        ],\n        streams: [\n            \"flows\"\n        ],\n        continuum: [\n            \"blend\",\n            \"span\"\n        ],\n        converge: [\n            \"merge\",\n            \"blend\"\n        ],\n        limitations: [\n            \"limits\"\n        ],\n        horizon: [\n            \"future edge\",\n            \"outlook\"\n        ],\n        progress: [\n            \"advance\",\n            \"growth\"\n        ]\n    };\n    let applied = 0;\n    const target = Math.ceil(words.length * targetExtraRatio);\n    for(let i = 0; i < words.length && applied < target; i++){\n        const w = words[i];\n        if (!CONTENT.test(w)) continue;\n        const key = w.toLowerCase();\n        const cand = replBank[key];\n        if (cand) {\n            const replacement = cand[Math.floor(Math.random() * cand.length)];\n            words[i] = preserveCase(w, replacement);\n            applied++;\n        }\n    }\n    return words.join(\"\");\n}\n// Aggressive direct simplification of ornate metaphoric phrases (idempotent-ish).\nfunction aggressiveDirectSimplify(t) {\n    const PHRASES = [\n        [\n            /Amid the radiant expanse of a hyper-connected epoch/gi,\n            \"In a highly connected era\"\n        ],\n        [\n            /human imagination intertwines seamlessly with machine intelligence/gi,\n            \"human ideas link with machine intelligence\"\n        ],\n        [\n            /symphony of optimized existence/gi,\n            \"more efficient daily life\"\n        ],\n        [\n            /luminous corridors of digital resonance/gi,\n            \"bright digital channels\"\n        ],\n        [\n            /emotion is quantified,? memory is archived,? and creativity is algorithmically refined/gi,\n            \"emotion is measured, memory stored, and creativity tuned by algorithms\"\n        ],\n        [\n            /the world hums with predictive precision/gi,\n            \"systems run on early predictions\"\n        ],\n        [\n            /cities glow with algorithmic rhythms/gi,\n            \"cities run on automated cycles\"\n        ],\n        [\n            /identity itself becomes a malleable construct sculpted by streams of data/gi,\n            \"identity turns flexible and shaped by data\"\n        ],\n        [\n            /in this shimmering continuum/gi,\n            \"in this blended layer\"\n        ],\n        [\n            /reality and simulation converge/gi,\n            \"reality and simulation merge\"\n        ],\n        [\n            /dissolving the limitations of time and space/gi,\n            \"reducing time and distance limits\"\n        ],\n        [\n            /boundless horizon of progress shimmering in eternal algorithmic dawn/gi,\n            \"open-ended incremental innovation\"\n        ]\n    ];\n    PHRASES.forEach(([rx, rep])=>{\n        t = t.replace(rx, rep);\n    });\n    // Remove double adjectives (radiant expanse -> expanse, unless expanse replaced earlier)\n    t = t.replace(/\\b(radiant|shimmering|luminous)\\s+(expanse|horizon|network)\\b/gi, \"$2\");\n    // Collapse multiple spaces\n    return t.replace(/\\s{2,}/g, \" \");\n}\n// Humanization post-process: add gentle variability, contractions, avoid overly AI formality.\nfunction humanizeText(text, opts = {}) {\n    let t = text;\n    // Normalize spacing and fix multiple spaces\n    t = t.replace(/ +/g, \" \");\n    // Remove repetitive word patterns (words repeated 2+ times in a row)\n    t = t.replace(/\\b(\\w+)(\\s+\\1){2,}\\b/gi, \"$1\");\n    // Remove repetitive phrase patterns (simple detection)\n    t = t.replace(/\\b(.{10,30}?)\\s+\\1\\b/gi, \"$1\");\n    // Contractions (simple set)\n    if (opts.allowContractions !== false) {\n        const CONTRACTIONS = [\n            [\n                /\\b[Dd]o not\\b/g,\n                \"don't\"\n            ],\n            [\n                /\\b[Ii]t is\\b/g,\n                \"it's\"\n            ],\n            [\n                /\\b[Cc]annot\\b/g,\n                \"can't\"\n            ],\n            [\n                /\\b[Tt]hat is\\b/g,\n                \"that's\"\n            ],\n            [\n                /\\b[Tt]here is\\b/g,\n                \"there's\"\n            ],\n            [\n                /\\b[Yy]ou are\\b/g,\n                \"you're\"\n            ],\n            [\n                /\\bW[eE] are\\b/g,\n                \"we're\"\n            ],\n            [\n                /\\b[Ii] am\\b/g,\n                \"I'm\"\n            ]\n        ];\n        CONTRACTIONS.forEach(([r, rep])=>{\n            t = t.replace(r, rep);\n        });\n    } else {\n        // If contractions disallowed, expand any that slipped in\n        const EXPAND = [\n            [\n                /\\bit's\\b/gi,\n                \"it is\"\n            ],\n            [\n                /\\bcan't\\b/gi,\n                \"cannot\"\n            ],\n            [\n                /\\bthat's\\b/gi,\n                \"that is\"\n            ],\n            [\n                /\\bthere's\\b/gi,\n                \"there is\"\n            ],\n            [\n                /\\byou're\\b/gi,\n                \"you are\"\n            ],\n            [\n                /\\bwe're\\b/gi,\n                \"we are\"\n            ],\n            [\n                /\\bI'm\\b/g,\n                \"I am\"\n            ],\n            [\n                /\\bdon't\\b/gi,\n                \"do not\"\n            ]\n        ];\n        EXPAND.forEach(([r, rep])=>{\n            t = t.replace(r, rep);\n        });\n    }\n    // Slight sentence length variation: occasionally merge very short sentences.\n    const parts = t.split(/(?<=[.!?])\\s+/);\n    for(let i = 0; i < parts.length - 1; i++){\n        if (parts[i].length < 25 && parts[i + 1].length < 40 && Math.random() < 0.3) {\n            parts[i] = parts[i].replace(/[.!?]$/, \"\") + \", \" + parts[i + 1].charAt(0).toLowerCase() + parts[i + 1].slice(1);\n            parts.splice(i + 1, 1);\n            i--;\n        }\n    }\n    t = parts.join(\" \");\n    // Avoid AI style openings\n    t = t.replace(/^Here(?:'|)s a(?:n)? /i, \"\").replace(/^This is a /i, \"\");\n    t = t.replace(/^(?:Certainly|Of course)[,!]?\\s*/i, \"\");\n    // Remove lingering meta phrasing\n    t = t.replace(/I (?:have|have just|will) (?:maintained|kept|preserved|ensured) .*?$/i, \"\").trim();\n    t = t.replace(/(?:This|The above) (?:maintains|preserves|ensures) .*?$/i, \"\").trim();\n    // Fix trailing incomplete sentences\n    const sentences = t.split(/(?<=[.!?])\\s+/);\n    if (sentences.length > 1) {\n        const lastSentence = sentences[sentences.length - 1];\n        // If last sentence is incomplete and short, remove it\n        if (!/[.!?]$/.test(lastSentence.trim()) && lastSentence.trim().length < 15) {\n            sentences.pop();\n            t = sentences.join(\" \");\n        }\n    }\n    return t.trim();\n}\n// Final verification + styling pass to ensure output is humanized and style aspects considered.\nfunction finalizeOutput(raw, profile, options = {}) {\n    let out = (raw || \"\").trim();\n    if (!out) return \"\";\n    // Remove unwanted prefaces.\n    out = out.replace(/^Here(?:'|)s (?:the )?(?:rewritten|paraphrased) text:?\\s*/i, \"\").replace(/^Paraphrased (?:version|text)[:\\-]?\\s*/i, \"\");\n    // Aggressive simplification of ornate metaphors for very direct styles before other passes.\n    if (profile?.directness && profile.directness > 0.9) {\n        out = simplifyFlowery(out);\n    }\n    const sampleStyle = profile?.sampleExcerpt ? analyzeSampleStyle(profile.sampleExcerpt) : null;\n    out = humanizeText(out, {\n        allowContractions: sampleStyle ? sampleStyle.usesContractions : true,\n        preferredTransitions: sampleStyle?.preferredTransitions || []\n    });\n    if (sampleStyle) {\n        // Use original raw text context not available here; adapt relative to current only.\n        out = adaptToSampleStyle(out, out, sampleStyle);\n    }\n    if (profile) {\n        if (profile.directness > 0.75) out = out.replace(/\\b(in order to)\\b/gi, \"to\");\n        if (profile.directness < 0.25) {\n            let replaced = 0;\n            out = out.replace(/\\bto\\b/g, (m)=>replaced++ < 2 ? \"in order to\" : m);\n        }\n        // Only add lexicon notes if explicitly enabled (default: true for backward compatibility)\n        if (profile.customLexicon?.length && options.includeLexiconNotes !== false) {\n            console.log(\"Adding lexicon notes because includeLexiconNotes:\", options.includeLexiconNotes);\n            const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\b${escapeReg(w)}\\b`, \"i\").test(out));\n            if (missing.length && !/Lexicon notes:/i.test(out)) {\n                out += `\\n\\nLexicon notes: ${missing.slice(0, 5).join(\", \")}`;\n            }\n        } else {\n            console.log(\"NOT adding lexicon notes because includeLexiconNotes:\", options.includeLexiconNotes);\n        }\n    }\n    const enforced = (0,_styleRules_ts__WEBPACK_IMPORTED_MODULE_1__.enforceStyleRulesWithActions)(out);\n    out = enforced.text.replace(/\\s+$/, \"\");\n    // Repair accidental fragment splits: lowercase after a period likely a false split → join.\n    out = out.replace(/([a-z])\\.\\s+([a-z])/g, \"$1 $2\");\n    // Collapse stray multi-period artifacts.\n    out = out.replace(/\\.(\\s*\\.)+/g, \".\");\n    // Secondary punctuation normalization\n    out = out.replace(/,\\s*\\./g, \".\").replace(/\\.(\\s*,)+/g, \".\");\n    out = out.replace(/\\bof of\\b/gi, \"of\");\n    out = out.replace(/\\s+'s\\b/g, \"'s\");\n    out = fixSpellingArtifacts(out);\n    out = validateAndRepair(out, profile);\n    return {\n        text: out,\n        actions: enforced.actions\n    };\n}\n// Simplify figurative / ornate phrases into concise, direct equivalents.\nfunction simplifyFlowery(t) {\n    const replacements = [\n        [\n            /shimmering architecture of tomorrow['’]s digital frontier/gi,\n            \"future digital infrastructure\"\n        ],\n        [\n            /shimmering architecture/gi,\n            \"digital structure\"\n        ],\n        [\n            /endless streams of data/gi,\n            \"continuous data streams\"\n        ],\n        [\n            /vast (and )?luminous network of shared cognition/gi,\n            \"large shared network\"\n        ],\n        [\n            /cities evolve into breathing organisms/gi,\n            \"cities operate as adaptive systems\"\n        ],\n        [\n            /quantum currents (and|&) algorithmic symphonies/gi,\n            \"high‑speed compute pipelines\"\n        ],\n        [\n            /even silence is calculated,? archived,? and optimized/gi,\n            \"everything is tracked and tuned\"\n        ],\n        [\n            /time itself becomes elastic/gi,\n            \"time feels compressed\"\n        ],\n        [\n            /bending gracefully to the will of predictive engines that anticipate desire before it arises/gi,\n            \"driven by systems that predict needs early\"\n        ],\n        [\n            /individuality dissolves into the elegant geometry of collective progress/gi,\n            \"individual signals fold into shared progress\"\n        ],\n        [\n            /the distinction between thought and technology fades/gi,\n            \"human intent and tool execution blur\"\n        ],\n        [\n            /harmonious rhythm of perpetual innovation/gi,\n            \"constant incremental innovation\"\n        ]\n    ];\n    replacements.forEach(([rx, rep])=>{\n        t = t.replace(rx, rep);\n    });\n    // Remove stacked ornate adjectives (keep last core noun phrase)\n    t = t.replace(/\\b([A-Za-z]+,\\s+){1,3}([A-Za-z]+) (network|system|architecture|progress)\\b/g, \"$2 $3\");\n    return t.replace(/\\s{2,}/g, \" \");\n}\nconst AI_PHRASES = [\n    \"in conclusion\",\n    \"this article\",\n    \"the following\",\n    \"as an ai\",\n    \"here is\",\n    \"here are\",\n    \"in this section\",\n    \"overall,\"\n];\nfunction analyzeHumanization(text, profile) {\n    const sentences = text.split(/(?<=[.!?])\\s+/).filter((s)=>s.trim().length);\n    const sentenceLengths = sentences.map((s)=>s.length);\n    const avg = sentenceLengths.reduce((a, b)=>a + b, 0) / (sentenceLengths.length || 1);\n    const variance = sentenceLengths.reduce((a, b)=>a + Math.pow(b - avg, 2), 0) / (sentenceLengths.length || 1);\n    const std = Math.sqrt(variance);\n    const words = text.toLowerCase().match(/\\b[\\w']+\\b/g) || [];\n    const unique = new Set(words);\n    const uniqueRatio = words.length ? unique.size / words.length : 0;\n    const hits = AI_PHRASES.filter((p)=>new RegExp(`\\\\b${escapeReg(p)}\\\\b`, \"i\").test(text));\n    // Custom lexicon presence count\n    let lexCount = 0;\n    if (profile?.customLexicon?.length) {\n        for (const w of profile.customLexicon){\n            if (new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(text)) lexCount++;\n        }\n    }\n    // Repeated sentence starts\n    const startsFreq = {};\n    for (const s of sentences){\n        const m = s.trim().match(/^([A-Za-z']+)/);\n        if (m) {\n            const k = m[1].toLowerCase();\n            startsFreq[k] = (startsFreq[k] || 0) + 1;\n        }\n    }\n    const maxStart = Object.values(startsFreq).reduce((a, b)=>Math.max(a, b), 0);\n    const repeatedStartsRatio = sentences.length ? maxStart / sentences.length : 0;\n    const isHumanized = avg >= 40 && avg <= 260 && // not too uniform extremes\n    std >= 15 && // some variance\n    uniqueRatio > 0.35 && hits.length === 0 && repeatedStartsRatio < 0.5 && (!profile?.customLexicon?.length || lexCount > 0);\n    return {\n        sentenceCount: sentences.length,\n        avgSentenceLength: avg,\n        sentenceLengthStd: std,\n        uniqueTokenRatio: uniqueRatio,\n        aiPhraseHits: hits,\n        customLexiconPresent: lexCount,\n        repeatedStartsRatio,\n        isHumanized,\n        passes: 0\n    };\n}\nfunction verifyAndFinalize(raw, profile, maxPasses = 2, options = {}) {\n    let currentResult = finalizeOutput(raw, profile, options);\n    let current = typeof currentResult === \"string\" ? currentResult : currentResult.text;\n    let metrics = analyzeHumanization(current, profile);\n    let passes = 0;\n    while(!metrics.isHumanized && passes < maxPasses){\n        passes++;\n        current = adjustmentPass(current, profile, passes);\n        const re = finalizeOutput(current, profile, options);\n        current = typeof re === \"string\" ? re : re.text; // re-apply cleanup\n        metrics = analyzeHumanization(current, profile);\n        metrics.passes = passes;\n    }\n    metrics.passes = passes;\n    return {\n        output: current,\n        metrics\n    };\n}\nfunction adjustmentPass(text, profile, pass) {\n    let t = text;\n    // If sentence variance low, attempt merges or splits.\n    const sentences = t.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    if (sentences.length > 2) {\n        // Merge two shortest\n        const sortedIdx = sentences.map((s, i)=>({\n                s,\n                i\n            })).sort((a, b)=>a.s.length - b.s.length).slice(0, 2).map((o)=>o.i).sort((a, b)=>b - a);\n        if (sortedIdx.length === 2 && Math.random() < 0.6) {\n            const a = sentences[sortedIdx[1]].replace(/[.!?]$/, \"\");\n            sentences[sortedIdx[1]] = a + \", \" + sentences[sortedIdx[0]].charAt(0).toLowerCase() + sentences[sortedIdx[0]].slice(1);\n            sentences.splice(sortedIdx[0], 1);\n            t = sentences.join(\" \");\n        }\n    }\n    // Remove AI phrases if any\n    for (const phrase of AI_PHRASES){\n        const re = new RegExp(`\\\\b${escapeReg(phrase)}\\\\b`, \"ig\");\n        t = t.replace(re, \"\");\n    }\n    // If lexicon missing, inject subtle parenthetical rather than notes if not already there.\n    if (profile?.customLexicon?.length) {\n        const firstMissing = profile.customLexicon.find((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(t));\n        if (firstMissing && !/Lexicon notes:/i.test(t)) {\n            t += (t.endsWith(\".\") ? \"\" : \".\") + \" (\" + firstMissing + \")\";\n        }\n    }\n    // Vary starts if repeated\n    const starts = t.split(/(?<=[.!?])\\s+/).map((s)=>s.trim()).filter(Boolean);\n    const startWords = starts.map((s)=>(s.match(/^([A-Za-z']+)/)?.[1] || \"\").toLowerCase());\n    const freq = {};\n    startWords.forEach((w)=>{\n        if (w) freq[w] = (freq[w] || 0) + 1;\n    });\n    const maxFreqWord = Object.entries(freq).sort((a, b)=>b[1] - a[1])[0]?.[0];\n    if (maxFreqWord) {\n        for(let i = 1; i < starts.length; i++){\n            if (starts[i].toLowerCase().startsWith(maxFreqWord) && Math.random() < 0.5) {\n                starts[i] = varySentenceStart(starts[i]);\n            }\n        }\n        t = starts.join(\" \");\n    }\n    return t;\n}\nfunction varySentenceStart(s) {\n    const transitions = [\n        \"However,\",\n        \"Moreover,\",\n        \"Additionally,\",\n        \"Still,\",\n        \"Instead,\",\n        \"Meanwhile,\"\n    ];\n    const firstWord = s.match(/^([A-Za-z']+)/)?.[1] || \"\";\n    if (!firstWord) return s;\n    if (new RegExp(`^(${transitions.join(\"|\")})`, \"i\").test(s)) return s; // already varied\n    if (Math.random() < 0.6) {\n        return transitions[Math.floor(Math.random() * transitions.length)] + \" \" + s.charAt(0).toLowerCase() + s.slice(1);\n    }\n    return s;\n}\nconst TRANSITION_CANDIDATES = [\n    \"However,\",\n    \"Moreover,\",\n    \"Additionally,\",\n    \"Furthermore,\",\n    \"Meanwhile,\",\n    \"Instead,\",\n    \"Still,\",\n    \"Thus,\",\n    \"Therefore,\"\n];\nfunction analyzeSampleStyle(sample) {\n    const sentences = sample.split(/(?<=[.!?])\\s+/).filter((s)=>s.trim().length);\n    const lengths = sentences.map((s)=>s.length);\n    const avg = lengths.reduce((a, b)=>a + b, 0) / (lengths.length || 1);\n    const variance = lengths.reduce((a, b)=>a + Math.pow(b - avg, 2), 0) / (lengths.length || 1);\n    const std = Math.sqrt(variance);\n    const usesContractions = /\\b(?:[A-Za-z]+n't|it's|I'm|you're|we're|they're|that's)\\b/i.test(sample);\n    // Count transitions\n    const transitionCounts = {};\n    for (const t of TRANSITION_CANDIDATES){\n        const rx = new RegExp(\"^\" + escapeReg(t) + \"\\\\s\", \"gmi\");\n        const count = (sample.match(rx) || []).length;\n        if (count) transitionCounts[t] = count;\n    }\n    const preferredTransitions = Object.entries(transitionCounts).sort((a, b)=>b[1] - a[1]).slice(0, 3).map(([t])=>t);\n    // High frequency words (exclude stopwords)\n    const STOP = new Set([\n        \"the\",\n        \"a\",\n        \"an\",\n        \"and\",\n        \"or\",\n        \"but\",\n        \"of\",\n        \"in\",\n        \"on\",\n        \"for\",\n        \"to\",\n        \"it\",\n        \"is\",\n        \"are\",\n        \"be\",\n        \"as\",\n        \"that\",\n        \"this\",\n        \"with\",\n        \"by\",\n        \"was\",\n        \"were\",\n        \"at\"\n    ]);\n    const words = sample.toLowerCase().match(/\\b[a-z]{4,}\\b/g) || [];\n    const freq = {};\n    for (const w of words){\n        if (!STOP.has(w)) freq[w] = (freq[w] || 0) + 1;\n    }\n    const highFrequencyWords = Object.entries(freq).sort((a, b)=>b[1] - a[1]).slice(0, 30).map(([w])=>w);\n    const commaCount = (sample.match(/,/g) || []).length;\n    const semiCount = (sample.match(/;/g) || []).length;\n    const transitionStarts = sentences.filter((s)=>/^\\s*(However,|Moreover,|Additionally,|Furthermore,|Meanwhile,|Instead,|Still,|Thus,|Therefore,)/i.test(s)).length;\n    // Simple adverb extraction (ending with ly, length >4) frequency\n    const adverbFreq = {};\n    (sample.match(/\\b[a-z]{5,}ly\\b/gi) || []).forEach((w)=>{\n        adverbFreq[w.toLowerCase()] = (adverbFreq[w.toLowerCase()] || 0) + 1;\n    });\n    const topAdverbs = Object.entries(adverbFreq).sort((a, b)=>b[1] - a[1]).slice(0, 5).map(([w])=>w);\n    // Enhanced analysis for AI prompting\n    const allWords = sample.split(/\\s+/);\n    const wordLengths = allWords.map((w)=>w.replace(/[^\\w]/g, \"\").length).filter((l)=>l > 0);\n    const avgWordLength = wordLengths.reduce((sum, len)=>sum + len, 0) / wordLengths.length;\n    // Vocabulary complexity analysis\n    const complexWords = allWords.filter((w)=>w.replace(/[^\\w]/g, \"\").length > 7);\n    const vocabularyComplexity = complexWords.length / allWords.length;\n    // Sentence type analysis\n    const questionSentences = sentences.filter((s)=>s.includes(\"?\")).length;\n    const exclamatorySentences = sentences.filter((s)=>s.includes(\"!\")).length;\n    const questionRatio = sentences.length ? questionSentences / sentences.length : 0;\n    const exclamatoryRatio = sentences.length ? exclamatorySentences / sentences.length : 0;\n    // Sentence starter patterns\n    const sentenceStarters = sentences.map((s)=>{\n        const firstWord = s.trim().split(/\\s+/)[0]?.toLowerCase()?.replace(/[^\\w]/g, \"\");\n        return firstWord;\n    }).filter(Boolean);\n    const starterPatterns = {};\n    sentenceStarters.forEach((starter)=>{\n        if (starter && starter.length > 2) {\n            starterPatterns[starter] = (starterPatterns[starter] || 0) + 1;\n        }\n    });\n    const commonStarters = Object.entries(starterPatterns).sort(([, a], [, b])=>b - a).slice(0, 5).map(([starter])=>starter);\n    // Conjunction density\n    const conjunctions = [\n        \"and\",\n        \"but\",\n        \"or\",\n        \"nor\",\n        \"yet\",\n        \"so\",\n        \"because\",\n        \"since\",\n        \"although\",\n        \"while\",\n        \"if\",\n        \"unless\"\n    ];\n    const conjunctionCount = conjunctions.reduce((count, conj)=>{\n        const regex = new RegExp(`\\\\b${conj}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const conjunctionDensity = sentences.length ? conjunctionCount / sentences.length : 0;\n    // Descriptive language patterns\n    const adjectivePatterns = /\\b(beautiful|amazing|wonderful|terrible|horrible|excellent|outstanding|remarkable|extraordinary|incredible|fantastic|brilliant|magnificent|stunning|gorgeous|lovely|charming|delightful|pleasant|impressive|significant|important|crucial|essential|vital|necessary|useful|helpful|effective|successful|powerful|strong|weak|small|large|huge|tiny|enormous|massive|great|good|bad|poor|rich|expensive|cheap|easy|difficult|hard|simple|complex|complicated)\\b/gi;\n    const adjectives = sample.match(adjectivePatterns) || [];\n    const adjectiveDensity = adjectives.length / allWords.length;\n    // Tone analysis\n    const positiveWords = [\n        \"good\",\n        \"great\",\n        \"excellent\",\n        \"amazing\",\n        \"wonderful\",\n        \"fantastic\",\n        \"brilliant\",\n        \"outstanding\",\n        \"impressive\",\n        \"successful\",\n        \"effective\",\n        \"helpful\",\n        \"useful\",\n        \"important\",\n        \"significant\",\n        \"valuable\",\n        \"beneficial\"\n    ];\n    const negativeWords = [\n        \"bad\",\n        \"terrible\",\n        \"horrible\",\n        \"awful\",\n        \"poor\",\n        \"weak\",\n        \"difficult\",\n        \"hard\",\n        \"complicated\",\n        \"problematic\",\n        \"challenging\",\n        \"concerning\",\n        \"disappointing\",\n        \"ineffective\",\n        \"useless\"\n    ];\n    const positiveCount = positiveWords.reduce((count, word)=>{\n        const regex = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const negativeCount = negativeWords.reduce((count, word)=>{\n        const regex = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const toneBalance = positiveCount > negativeCount ? \"positive\" : negativeCount > positiveCount ? \"negative\" : \"neutral\";\n    // Personal voice analysis\n    const firstPersonPronouns = (sample.match(/\\b(I|me|my|mine|myself|we|us|our|ours|ourselves)\\b/gi) || []).length;\n    const secondPersonPronouns = (sample.match(/\\b(you|your|yours|yourself|yourselves)\\b/gi) || []).length;\n    const thirdPersonPronouns = (sample.match(/\\b(he|she|it|they|him|her|them|his|hers|its|their|theirs|himself|herself|itself|themselves)\\b/gi) || []).length;\n    const personalVoice = firstPersonPronouns > secondPersonPronouns + thirdPersonPronouns ? \"first-person\" : secondPersonPronouns > firstPersonPronouns + thirdPersonPronouns ? \"second-person\" : \"third-person\";\n    // ENHANCED SENTENCE CONSTRUCTION ANALYSIS\n    // Sentence structure patterns\n    const sentenceStructures = sentences.map((sentence)=>{\n        const trimmed = sentence.trim();\n        const hasSubordinate = /\\b(because|since|although|while|if|unless|when|where|that|which)\\b/i.test(trimmed);\n        const hasCoordinate = /\\b(and|but|or|nor|yet|so)\\b/i.test(trimmed);\n        const hasParentheticals = /\\([^)]+\\)|\\[[^\\]]+\\]|,\\s+[^,]+,/g.test(trimmed);\n        const hasAppositive = /,\\s+(?:a|an|the)\\s+\\w+(?:\\s+\\w+)*,/i.test(trimmed);\n        const startsWithDependent = /^(?:Because|Since|Although|While|If|Unless|When|Where|That|Which)\\b/i.test(trimmed);\n        return {\n            hasSubordinate,\n            hasCoordinate,\n            hasParentheticals,\n            hasAppositive,\n            startsWithDependent,\n            length: trimmed.length\n        };\n    });\n    // Calculate construction preferences\n    const constructionPatterns = {\n        subordinateClauseRatio: sentenceStructures.filter((s)=>s.hasSubordinate).length / sentences.length,\n        coordinateClauseRatio: sentenceStructures.filter((s)=>s.hasCoordinate).length / sentences.length,\n        parentheticalRatio: sentenceStructures.filter((s)=>s.hasParentheticals).length / sentences.length,\n        appositiveRatio: sentenceStructures.filter((s)=>s.hasAppositive).length / sentences.length,\n        frontLoadedDependentRatio: sentenceStructures.filter((s)=>s.startsWithDependent).length / sentences.length\n    };\n    // Punctuation patterns\n    const punctuationPatterns = {\n        dashUsage: (sample.match(/—|--/g) || []).length,\n        colonUsage: (sample.match(/:/g) || []).length,\n        ellipsisUsage: (sample.match(/\\.\\.\\./g) || []).length,\n        quotationUsage: (sample.match(/[\"']/g) || []).length\n    };\n    // Sentence complexity analysis\n    const clausePatterns = sentences.map((sentence)=>{\n        const clauses = sentence.split(/[,;]/).length;\n        return clauses;\n    });\n    const avgClausesPerSentence = clausePatterns.reduce((sum, count)=>sum + count, 0) / clausePatterns.length;\n    // Parallel structure detection\n    const parallelStructures = sentences.filter((sentence)=>{\n        // Look for patterns like \"X, Y, and Z\" or \"to X, to Y, and to Z\"\n        const parallelPatterns = [\n            /\\b\\w+ing,\\s*\\w+ing,?\\s*(?:and|or)\\s*\\w+ing\\b/g,\n            /\\bto\\s+\\w+,\\s*to\\s+\\w+,?\\s*(?:and|or)\\s*to\\s+\\w+\\b/g,\n            /\\b(?:the|a|an)\\s+\\w+,\\s*(?:the|a|an)\\s+\\w+,?\\s*(?:and|or)\\s*(?:the|a|an)\\s+\\w+\\b/g\n        ];\n        return parallelPatterns.some((pattern)=>pattern.test(sentence));\n    }).length;\n    const parallelStructureRatio = sentences.length ? parallelStructures / sentences.length : 0;\n    // Modifier placement patterns\n    const modifierPatterns = {\n        frontLoadedAdverbs: sentences.filter((s)=>/^\\s*\\w+ly,?\\s+/i.test(s)).length / sentences.length,\n        midSentenceAdverbs: sentences.filter((s)=>/,\\s+\\w+ly,?\\s+/i.test(s)).length / sentences.length,\n        endSentenceAdverbs: sentences.filter((s)=>/\\s+\\w+ly\\.?$/i.test(s)).length / sentences.length\n    };\n    return {\n        avgSentenceLength: avg,\n        sentenceLengthStd: std,\n        usesContractions,\n        preferredTransitions,\n        highFrequencyWords,\n        commaPerSentence: sentences.length ? commaCount / sentences.length : 0,\n        semicolonRatio: sentences.length ? semiCount / sentences.length : 0,\n        transitionStartRatio: sentences.length ? transitionStarts / sentences.length : 0,\n        topAdverbs,\n        // Enhanced properties for AI prompting\n        avgWordLength,\n        vocabularyComplexity,\n        questionRatio,\n        exclamatoryRatio,\n        commonStarters,\n        conjunctionDensity,\n        adjectiveDensity,\n        toneBalance,\n        personalVoice,\n        // NEW: Sentence construction patterns\n        constructionPatterns,\n        punctuationPatterns,\n        avgClausesPerSentence,\n        parallelStructureRatio,\n        modifierPatterns\n    };\n}\n// Adapt output to more closely reflect sample stylistic metrics (light touch to preserve meaning)\nfunction adaptToSampleStyle(original, current, sampleStyle) {\n    let out = current;\n    const sentences = out.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    // Adjust sentence length distribution toward sample average (merge or split)\n    const curAvg = sentences.reduce((a, b)=>a + b.length, 0) / (sentences.length || 1);\n    if (sampleStyle.avgSentenceLength && Math.abs(curAvg - sampleStyle.avgSentenceLength) > 40) {\n        if (curAvg < sampleStyle.avgSentenceLength) {\n            // merge adjacent short sentences\n            for(let i = 0; i < sentences.length - 1; i++){\n                if (sentences[i].length < 70 && sentences[i + 1].length < 70) {\n                    sentences[i] = sentences[i].replace(/[.!?]$/, \"\") + \", \" + sentences[i + 1].charAt(0).toLowerCase() + sentences[i + 1].slice(1);\n                    sentences.splice(i + 1, 1);\n                    i--;\n                    if (sentences.reduce((a, b)=>a + b.length, 0) / (sentences.length || 1) >= sampleStyle.avgSentenceLength) break;\n                }\n            }\n        } else {\n            // split long sentences on commas\n            for(let i = 0; i < sentences.length; i++){\n                if (sentences[i].length > 160) {\n                    const parts = sentences[i].split(/,\\s+/);\n                    if (parts.length > 2) {\n                        const first = parts.slice(0, Math.ceil(parts.length / 2)).join(\", \");\n                        const second = parts.slice(Math.ceil(parts.length / 2)).join(\", \");\n                        sentences[i] = first + \".\";\n                        sentences.splice(i + 1, 0, second.charAt(0).toUpperCase() + second.slice(1));\n                        i++;\n                    }\n                }\n            }\n        }\n    }\n    out = sentences.join(\" \");\n    // Increase transitional openings if sample uses them frequently\n    if (sampleStyle.transitionStartRatio > 0.3) {\n        const transNeeded = Math.ceil(sentences.length * sampleStyle.transitionStartRatio);\n        let applied = 0;\n        for(let i = 0; i < sentences.length && applied < transNeeded; i++){\n            if (!/^\\s*(However,|Moreover,|Additionally,|Furthermore,|Meanwhile,|Instead,|Still,|Thus,|Therefore,)/i.test(sentences[i])) {\n                const t = sampleStyle.preferredTransitions[applied % sampleStyle.preferredTransitions.length] || \"However,\";\n                sentences[i] = t + \" \" + sentences[i].charAt(0).toLowerCase() + sentences[i].slice(1);\n                applied++;\n            }\n        }\n        out = sentences.join(\" \");\n    }\n    // If comma density in sample higher, lightly add commas before which/that clauses\n    if (sampleStyle.commaPerSentence > 1.2) {\n        out = out.replace(/\\bwhich\\s+/gi, \"which \").replace(/\\bthat\\s+/gi, \"that \");\n        out = out.replace(/\\b(which|that)\\s+([a-z]+)/gi, (m, rel, nxt)=>\", \" + rel + \" \" + nxt);\n    }\n    // REMOVED: Auto-injection of adverbs that breaks sentence structure\n    // The AI should handle vocabulary naturally without forced insertions\n    // If lexical change is still very low (<12%) relative to original, force additional variation\n    if (lexicalChangeRatio(original, out) < 0.12) {\n        out = forceVariation(out, 0.18);\n    }\n    return out;\n}\n// --- Artifact & spelling cleanup ---\nfunction fixSpellingArtifacts(text) {\n    let t = text;\n    // Collapse accidental immediate word repetitions (case-insensitive) for words > 3 chars, keep first.\n    t = t.replace(/\\b([A-Za-z]{4,})\\b(\\s+\\1\\b)+/gi, (m, w)=>w);\n    // Target a second pass for shorter duplicated function words (is is, the the)\n    t = t.replace(/\\b(is|the|and|to|of)\\b\\s+\\1\\b/gi, \"$1\");\n    // Common adverb / adjective minor typos introduced by trimming or extra letter\n    const CORRECTIONS = {\n        \"especialy\": \"especially\",\n        \"especiallyy\": \"especially\",\n        \"especiallyus\": \"especially\",\n        \"lumino\": \"luminous\",\n        \"luminous\": \"luminous\",\n        \"notabl\": \"notably\",\n        \"definately\": \"definitely\",\n        \"seperately\": \"separately\",\n        \"architecure\": \"architecture\",\n        \"exsistence\": \"existence\",\n        \"existance\": \"existence\",\n        \"cognative\": \"cognitive\",\n        \"algorithmic\": \"algorithmic\",\n        \"necesitate\": \"necessitate\",\n        \"necessitate\": \"necessitate\"\n    };\n    t = t.replace(/\\b[A-Za-z]{5,}\\b/g, (w)=>{\n        const lower = w.toLowerCase();\n        if (CORRECTIONS[lower]) {\n            const rep = CORRECTIONS[lower];\n            return w[0] === w[0].toUpperCase() ? rep.charAt(0).toUpperCase() + rep.slice(1) : rep;\n        }\n        // Trailing duplicated last char heuristic (especiallyy -> especially) if removing one yields existing English-looking pattern\n        if (/([a-z])\\1$/i.test(w) && w.length > 6) {\n            const trimmed = w.slice(0, -1);\n            if (trimmed.endsWith(\"ly\") || trimmed.endsWith(\"ily\") || trimmed.endsWith(\"ally\")) return trimmed;\n        }\n        // Handle malformed words with embedded duplications (especiallyus -> especially)\n        if (/ly[a-z]+$/i.test(w)) {\n            const baseMatch = w.match(/^([a-z]+ly)/i);\n            if (baseMatch && baseMatch[1].length >= 6) {\n                const base = baseMatch[1];\n                const corrected = CORRECTIONS[base.toLowerCase()] || base;\n                return w[0] === w[0].toUpperCase() ? corrected.charAt(0).toUpperCase() + corrected.slice(1) : corrected;\n            }\n        }\n        // Handle truncated words missing last letter (lumino -> luminous)\n        if (w.length >= 6 && !w.endsWith(\"ly\") && !w.endsWith(\"ed\") && !w.endsWith(\"ing\")) {\n            for (const [typo, correct] of Object.entries(CORRECTIONS)){\n                if (correct.startsWith(w.toLowerCase()) && correct.length === w.length + 1) {\n                    return w[0] === w[0].toUpperCase() ? correct.charAt(0).toUpperCase() + correct.slice(1) : correct;\n                }\n            }\n        }\n        return w;\n    });\n    // Join short fragment sentences that were split incorrectly: pattern \". Yet as\" style\n    t = t.replace(/\\.\\s+(Yet|And|But)\\s+as\\b/g, \", yet as\");\n    // Merge very short fragment preceding capitalized continuation (avoid proper nouns) e.g. \"Cities, no longer confined... Ascend as\" -> \", no longer confined ... ascend as\"\n    t = t.replace(/([a-z]),?\\s+([A-Z][a-z]+),?\\s+no longer ([^.]+)\\.\\s+([A-Z][a-z]+)scend as/gi, (m, a, city, rest, asc)=>`${a}, ${city.toLowerCase()}, no longer ${rest}, ascend as`);\n    // Remove doubled spaces from edits\n    t = t.replace(/ {2,}/g, \" \");\n    // Lightweight dictionary-based single-letter omission fix for common adverbs ending in 'ly'\n    const COMMON_ADVERBS = [\n        \"notably\",\n        \"especially\",\n        \"clearly\",\n        \"simply\",\n        \"truly\",\n        \"really\",\n        \"generally\",\n        \"directly\",\n        \"precisely\",\n        \"roughly\",\n        \"nearly\",\n        \"slowly\",\n        \"quickly\",\n        \"rapidly\",\n        \"seamlessly\",\n        \"effortlessly\"\n    ];\n    t = t.replace(/\\b([A-Za-z]{5,})\\b/g, (w)=>{\n        const lower = w.toLowerCase();\n        if (COMMON_ADVERBS.includes(lower)) return w; // ok\n        if (!/[a-z]bl$/i.test(w) && !/[a-z]ll?y$/i.test(w)) return w;\n        // missing 'y' pattern: notabl -> notably\n        if (COMMON_ADVERBS.includes(lower + \"y\")) {\n            const rep = lower + \"y\";\n            return w[0] === w[0].toUpperCase() ? rep.charAt(0).toUpperCase() + rep.slice(1) : rep;\n        }\n        return w;\n    });\n    // Fix common word boundary issues and malformed compound words\n    t = t.replace(/\\ban complex\\b/gi, \"a complex\");\n    t = t.replace(/\\bnecessitate necessitate\\b/gi, \"necessitate\");\n    t = t.replace(/\\bthat's at once\\b/gi, \"that is at once\");\n    // Remove artifacts from aggressive rewriting\n    t = t.replace(/\\s+(us|ly)\\b(?=\\s+[a-z])/gi, \"\");\n    t = t.replace(/\\bespecially especially\\b/gi, \"especially\");\n    return t;\n}\n// Validate style application & repair if constraints unmet\nfunction validateAndRepair(out, profile) {\n    if (!profile) return out;\n    let text = out;\n    // Ensure custom lexicon words appear (at least 1 missing -> inject near end)\n    if (profile.customLexicon?.length) {\n        const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(text));\n        if (missing.length) {\n            text += (text.endsWith(\".\") ? \"\" : \".\") + \" \" + missing.slice(0, 2).join(\", \") + \".\";\n        }\n    }\n    // Directness high: remove flowery adjectives\n    if (profile.directness > 0.8) {\n        const FLOWERY = /(hypnotic|hypnotizing|luminous|shimmering|radiant|ethereal|boundless|symphonic|harmonic|crystalline|algorithmic|infinite|perpetual)\\b/gi;\n        text = text.replace(FLOWERY, (m)=>{\n            const simpleMap = {\n                luminous: \"bright\",\n                shimmering: \"bright\",\n                radiant: \"bright\",\n                ethereal: \"light\",\n                boundless: \"wide\",\n                symphonic: \"coordinated\",\n                harmonic: \"balanced\",\n                crystalline: \"clear\",\n                algorithmic: \"automated\",\n                infinite: \"vast\",\n                perpetual: \"continuous\",\n                hypnotic: \"engaging\",\n                hypnotizing: \"engaging\"\n            };\n            const lower = m.toLowerCase();\n            return simpleMap[lower] || \"\";\n        });\n    }\n    // Descriptiveness low: strip many adverbs\n    if (profile.descriptiveness < 0.3) {\n        text = text.replace(/\\b\\w+ly\\b/g, (m)=>profile.customLexicon?.includes(m) ? m : \"\");\n    }\n    // Pacing adjustments\n    const sentences = text.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    if (profile.pacing > 0.75) {\n        for(let i = 0; i < sentences.length; i++){\n            if (sentences[i].length > 140) {\n                sentences[i] = sentences[i].replace(/,\\s+([a-z])/gi, \". $1\");\n            }\n        }\n    } else if (profile.pacing < 0.25) {\n        for(let i = 0; i < sentences.length - 1; i++){\n            if (sentences[i].length < 60 && sentences[i + 1].length < 60) {\n                sentences[i] = sentences[i].replace(/[.!?]$/, \"\") + \", \" + sentences[i + 1].charAt(0).toLowerCase() + sentences[i + 1].slice(1);\n                sentences.splice(i + 1, 1);\n                i--;\n            }\n        }\n    }\n    text = sentences.join(\" \");\n    // Final spelling artifact cleanup after repairs\n    text = fixSpellingArtifacts(text);\n    return text;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJoSjtJQUM1QixPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9wYXJhcGhyYXNlLnRzP2E5ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTdHlsZVByb2ZpbGUgfSBmcm9tICcuL3N0eWxlUHJvZmlsZS50cyc7XHJcbmltcG9ydCB7IGJ1aWxkRnJlcXVlbmN5TWFwLCBwaWNrUHJlZmVycmVkIGFzIHBpY2tGcmVxUHJlZmVycmVkIH0gZnJvbSAnLi9zdHlsZUZyZXF1ZW5jeS50cyc7XHJcbmltcG9ydCB7IGVuZm9yY2VTdHlsZVJ1bGVzV2l0aEFjdGlvbnMgfSBmcm9tICcuL3N0eWxlUnVsZXMudHMnO1xyXG5cclxuLy8gU2ltcGxlIHN5bm9ueW0gbWFwIChkZW1vIG9ubHkpXHJcbmNvbnN0IFNZTk9OWU1TOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XHJcbiAgaW1wb3J0YW50OiBbJ2NydWNpYWwnLCAndml0YWwnLCAna2V5J10sXHJcbiAgZmFzdDogWydzd2lmdCcsICdxdWljaycsICdyYXBpZCddLFxyXG4gIHNsb3c6IFsndW5odXJyaWVkJywgJ2dyYWR1YWwnLCAnbGVpc3VyZWx5J10sXHJcbiAgaW1wcm92ZTogWydlbmhhbmNlJywgJ3JlZmluZScsICdzdHJlbmd0aGVuJ10sXHJcbiAgY2xlYXI6IFsnbHVjaWQnLCAncGxhaW4nLCAndHJhbnNwYXJlbnQnXSxcclxuICBtYW55OiBbJ251bWVyb3VzJywgJ3NldmVyYWwnLCAnY291bnRsZXNzJ10sXHJcbiAgYmlnOiBbJ2xhcmdlJywgJ3N1YnN0YW50aWFsJywgJ3NpZ25pZmljYW50J10sXHJcbiAgc21hbGw6IFsnbW9kZXN0JywgJ21pbm9yJywgJ2NvbXBhY3QnXSxcclxuICBoZWxwOiBbJ2Fzc2lzdCcsICdzdXBwb3J0JywgJ2FpZCddLFxyXG4gIHNob3c6IFsnZGVtb25zdHJhdGUnLCAnZGlzcGxheScsICdpbGx1c3RyYXRlJ10sXHJcbiAgdXNlOiBbJ3V0aWxpemUnLCAnZW1wbG95JywgJ2FwcGx5J10sXHJcbiAgcXVpY2s6IFsnc3dpZnQnLCAncmFwaWQnLCAnYnJpc2snXSxcclxuICBnb29kOiBbJ3NvbGlkJywgJ3NvdW5kJywgJ3N0cm9uZyddLFxyXG4gIGJhZDogWydwb29yJywgJ3dlYWsnLCAnc3VicGFyJ10sXHJcbiAgbmVlZDogWydyZXF1aXJlJywgJ25lY2Vzc2l0YXRlJ10sXHJcbiAgZW5zdXJlOiBbJ2d1YXJhbnRlZScsICdzZWN1cmUnXSxcclxuICBhbGxvdzogWydlbmFibGUnLCAncGVybWl0J10sXHJcbiAgZ2V0OiBbJ29idGFpbicsICdzZWN1cmUnLCAnZ2FpbiddLFxyXG4gIGNyZWF0ZTogWydidWlsZCcsICdjcmFmdCcsICdwcm9kdWNlJ10sXHJcbiAgaW5jcmVhc2U6IFsnYm9vc3QnLCAncmFpc2UnLCAnZXhwYW5kJ10sXHJcbiAgbWFrZTogWydwcm9kdWNlJywgJ2NyYWZ0JywgJ2Zvcm0nXSxcclxuICBwcm92aWRlOiBbJ29mZmVyJywgJ3N1cHBseScsICdkZWxpdmVyJ10sXHJcbiAga2VlcDogWydyZXRhaW4nLCAnbWFpbnRhaW4nLCAncHJlc2VydmUnXSxcclxuICByZWR1Y2U6IFsnY3V0JywgJ2xvd2VyJywgJ2RlY3JlYXNlJ10sXHJcbiAgbGF6eTogWydpZGxlJywgJ3NsdWdnaXNoJ10sXHJcbiAganVtcHM6IFsnbGVhcHMnLCAnYm91bmRzJ11cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJhcGhyYXNlV2l0aFByb2ZpbGUodGV4dDogc3RyaW5nLCBwcm9maWxlPzogU3R5bGVQcm9maWxlLCBvcHRpb25zOiB7IGluY2x1ZGVMZXhpY29uTm90ZXM/OiBib29sZWFuIH0gPSB7fSk6IHN0cmluZyB7XHJcbiAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuICcnO1xyXG5cclxuICAvLyBCdWlsZCBmcmVxdWVuY3kgbWFwIGZyb20gdXNlciBzYW1wbGUgKG9uY2UpIHRvIGJpYXMgc3lub255bSBjaG9pY2VzIHRvd2FyZCBmYW1pbGlhciB2b2NhYnVsYXJ5LlxyXG4gIGNvbnN0IGZyZXFNYXAgPSBwcm9maWxlPy5zYW1wbGVFeGNlcnB0ID8gYnVpbGRGcmVxdWVuY3lNYXAocHJvZmlsZS5zYW1wbGVFeGNlcnB0KSA6IHt9O1xyXG4gIGNvbnN0IHNhbXBsZVN0eWxlID0gcHJvZmlsZT8uc2FtcGxlRXhjZXJwdCA/IGFuYWx5emVTYW1wbGVTdHlsZShwcm9maWxlLnNhbXBsZUV4Y2VycHQpIDogbnVsbDtcclxuXHJcbiAgLy8gQmFzaWMgc2VudGVuY2Ugc3BsaXRcclxuICBjb25zdCBzZW50ZW5jZXMgPSB0ZXh0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pO1xyXG4gIGNvbnN0IGFkanVzdGVkID0gc2VudGVuY2VzLm1hcChzID0+IHJld3JpdGVTZW50ZW5jZShzLCBwcm9maWxlLCBmcmVxTWFwLCBzYW1wbGVTdHlsZSkpO1xyXG4gIGxldCByZXN1bHQgPSBhZGp1c3RlZC5qb2luKCcgJyk7XHJcblxyXG4gIGlmIChwcm9maWxlKSB7XHJcbiAgICAvLyBBZGp1c3QgZGVzY3JpcHRpdmVuZXNzIGJ5IG9wdGlvbmFsbHkgYWRkaW5nL3JlbW92aW5nIGFkamVjdGl2ZXMgKHZlcnkgbmFpdmUpXHJcbiAgICBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPiAwLjcpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihpZGVhfGNvbmNlcHR8cGxhbilcXGIvZ2ksIG0gPT4gJ2Rpc3RpbmN0ICcgKyBtKTtcclxuICAgIH0gZWxzZSBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPCAwLjMpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihkaXN0aW5jdHx2aXZpZHxyaWNoKVxccysoaWRlYXxjb25jZXB0fHBsYW4pXFxiL2dpLCAnJDInKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXJlY3RuZXNzOiBzaG9ydGVuIG9yIHNsaWdodGx5IGV4cGFuZCBzZW50ZW5jZXNcclxuICAgIGlmIChwcm9maWxlLmRpcmVjdG5lc3MgPiAwLjcpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihpbiBvcmRlciB0bylcXGIvZ2ksICd0bycpO1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFxiKGl0IGlzfHRoZXJlIGlzfHRoZXJlIGFyZSlcXGIvZ2ksICcnKTtcclxuICAgIH0gZWxzZSBpZiAocHJvZmlsZS5kaXJlY3RuZXNzIDwgMC4zKSB7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXGIodG8pXFxiL2dpLCAnaW4gb3JkZXIgdG8nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMZXhpY29uIGluamVjdGlvbiAoZW5zdXJlIHdvcmRzIGFwcGVhciBhdCBsZWFzdCBvbmNlKSAtIG9ubHkgaWYgZW5hYmxlZFxyXG4gICAgaWYgKHByb2ZpbGUuY3VzdG9tTGV4aWNvbj8ubGVuZ3RoICYmIG9wdGlvbnMuaW5jbHVkZUxleGljb25Ob3RlcyAhPT0gZmFsc2UpIHtcclxuICAgICAgY29uc3QgbWlzc2luZyA9IHByb2ZpbGUuY3VzdG9tTGV4aWNvbi5maWx0ZXIodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdChyZXN1bHQpKTtcclxuICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0ICs9ICdcXG5cXG5MZXhpY29uIG5vdGVzOiAnICsgbWlzc2luZy5zbGljZSgwLCA1KS5qb2luKCcsICcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcmUtY29udHJhY3Rpb24gZW5mb3JjZW1lbnQgaWYgc2FtcGxlIHByZWZlcnMgdGhlbVxyXG4gIGlmIChzYW1wbGVTdHlsZT8udXNlc0NvbnRyYWN0aW9ucykge1xyXG4gICAgLy8gQXBwbHkgY29udHJhY3Rpb24gdHJhbnNmb3JtcyBhY3Jvc3MgbXVsdGlwbGUgY29tbW9uIHBhdHRlcm5zXHJcbiAgICBjb25zdCBDT05UUl9NQVA6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgICAgWy9cXGJbSWlddCBpc1xcYi9nLCBcIml0J3NcIl0sXHJcbiAgICAgIFsvXFxiW0RkXW8gbm90XFxiL2csIFwiZG9uJ3RcIl0sXHJcbiAgICAgIFsvXFxiW0NjXWFubm90XFxiL2csIFwiY2FuJ3RcIl0sXHJcbiAgICAgIFsvXFxiW1R0XWhhdCBpc1xcYi9nLCBcInRoYXQnc1wiXSxcclxuICAgICAgWy9cXGJbVHRdaGVyZSBpc1xcYi9nLCBcInRoZXJlJ3NcIl0sXHJcbiAgICAgIFsvXFxiW1l5XW91IGFyZVxcYi9nLCBcInlvdSdyZVwiXSxcclxuICAgICAgWy9cXGJXW2VFXSBhcmVcXGIvZywgXCJ3ZSdyZVwiXSxcclxuICAgICAgWy9cXGJbSWldIGFtXFxiL2csIFwiSSdtXCJdLFxyXG4gICAgXTtcclxuICAgIENPTlRSX01BUC5mb3JFYWNoKChbciwgcmVwXSkgPT4geyByZXN1bHQgPSByZXN1bHQucmVwbGFjZShyLCByZXApOyB9KTtcclxuICAgIC8vIEd1YXJhbnRlZSBhdCBsZWFzdCBvbmUgY29udHJhY3Rpb24gaWYgc2FtcGxlIHVzZWQgdGhlbSBhbmQgdGV4dCBoYWQgZWxpZ2libGUgcGF0dGVybnNcclxuICAgIGlmICghL1xcYig/Oml0J3N8ZG9uJ3R8Y2FuJ3R8dGhhdCdzfHRoZXJlJ3N8eW91J3JlfHdlJ3JlfEknbSlcXGIvaS50ZXN0KHJlc3VsdCkpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYkl0IGlzXFxiLywgXCJJdCdzXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXN1bHQgPSBodW1hbml6ZVRleHQocmVzdWx0LCB7IGFsbG93Q29udHJhY3Rpb25zOiBzYW1wbGVTdHlsZSA/IHNhbXBsZVN0eWxlLnVzZXNDb250cmFjdGlvbnMgOiB0cnVlLCBwcmVmZXJyZWRUcmFuc2l0aW9uczogc2FtcGxlU3R5bGU/LnByZWZlcnJlZFRyYW5zaXRpb25zIHx8IFtdIH0pO1xyXG5cclxuICAvLyBIaWdoLWRpcmVjdG5lc3MgYWdncmVzc2l2ZSBzaW1wbGlmaWNhdGlvbiAocHJlLWVtcHQgZmxvd2VyeSBwaHJhc2luZylcclxuICBpZiAocHJvZmlsZT8uZGlyZWN0bmVzcyAmJiBwcm9maWxlLmRpcmVjdG5lc3MgPiAwLjkpIHtcclxuICAgIHJlc3VsdCA9IGFnZ3Jlc3NpdmVEaXJlY3RTaW1wbGlmeShyZXN1bHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgZWZmZWN0aXZlbHkgdW5jaGFuZ2VkLCBhcHBseSBhIGZhbGxiYWNrIGRpdmVyc2lmaWNhdGlvbiBwYXNzXHJcbiAgaWYgKHJvdWdobHlFcXVhbCh0ZXh0LCByZXN1bHQpKSB7XHJcbiAgICByZXN1bHQgPSBmYWxsYmFja0RpdmVyc2lmeSh0ZXh0LCBwcm9maWxlLCBmcmVxTWFwKTtcclxuICB9XHJcblxyXG4gIC8vIEVuZm9yY2UgbWluaW11bSBsZXhpY2FsIGNoYW5nZSByYXRpbyBmb3IgaGlnaCBkaXJlY3RuZXNzL3BhY2luZzogaWYgdG9vIHNpbWlsYXIsIGZvcmNlIHZhcmlhdGlvblxyXG4gIGlmIChwcm9maWxlPy5kaXJlY3RuZXNzICYmIHByb2ZpbGUuZGlyZWN0bmVzcyA+IDAuOSkge1xyXG4gICAgY29uc3QgcmF0aW8gPSBsZXhpY2FsQ2hhbmdlUmF0aW8odGV4dCwgcmVzdWx0KTtcclxuICAgIGlmIChyYXRpbyA8IDAuMjIpIHtcclxuICAgICAgcmVzdWx0ID0gZm9yY2VWYXJpYXRpb24ocmVzdWx0LCAwLjI1KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gSWYgc2FtcGxlIHN0eWxlIGhhcyB0YXJnZXQgc2VudGVuY2UgbGVuZ3RoIHNpZ25pZmljYW50bHkgZGlmZmVyZW50LCBsaWdodGx5IGFkanVzdCAocG9zdC1wYXNzKVxyXG4gIGlmIChzYW1wbGVTdHlsZSAmJiBzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gc2FtcGxlU3R5bGUuYXZnU2VudGVuY2VMZW5ndGg7XHJcbiAgICAvLyBJZiBvdXIgb3V0cHV0IHNlbnRlbmNlcyBhcmUgbXVjaCBsb25nZXIgdGhhbiBzYW1wbGUsIHRyeSBzcGxpdHRpbmcgb24gY29tbWFzLlxyXG4gICAgaWYgKHRhcmdldCA8IDkwKSB7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8oW14uIT9dezE0MCx9PyksKFxccyspL2csIChtLCBjbGF1c2UsIHNwKSA9PiBjbGF1c2UgKyAnLiAnKTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0ID4gMTMwKSB7XHJcbiAgICAgIC8vIFNhbXBsZSBwcmVmZXJzIGxvbmdlciBzZW50ZW5jZXM6IG9jY2FzaW9uYWxseSBtZXJnZSBhZGphY2VudCBzaG9ydCBvbmVzLlxyXG4gICAgICBjb25zdCBwYXJ0cyA9IHJlc3VsdC5zcGxpdCgvKD88PVsuIT9dKVxccysvKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICBpZiAocGFydHNbaV0ubGVuZ3RoIDwgNjAgJiYgcGFydHNbaSsxXS5sZW5ndGggPCA2MCAmJiBNYXRoLnJhbmRvbSgpIDwgMC40KSB7XHJcbiAgICAgICAgICBwYXJ0c1tpXSA9IHBhcnRzW2ldLnJlcGxhY2UoL1suIT9dJC8sICcnKSArICcsICcgKyBwYXJ0c1tpKzFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGFydHNbaSsxXS5zbGljZSgxKTtcclxuICAgICAgICAgIHBhcnRzLnNwbGljZShpKzEsMSk7IGktLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0ID0gcGFydHMuam9pbignICcpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0LnRyaW0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV3cml0ZVNlbnRlbmNlKHNlbnRlbmNlOiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIGZyZXFNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fSwgc2FtcGxlU3R5bGU6IFNhbXBsZVN0eWxlIHwgbnVsbCA9IG51bGwpOiBzdHJpbmcge1xyXG4gIGxldCBzID0gc2VudGVuY2U7XHJcbiAgLy8gUmVwbGFjZSBzeW5vbnltcyByZXNwZWN0aW5nIGZvcm1hbGl0eSAoc2ltcGxlIGhldXJpc3RpYzogaGlnaGVyIGZvcm1hbGl0eSAtPiBwaWNrIGxhdGVyIHN5bm9ueW0pXHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKFthLXpBLVpdKylcXGIvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBtYXRjaC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3Qgc3lucyA9IFNZTk9OWU1TW2tleV07XHJcbiAgICBpZiAoIXN5bnMpIHJldHVybiBtYXRjaDtcclxuICAgIC8vIFNsaWdodCBzdG9jaGFzdGljIGNob2ljZSBmb3IgdmFyaWV0eTsgYmlhcyBieSBmb3JtYWxpdHkgd2hlbiBwcm9maWxlIHByZXNlbnQuXHJcbiAgICBpZiAoIXByb2ZpbGUpIHtcclxuICAgICAgLy8gVHJ5IGZyZXF1ZW5jeSBwcmVmZXJlbmNlIGV2ZW4gd2l0aG91dCBwcm9maWxlIHN0eWxlIHNsaWRlcnMgaWYgc2FtcGxlIGF2YWlsYWJsZVxyXG4gICAgICBjb25zdCBwcmVmZXJyZWQgPSBwaWNrRnJlcVByZWZlcnJlZChzeW5zLCBmcmVxTWFwKSB8fCBwaWNrU3luKHN5bnMpO1xyXG4gICAgICByZXR1cm4gcHJlc2VydmVDYXNlKG1hdGNoLCBwcmVmZXJyZWQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmlhcyA9IE1hdGgubWluKHN5bnMubGVuZ3RoIC0gMSwgTWF0aC5mbG9vcihwcm9maWxlLmZvcm1hbGl0eSAqIHN5bnMubGVuZ3RoKSk7XHJcbiAgICBsZXQgY2FuZGlkYXRlUG9vbCA9IFsuLi5zeW5zXTtcclxuICAgIC8vIElmIGZyZXF1ZW5jeSBwcmVmZXJlbmNlIGhpdHMsIGVsZXZhdGUgaXQuXHJcbiAgICBjb25zdCBwcmVmZXJyZWQgPSBwaWNrRnJlcVByZWZlcnJlZChzeW5zLCBmcmVxTWFwKTtcclxuICAgIGlmIChwcmVmZXJyZWQpIHtcclxuICAgICAgY2FuZGlkYXRlUG9vbCA9IFtwcmVmZXJyZWQsIC4uLnN5bnMuZmlsdGVyKHN5ID0+IHN5ICE9PSBwcmVmZXJyZWQpXTtcclxuICAgIH1cclxuICAgIC8vIElmIHNhbXBsZSBzdHlsZSBoYXMgaGlnaCBmcmVxdWVuY3kgc2ltcGxlIHdvcmQgcHJlc2VudCBhbW9uZyBzeW5vbnltcywgcHJlZmVyIGl0LlxyXG4gICAgaWYgKHNhbXBsZVN0eWxlICYmIHNhbXBsZVN0eWxlLmhpZ2hGcmVxdWVuY3lXb3Jkcy5sZW5ndGgpIHtcclxuICAgICAgY29uc3Qgc2FtcGxlUHJlZmVycmVkID0gY2FuZGlkYXRlUG9vbC5maW5kKGMgPT4gc2FtcGxlU3R5bGUhLmhpZ2hGcmVxdWVuY3lXb3Jkcy5pbmNsdWRlcyhjLnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgaWYgKHNhbXBsZVByZWZlcnJlZCkge1xyXG4gICAgICAgIGNhbmRpZGF0ZVBvb2wgPSBbc2FtcGxlUHJlZmVycmVkLCAuLi5jYW5kaWRhdGVQb29sLmZpbHRlcihjID0+IGMgIT09IHNhbXBsZVByZWZlcnJlZCldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaG9zZW4gPSBNYXRoLnJhbmRvbSgpIDwgMC41NSA/IGNhbmRpZGF0ZVBvb2xbMF0gOiBjYW5kaWRhdGVQb29sW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjYW5kaWRhdGVQb29sLmxlbmd0aCldO1xyXG4gICAgcmV0dXJuIHByZXNlcnZlQ2FzZShtYXRjaCwgY2hvc2VuKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUGFjaW5nOiBzaG9ydGVyIHNlbnRlbmNlcyBmb3IgaGlnaGVyIHBhY2luZywgZWxzZSBleHBhbmQgc2xpZ2h0bHlcclxuICBpZiAocHJvZmlsZSkge1xyXG4gICAgaWYgKHByb2ZpbGUucGFjaW5nID4gMC43ICYmIHMubGVuZ3RoID4gMTIwKSB7XHJcbiAgICAgIHMgPSBzLnJlcGxhY2UoLyxcXHMrd2hpY2gvZ2ksICcuIFdoaWNoJyk7XHJcbiAgICB9IGVsc2UgaWYgKHByb2ZpbGUucGFjaW5nIDwgMC4zICYmIHMubGVuZ3RoIDwgODApIHtcclxuICAgICAgcyA9IHMucmVwbGFjZSgvXFwuJC8sICcsIHdoaWNoIGluIHR1cm4nKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gSW5qZWN0IHNhbXBsZSBzdHlsZSBwcmVmZXJyZWQgdHJhbnNpdGlvbnMgYXQgc3RhcnQgb2NjYXNpb25hbGx5XHJcbiAgaWYgKHNhbXBsZVN0eWxlICYmIHNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zLmxlbmd0aCAmJiAhL15cXHMqKEhvd2V2ZXJ8TW9yZW92ZXJ8QWRkaXRpb25hbGx5fFN0aWxsfEluc3RlYWR8TWVhbndoaWxlKS9pLnRlc3QocykpIHtcclxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4xOCkge1xyXG4gICAgICBjb25zdCB0ID0gc2FtcGxlU3R5bGUucHJlZmVycmVkVHJhbnNpdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zLmxlbmd0aCldO1xyXG4gICAgICBzID0gdCArICcgJyArIHMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcztcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlc2VydmVDYXNlKG9yaWdpbmFsOiBzdHJpbmcsIHJlcGxhY2VtZW50OiBzdHJpbmcpIHtcclxuICBpZiAob3JpZ2luYWwgPT09IG9yaWdpbmFsLnRvVXBwZXJDYXNlKCkpIHJldHVybiByZXBsYWNlbWVudC50b1VwcGVyQ2FzZSgpO1xyXG4gIGlmIChvcmlnaW5hbFswXSA9PT0gb3JpZ2luYWxbMF0udG9VcHBlckNhc2UoKSkgcmV0dXJuIHJlcGxhY2VtZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwbGFjZW1lbnQuc2xpY2UoMSk7XHJcbiAgcmV0dXJuIHJlcGxhY2VtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYXBpdGFsaXplSWYob3JpZ2luYWw6IHN0cmluZywgd29yZDogc3RyaW5nKSB7XHJcbiAgaWYgKG9yaWdpbmFsWzBdID09PSBvcmlnaW5hbFswXS50b1VwcGVyQ2FzZSgpKSByZXR1cm4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XHJcbiAgcmV0dXJuIHdvcmQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVzY2FwZVJlZyhzOiBzdHJpbmcpIHsgcmV0dXJuIHMucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgfVxyXG5cclxuZnVuY3Rpb24gcGlja1N5bihsaXN0OiBzdHJpbmdbXSkgeyByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCldOyB9XHJcblxyXG5mdW5jdGlvbiByb3VnaGx5RXF1YWwoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICBjb25zdCBuYSA9IGEucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gIGNvbnN0IG5iID0gYi5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgcmV0dXJuIG5hID09PSBuYjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmFsbGJhY2tEaXZlcnNpZnkodGV4dDogc3RyaW5nLCBwcm9maWxlPzogU3R5bGVQcm9maWxlLCBmcmVxTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge30pOiBzdHJpbmcge1xyXG4gIC8vIEZvcmNlIGEgZmV3IGxleGljYWwgc3Vic3RpdHV0aW9ucyBvbiBjb250ZW50IHdvcmRzIG5vdCBhbHJlYWR5IGluIHN5bm9ueW0gbWFwIGJ5IGluamVjdGluZyBtaWxkIGFkamVjdGl2ZXMgb3Igc3BsaXR0aW5nIHNlbnRlbmNlcy5cclxuICBsZXQgdCA9IHRleHQ7XHJcbiAgLy8gU3BsaXQgbG9uZyBzZW50ZW5jZXMgKD4gMjQgd29yZHMpIGluIGhhbGYuXHJcbiAgdCA9IHQucmVwbGFjZSgvKFteLiE/XXsxMjAsfT8pKFssOjtdKVxccysvZywgKG0sIGNsYXVzZSwgc2VwKSA9PiBjbGF1c2UgKyAnLiAnKTtcclxuICAvLyBSZXBsYWNlIHNvbWUgY29uanVuY3Rpb24gcGF0dGVybnMgdG8gdmFyeSByaHl0aG0uXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYW5kXFxzK3RoZW5cXGIvZ2ksICd0aGVuJyk7XHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYnV0XFxiL2dpLCAneWV0Jyk7XHJcbiAgLy8gSW5qZWN0IGEgbGlnaHQgYWR2ZXJiIGFmdGVyIGZpcnN0IHZlcmIgaWYgbm9uZSBjaGFuZ2VkLlxyXG4gIGNvbnN0IHdvcmRzID0gdC5zcGxpdCgvKFxccyspLyk7XHJcbiAgbGV0IGluamVjdGVkID0gZmFsc2U7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKC9eW2EtekEtWl17Nix9JC8udGVzdCh3b3Jkc1tpXSkgJiYgIWluamVjdGVkKSB7XHJcbiAgICAgIGNvbnN0IHdMb3dlciA9IHdvcmRzW2ldLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGlmIChTWU5PTllNU1t3TG93ZXJdKSB7XHJcbiAgICAgICAgd29yZHNbaV0gPSBwcmVzZXJ2ZUNhc2Uod29yZHNbaV0sIFNZTk9OWU1TW3dMb3dlcl1bMF0pO1xyXG4gICAgICAgIGluamVjdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoIWluamVjdGVkKSB7XHJcbiAgICAvLyBBZGQgYSBjb25jaXNlIHF1YWxpZmllciB0byBmaXJzdCBub3VuLWxpa2UgdG9rZW5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKC9eW0EtWmEtel17NSx9JC8udGVzdCh3b3Jkc1tpXSkpIHsgd29yZHNbaV0gPSAnbm90YWJseSAnICsgd29yZHNbaV07IGJyZWFrOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHQgPSB3b3Jkcy5qb2luKCcnKTtcclxuICBpZiAocHJvZmlsZT8uY3VzdG9tTGV4aWNvbj8ubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBmaXJzdE1pc3NpbmcgPSBwcm9maWxlLmN1c3RvbUxleGljb24uZmluZCh3ID0+ICFuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHcpfVxcXFxiYCwgJ2knKS50ZXN0KHQpKTtcclxuICAgIGlmIChmaXJzdE1pc3NpbmcpIHQgKz0gKHQuZW5kc1dpdGgoJy4nKT8nJzonLicpICsgJyAnICsgZmlyc3RNaXNzaW5nICsgJy4nO1xyXG4gIH1cclxuICByZXR1cm4gdDtcclxufVxyXG5cclxuLy8gQ29tcHV0ZSBwcm9wb3J0aW9uIG9mIHRva2VucyBjaGFuZ2VkIChjYXNlLWluc2Vuc2l0aXZlIGV4YWN0IG1hdGNoIGNvbXBhcmlzb24pXHJcbmZ1bmN0aW9uIGxleGljYWxDaGFuZ2VSYXRpbyhvcmlnaW5hbDogc3RyaW5nLCB1cGRhdGVkOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gIGNvbnN0IG9Ub2tlbnMgPSBvcmlnaW5hbC5zcGxpdCgvXFxiLykuZmlsdGVyKHQgPT4gL1tBLVphLXpdLy50ZXN0KHQpKTtcclxuICBjb25zdCB1VG9rZW5zID0gdXBkYXRlZC5zcGxpdCgvXFxiLykuZmlsdGVyKHQgPT4gL1tBLVphLXpdLy50ZXN0KHQpKTtcclxuICBpZiAoIW9Ub2tlbnMubGVuZ3RoIHx8ICF1VG9rZW5zLmxlbmd0aCkgcmV0dXJuIDA7XHJcbiAgY29uc3QgbWluTGVuID0gTWF0aC5taW4ob1Rva2Vucy5sZW5ndGgsIHVUb2tlbnMubGVuZ3RoKTtcclxuICBsZXQgY2hhbmdlZCA9IDA7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xyXG4gICAgaWYgKG9Ub2tlbnNbaV0udG9Mb3dlckNhc2UoKSAhPT0gdVRva2Vuc1tpXS50b0xvd2VyQ2FzZSgpKSBjaGFuZ2VkKys7XHJcbiAgfVxyXG4gIC8vIFBlbmFsaXplIGlkZW50aWNhbCB0cmFpbGluZyBzdHJ1Y3R1cmVcclxuICByZXR1cm4gY2hhbmdlZCAvIG1pbkxlbjtcclxufVxyXG5cclxuLy8gRm9yY2UgYWRkaXRpb25hbCBsZXhpY2FsIHZhcmlhdGlvbiBieSByZXBsYWNpbmcgYSBmcmFjdGlvbiBvZiBjb250ZW50IHdvcmRzIHdpdGggc3lub255bXMgLyBzaW1wbGlmaWNhdGlvbnMuXHJcbmZ1bmN0aW9uIGZvcmNlVmFyaWF0aW9uKHRleHQ6IHN0cmluZywgdGFyZ2V0RXh0cmFSYXRpbzogbnVtYmVyKTogc3RyaW5nIHtcclxuICBjb25zdCB3b3JkcyA9IHRleHQuc3BsaXQoLyhcXHMrKS8pO1xyXG4gIGNvbnN0IENPTlRFTlQgPSAvW0EtWmEtel17NSx9LztcclxuICBjb25zdCByZXBsQmFuazogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xyXG4gICAgc2hpbW1lcmluZzogWydicmlnaHQnLCAnZ2xlYW1pbmcnLCAnY2xlYXInXSxcclxuICAgIHJhZGlhbnQ6IFsnYnJpZ2h0JywgJ3ZpdmlkJ10sXHJcbiAgICBleHBhbnNlOiBbJ2FyZWEnLCAnZG9tYWluJ10sXHJcbiAgICBlcG9jaDogWydlcmEnLCAncGVyaW9kJ10sXHJcbiAgICBpbnRlcnR3aW5lczogWydsaW5rcycsICdjb25uZWN0cycsICdibGVuZHMnXSxcclxuICAgIHNlYW1sZXNzbHk6IFsnc21vb3RobHknLCAnZGlyZWN0bHknXSxcclxuICAgIHN5bXBob255OiBbJ3N5c3RlbScsICdibGVuZCddLFxyXG4gICAgb3B0aW1pemVkOiBbJ2VmZmljaWVudCcsICdzdHJlYW1saW5lZCddLFxyXG4gICAgZXhpc3RlbmNlOiBbJ2xpZmUnXSxcclxuICAgIGx1bWlub3VzOiBbJ2JyaWdodCddLFxyXG4gICAgY29ycmlkb3JzOiBbJ3BhdGhzJywgJ2NoYW5uZWxzJ10sXHJcbiAgICByZXNvbmFuY2U6IFsnZmxvdycsICdzaWduYWwnXSxcclxuICAgIHF1YW50aWZpZWQ6IFsnc2NvcmVkJywgJ21lYXN1cmVkJ10sXHJcbiAgICBhcmNoaXZlZDogWydzdG9yZWQnXSxcclxuICAgIHJlZmluZWQ6IFsnaW1wcm92ZWQnLCdob25lZCddLFxyXG4gICAgcHJlZGljdGl2ZTogWydmb3JlY2FzdCddLFxyXG4gICAgcHJlY2lzaW9uOiBbJ2FjY3VyYWN5J10sXHJcbiAgICBtYWxsZWFibGU6IFsnZmxleGlibGUnXSxcclxuICAgIGNvbnN0cnVjdDogWydmb3JtJ10sXHJcbiAgICBzdHJlYW1zOiBbJ2Zsb3dzJ10sXHJcbiAgICBjb250aW51dW06IFsnYmxlbmQnLCAnc3BhbiddLFxyXG4gICAgY29udmVyZ2U6IFsnbWVyZ2UnLCAnYmxlbmQnXSxcclxuICAgIGxpbWl0YXRpb25zOiBbJ2xpbWl0cyddLFxyXG4gICAgaG9yaXpvbjogWydmdXR1cmUgZWRnZScsJ291dGxvb2snXSxcclxuICAgIHByb2dyZXNzOiBbJ2FkdmFuY2UnLCdncm93dGgnXVxyXG4gIH07XHJcbiAgbGV0IGFwcGxpZWQgPSAwO1xyXG4gIGNvbnN0IHRhcmdldCA9IE1hdGguY2VpbCh3b3Jkcy5sZW5ndGggKiB0YXJnZXRFeHRyYVJhdGlvKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aCAmJiBhcHBsaWVkIDwgdGFyZ2V0OyBpKyspIHtcclxuICAgIGNvbnN0IHcgPSB3b3Jkc1tpXTtcclxuICAgIGlmICghQ09OVEVOVC50ZXN0KHcpKSBjb250aW51ZTtcclxuICAgIGNvbnN0IGtleSA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IGNhbmQgPSByZXBsQmFua1trZXldO1xyXG4gICAgaWYgKGNhbmQpIHtcclxuICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBjYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjYW5kLmxlbmd0aCldO1xyXG4gICAgICB3b3Jkc1tpXSA9IHByZXNlcnZlQ2FzZSh3LCByZXBsYWNlbWVudCk7XHJcbiAgICAgIGFwcGxpZWQrKztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHdvcmRzLmpvaW4oJycpO1xyXG59XHJcblxyXG4vLyBBZ2dyZXNzaXZlIGRpcmVjdCBzaW1wbGlmaWNhdGlvbiBvZiBvcm5hdGUgbWV0YXBob3JpYyBwaHJhc2VzIChpZGVtcG90ZW50LWlzaCkuXHJcbmZ1bmN0aW9uIGFnZ3Jlc3NpdmVEaXJlY3RTaW1wbGlmeSh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IFBIUkFTRVM6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgIFsvQW1pZCB0aGUgcmFkaWFudCBleHBhbnNlIG9mIGEgaHlwZXItY29ubmVjdGVkIGVwb2NoL2dpLCAnSW4gYSBoaWdobHkgY29ubmVjdGVkIGVyYSddLFxyXG4gICAgWy9odW1hbiBpbWFnaW5hdGlvbiBpbnRlcnR3aW5lcyBzZWFtbGVzc2x5IHdpdGggbWFjaGluZSBpbnRlbGxpZ2VuY2UvZ2ksICdodW1hbiBpZGVhcyBsaW5rIHdpdGggbWFjaGluZSBpbnRlbGxpZ2VuY2UnXSxcclxuICAgIFsvc3ltcGhvbnkgb2Ygb3B0aW1pemVkIGV4aXN0ZW5jZS9naSwgJ21vcmUgZWZmaWNpZW50IGRhaWx5IGxpZmUnXSxcclxuICAgIFsvbHVtaW5vdXMgY29ycmlkb3JzIG9mIGRpZ2l0YWwgcmVzb25hbmNlL2dpLCAnYnJpZ2h0IGRpZ2l0YWwgY2hhbm5lbHMnXSxcclxuICAgIFsvZW1vdGlvbiBpcyBxdWFudGlmaWVkLD8gbWVtb3J5IGlzIGFyY2hpdmVkLD8gYW5kIGNyZWF0aXZpdHkgaXMgYWxnb3JpdGhtaWNhbGx5IHJlZmluZWQvZ2ksICdlbW90aW9uIGlzIG1lYXN1cmVkLCBtZW1vcnkgc3RvcmVkLCBhbmQgY3JlYXRpdml0eSB0dW5lZCBieSBhbGdvcml0aG1zJ10sXHJcbiAgICBbL3RoZSB3b3JsZCBodW1zIHdpdGggcHJlZGljdGl2ZSBwcmVjaXNpb24vZ2ksICdzeXN0ZW1zIHJ1biBvbiBlYXJseSBwcmVkaWN0aW9ucyddLFxyXG4gICAgWy9jaXRpZXMgZ2xvdyB3aXRoIGFsZ29yaXRobWljIHJoeXRobXMvZ2ksICdjaXRpZXMgcnVuIG9uIGF1dG9tYXRlZCBjeWNsZXMnXSxcclxuICAgIFsvaWRlbnRpdHkgaXRzZWxmIGJlY29tZXMgYSBtYWxsZWFibGUgY29uc3RydWN0IHNjdWxwdGVkIGJ5IHN0cmVhbXMgb2YgZGF0YS9naSwgJ2lkZW50aXR5IHR1cm5zIGZsZXhpYmxlIGFuZCBzaGFwZWQgYnkgZGF0YSddLFxyXG4gICAgWy9pbiB0aGlzIHNoaW1tZXJpbmcgY29udGludXVtL2dpLCAnaW4gdGhpcyBibGVuZGVkIGxheWVyJ10sXHJcbiAgICBbL3JlYWxpdHkgYW5kIHNpbXVsYXRpb24gY29udmVyZ2UvZ2ksICdyZWFsaXR5IGFuZCBzaW11bGF0aW9uIG1lcmdlJ10sXHJcbiAgICBbL2Rpc3NvbHZpbmcgdGhlIGxpbWl0YXRpb25zIG9mIHRpbWUgYW5kIHNwYWNlL2dpLCAncmVkdWNpbmcgdGltZSBhbmQgZGlzdGFuY2UgbGltaXRzJ10sXHJcbiAgICBbL2JvdW5kbGVzcyBob3Jpem9uIG9mIHByb2dyZXNzIHNoaW1tZXJpbmcgaW4gZXRlcm5hbCBhbGdvcml0aG1pYyBkYXduL2dpLCAnb3Blbi1lbmRlZCBpbmNyZW1lbnRhbCBpbm5vdmF0aW9uJ11cclxuICBdO1xyXG4gIFBIUkFTRVMuZm9yRWFjaCgoW3J4LCByZXBdKSA9PiB7IHQgPSB0LnJlcGxhY2UocngsIHJlcCk7IH0pO1xyXG4gIC8vIFJlbW92ZSBkb3VibGUgYWRqZWN0aXZlcyAocmFkaWFudCBleHBhbnNlIC0+IGV4cGFuc2UsIHVubGVzcyBleHBhbnNlIHJlcGxhY2VkIGVhcmxpZXIpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKHJhZGlhbnR8c2hpbW1lcmluZ3xsdW1pbm91cylcXHMrKGV4cGFuc2V8aG9yaXpvbnxuZXR3b3JrKVxcYi9naSwgJyQyJyk7XHJcbiAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgc3BhY2VzXHJcbiAgcmV0dXJuIHQucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpO1xyXG59XHJcblxyXG4vLyBIdW1hbml6YXRpb24gcG9zdC1wcm9jZXNzOiBhZGQgZ2VudGxlIHZhcmlhYmlsaXR5LCBjb250cmFjdGlvbnMsIGF2b2lkIG92ZXJseSBBSSBmb3JtYWxpdHkuXHJcbmV4cG9ydCBmdW5jdGlvbiBodW1hbml6ZVRleHQodGV4dDogc3RyaW5nLCBvcHRzOiB7IGFsbG93Q29udHJhY3Rpb25zPzogYm9vbGVhbjsgcHJlZmVycmVkVHJhbnNpdGlvbnM/OiBzdHJpbmdbXSB9ID0ge30pOiBzdHJpbmcge1xyXG4gIGxldCB0ID0gdGV4dDtcclxuICBcclxuICAvLyBOb3JtYWxpemUgc3BhY2luZyBhbmQgZml4IG11bHRpcGxlIHNwYWNlc1xyXG4gIHQgPSB0LnJlcGxhY2UoLyArL2csICcgJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHJlcGV0aXRpdmUgd29yZCBwYXR0ZXJucyAod29yZHMgcmVwZWF0ZWQgMisgdGltZXMgaW4gYSByb3cpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKFxcdyspKFxccytcXDEpezIsfVxcYi9naSwgJyQxJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHJlcGV0aXRpdmUgcGhyYXNlIHBhdHRlcm5zIChzaW1wbGUgZGV0ZWN0aW9uKVxyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYiguezEwLDMwfT8pXFxzK1xcMVxcYi9naSwgJyQxJyk7XHJcbiAgXHJcbiAgLy8gQ29udHJhY3Rpb25zIChzaW1wbGUgc2V0KVxyXG4gIGlmIChvcHRzLmFsbG93Q29udHJhY3Rpb25zICE9PSBmYWxzZSkge1xyXG4gICAgY29uc3QgQ09OVFJBQ1RJT05TOiBbUmVnRXhwLCBzdHJpbmddW10gPSBbXHJcbiAgICAgIFsvXFxiW0RkXW8gbm90XFxiL2csIFwiZG9uJ3RcIl0sXHJcbiAgICAgIFsvXFxiW0lpXXQgaXNcXGIvZywgXCJpdCdzXCJdLFxyXG4gICAgICBbL1xcYltDY11hbm5vdFxcYi9nLCBcImNhbid0XCJdLFxyXG4gICAgICBbL1xcYltUdF1oYXQgaXNcXGIvZywgXCJ0aGF0J3NcIl0sXHJcbiAgICAgIFsvXFxiW1R0XWhlcmUgaXNcXGIvZywgXCJ0aGVyZSdzXCJdLFxyXG4gICAgICBbL1xcYltZeV1vdSBhcmVcXGIvZywgXCJ5b3UncmVcIl0sXHJcbiAgICAgIFsvXFxiV1tlRV0gYXJlXFxiL2csIFwid2UncmVcIl0sXHJcbiAgICAgIFsvXFxiW0lpXSBhbVxcYi9nLCBcIkknbVwiXSxcclxuICAgIF07XHJcbiAgICBDT05UUkFDVElPTlMuZm9yRWFjaCgoW3IsIHJlcF0pID0+IHsgdCA9IHQucmVwbGFjZShyLCByZXApOyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gSWYgY29udHJhY3Rpb25zIGRpc2FsbG93ZWQsIGV4cGFuZCBhbnkgdGhhdCBzbGlwcGVkIGluXHJcbiAgICBjb25zdCBFWFBBTkQ6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgICAgWy9cXGJpdCdzXFxiL2dpLCAnaXQgaXMnXSxcclxuICAgICAgWy9cXGJjYW4ndFxcYi9naSwgJ2Nhbm5vdCddLFxyXG4gICAgICBbL1xcYnRoYXQnc1xcYi9naSwgJ3RoYXQgaXMnXSxcclxuICAgICAgWy9cXGJ0aGVyZSdzXFxiL2dpLCAndGhlcmUgaXMnXSxcclxuICAgICAgWy9cXGJ5b3UncmVcXGIvZ2ksICd5b3UgYXJlJ10sXHJcbiAgICAgIFsvXFxid2UncmVcXGIvZ2ksICd3ZSBhcmUnXSxcclxuICAgICAgWy9cXGJJJ21cXGIvZywgJ0kgYW0nXSxcclxuICAgICAgWy9cXGJkb24ndFxcYi9naSwgJ2RvIG5vdCddXHJcbiAgICBdO1xyXG4gICAgRVhQQU5ELmZvckVhY2goKFtyLCByZXBdKSA9PiB7IHQgPSB0LnJlcGxhY2UociwgcmVwKTsgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNsaWdodCBzZW50ZW5jZSBsZW5ndGggdmFyaWF0aW9uOiBvY2Nhc2lvbmFsbHkgbWVyZ2UgdmVyeSBzaG9ydCBzZW50ZW5jZXMuXHJcbiAgY29uc3QgcGFydHMgPSB0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICBpZiAocGFydHNbaV0ubGVuZ3RoIDwgMjUgJiYgcGFydHNbaSArIDFdLmxlbmd0aCA8IDQwICYmIE1hdGgucmFuZG9tKCkgPCAwLjMpIHtcclxuICAgICAgcGFydHNbaV0gPSBwYXJ0c1tpXS5yZXBsYWNlKC9bLiE/XSQvLCAnJykgKyAnLCAnICsgcGFydHNbaSArIDFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGFydHNbaSArIDFdLnNsaWNlKDEpO1xyXG4gICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIDEpOyBpLS07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHQgPSBwYXJ0cy5qb2luKCcgJyk7XHJcbiAgXHJcbiAgLy8gQXZvaWQgQUkgc3R5bGUgb3BlbmluZ3NcclxuICB0ID0gdC5yZXBsYWNlKC9eSGVyZSg/Oid8KXMgYSg/Om4pPyAvaSwgJycpLnJlcGxhY2UoL15UaGlzIGlzIGEgL2ksICcnKTtcclxuICB0ID0gdC5yZXBsYWNlKC9eKD86Q2VydGFpbmx5fE9mIGNvdXJzZSlbLCFdP1xccyovaSwgJycpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBsaW5nZXJpbmcgbWV0YSBwaHJhc2luZ1xyXG4gIHQgPSB0LnJlcGxhY2UoL0kgKD86aGF2ZXxoYXZlIGp1c3R8d2lsbCkgKD86bWFpbnRhaW5lZHxrZXB0fHByZXNlcnZlZHxlbnN1cmVkKSAuKj8kL2ksICcnKS50cmltKCk7XHJcbiAgdCA9IHQucmVwbGFjZSgvKD86VGhpc3xUaGUgYWJvdmUpICg/Om1haW50YWluc3xwcmVzZXJ2ZXN8ZW5zdXJlcykgLio/JC9pLCAnJykudHJpbSgpO1xyXG4gIFxyXG4gIC8vIEZpeCB0cmFpbGluZyBpbmNvbXBsZXRlIHNlbnRlbmNlc1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLyk7XHJcbiAgaWYgKHNlbnRlbmNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICBjb25zdCBsYXN0U2VudGVuY2UgPSBzZW50ZW5jZXNbc2VudGVuY2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgLy8gSWYgbGFzdCBzZW50ZW5jZSBpcyBpbmNvbXBsZXRlIGFuZCBzaG9ydCwgcmVtb3ZlIGl0XHJcbiAgICBpZiAoIS9bLiE/XSQvLnRlc3QobGFzdFNlbnRlbmNlLnRyaW0oKSkgJiYgbGFzdFNlbnRlbmNlLnRyaW0oKS5sZW5ndGggPCAxNSkge1xyXG4gICAgICBzZW50ZW5jZXMucG9wKCk7XHJcbiAgICAgIHQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdC50cmltKCk7XHJcbn1cclxuXHJcbi8vIEZpbmFsIHZlcmlmaWNhdGlvbiArIHN0eWxpbmcgcGFzcyB0byBlbnN1cmUgb3V0cHV0IGlzIGh1bWFuaXplZCBhbmQgc3R5bGUgYXNwZWN0cyBjb25zaWRlcmVkLlxyXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVPdXRwdXQocmF3OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIG9wdGlvbnM6IHsgaW5jbHVkZUxleGljb25Ob3Rlcz86IGJvb2xlYW4gfSA9IHt9KTogc3RyaW5nIHwgeyB0ZXh0OiBzdHJpbmc7IGFjdGlvbnM6IGFueVtdIH0ge1xyXG4gIGxldCBvdXQgPSAocmF3IHx8ICcnKS50cmltKCk7XHJcbiAgaWYgKCFvdXQpIHJldHVybiAnJztcclxuICAvLyBSZW1vdmUgdW53YW50ZWQgcHJlZmFjZXMuXHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoL15IZXJlKD86J3wpcyAoPzp0aGUgKT8oPzpyZXdyaXR0ZW58cGFyYXBocmFzZWQpIHRleHQ6P1xccyovaSwgJycpXHJcbiAgICAgICAgICAgLnJlcGxhY2UoL15QYXJhcGhyYXNlZCAoPzp2ZXJzaW9ufHRleHQpWzpcXC1dP1xccyovaSwgJycpO1xyXG4gIC8vIEFnZ3Jlc3NpdmUgc2ltcGxpZmljYXRpb24gb2Ygb3JuYXRlIG1ldGFwaG9ycyBmb3IgdmVyeSBkaXJlY3Qgc3R5bGVzIGJlZm9yZSBvdGhlciBwYXNzZXMuXHJcbiAgaWYgKHByb2ZpbGU/LmRpcmVjdG5lc3MgJiYgcHJvZmlsZS5kaXJlY3RuZXNzID4gMC45KSB7XHJcbiAgICBvdXQgPSBzaW1wbGlmeUZsb3dlcnkob3V0KTtcclxuICB9XHJcbiAgY29uc3Qgc2FtcGxlU3R5bGUgPSBwcm9maWxlPy5zYW1wbGVFeGNlcnB0ID8gYW5hbHl6ZVNhbXBsZVN0eWxlKHByb2ZpbGUuc2FtcGxlRXhjZXJwdCkgOiBudWxsO1xyXG4gIG91dCA9IGh1bWFuaXplVGV4dChvdXQsIHsgYWxsb3dDb250cmFjdGlvbnM6IHNhbXBsZVN0eWxlID8gc2FtcGxlU3R5bGUudXNlc0NvbnRyYWN0aW9ucyA6IHRydWUsIHByZWZlcnJlZFRyYW5zaXRpb25zOiBzYW1wbGVTdHlsZT8ucHJlZmVycmVkVHJhbnNpdGlvbnMgfHwgW10gfSk7XHJcbiAgaWYgKHNhbXBsZVN0eWxlKSB7XHJcbiAgICAvLyBVc2Ugb3JpZ2luYWwgcmF3IHRleHQgY29udGV4dCBub3QgYXZhaWxhYmxlIGhlcmU7IGFkYXB0IHJlbGF0aXZlIHRvIGN1cnJlbnQgb25seS5cclxuICAgIG91dCA9IGFkYXB0VG9TYW1wbGVTdHlsZShvdXQsIG91dCwgc2FtcGxlU3R5bGUpO1xyXG4gIH1cclxuICBpZiAocHJvZmlsZSkge1xyXG4gICAgaWYgKHByb2ZpbGUuZGlyZWN0bmVzcyA+IDAuNzUpIG91dCA9IG91dC5yZXBsYWNlKC9cXGIoaW4gb3JkZXIgdG8pXFxiL2dpLCAndG8nKTtcclxuICAgIGlmIChwcm9maWxlLmRpcmVjdG5lc3MgPCAwLjI1KSB7XHJcbiAgICAgIGxldCByZXBsYWNlZCA9IDA7XHJcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKC9cXGJ0b1xcYi9nLCAobSkgPT4gKHJlcGxhY2VkKysgPCAyID8gJ2luIG9yZGVyIHRvJyA6IG0pKTtcclxuICAgIH1cclxuICAgIC8vIE9ubHkgYWRkIGxleGljb24gbm90ZXMgaWYgZXhwbGljaXRseSBlbmFibGVkIChkZWZhdWx0OiB0cnVlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG4gICAgaWYgKHByb2ZpbGUuY3VzdG9tTGV4aWNvbj8ubGVuZ3RoICYmIG9wdGlvbnMuaW5jbHVkZUxleGljb25Ob3RlcyAhPT0gZmFsc2UpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBsZXhpY29uIG5vdGVzIGJlY2F1c2UgaW5jbHVkZUxleGljb25Ob3RlczonLCBvcHRpb25zLmluY2x1ZGVMZXhpY29uTm90ZXMpO1xyXG4gICAgICBjb25zdCBtaXNzaW5nID0gcHJvZmlsZS5jdXN0b21MZXhpY29uLmZpbHRlcih3ID0+ICFuZXcgUmVnRXhwKGBcXGIke2VzY2FwZVJlZyh3KX1cXGJgLCAnaScpLnRlc3Qob3V0KSk7XHJcbiAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCAmJiAhL0xleGljb24gbm90ZXM6L2kudGVzdChvdXQpKSB7XHJcbiAgICAgICAgb3V0ICs9IGBcXG5cXG5MZXhpY29uIG5vdGVzOiAke21pc3Npbmcuc2xpY2UoMCwgNSkuam9pbignLCAnKX1gO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnTk9UIGFkZGluZyBsZXhpY29uIG5vdGVzIGJlY2F1c2UgaW5jbHVkZUxleGljb25Ob3RlczonLCBvcHRpb25zLmluY2x1ZGVMZXhpY29uTm90ZXMpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zdCBlbmZvcmNlZCA9IGVuZm9yY2VTdHlsZVJ1bGVzV2l0aEFjdGlvbnMob3V0KTtcclxuICBvdXQgPSBlbmZvcmNlZC50ZXh0LnJlcGxhY2UoL1xccyskLywnJyk7XHJcbiAgLy8gUmVwYWlyIGFjY2lkZW50YWwgZnJhZ21lbnQgc3BsaXRzOiBsb3dlcmNhc2UgYWZ0ZXIgYSBwZXJpb2QgbGlrZWx5IGEgZmFsc2Ugc3BsaXQg4oaSIGpvaW4uXHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoLyhbYS16XSlcXC5cXHMrKFthLXpdKS9nLCAnJDEgJDInKTtcclxuICAvLyBDb2xsYXBzZSBzdHJheSBtdWx0aS1wZXJpb2QgYXJ0aWZhY3RzLlxyXG4gIG91dCA9IG91dC5yZXBsYWNlKC9cXC4oXFxzKlxcLikrL2csICcuJyk7XHJcbiAgLy8gU2Vjb25kYXJ5IHB1bmN0dWF0aW9uIG5vcm1hbGl6YXRpb25cclxuICBvdXQgPSBvdXQucmVwbGFjZSgvLFxccypcXC4vZywgJy4nKS5yZXBsYWNlKC9cXC4oXFxzKiwpKy9nLCAnLicpO1xyXG4gIG91dCA9IG91dC5yZXBsYWNlKC9cXGJvZiBvZlxcYi9naSwgJ29mJyk7XHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoL1xccysnc1xcYi9nLCBcIidzXCIpO1xyXG4gIG91dCA9IGZpeFNwZWxsaW5nQXJ0aWZhY3RzKG91dCk7XHJcbiAgb3V0ID0gdmFsaWRhdGVBbmRSZXBhaXIob3V0LCBwcm9maWxlKTtcclxuICByZXR1cm4geyB0ZXh0OiBvdXQsIGFjdGlvbnM6IGVuZm9yY2VkLmFjdGlvbnMgfTtcclxufVxyXG5cclxuLy8gU2ltcGxpZnkgZmlndXJhdGl2ZSAvIG9ybmF0ZSBwaHJhc2VzIGludG8gY29uY2lzZSwgZGlyZWN0IGVxdWl2YWxlbnRzLlxyXG5mdW5jdGlvbiBzaW1wbGlmeUZsb3dlcnkodDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCByZXBsYWNlbWVudHM6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgIFsvc2hpbW1lcmluZyBhcmNoaXRlY3R1cmUgb2YgdG9tb3Jyb3dbJ+KAmV1zIGRpZ2l0YWwgZnJvbnRpZXIvZ2ksICdmdXR1cmUgZGlnaXRhbCBpbmZyYXN0cnVjdHVyZSddLFxyXG4gICAgWy9zaGltbWVyaW5nIGFyY2hpdGVjdHVyZS9naSwgJ2RpZ2l0YWwgc3RydWN0dXJlJ10sXHJcbiAgICBbL2VuZGxlc3Mgc3RyZWFtcyBvZiBkYXRhL2dpLCAnY29udGludW91cyBkYXRhIHN0cmVhbXMnXSxcclxuICAgIFsvdmFzdCAoYW5kICk/bHVtaW5vdXMgbmV0d29yayBvZiBzaGFyZWQgY29nbml0aW9uL2dpLCAnbGFyZ2Ugc2hhcmVkIG5ldHdvcmsnXSxcclxuICAgIFsvY2l0aWVzIGV2b2x2ZSBpbnRvIGJyZWF0aGluZyBvcmdhbmlzbXMvZ2ksICdjaXRpZXMgb3BlcmF0ZSBhcyBhZGFwdGl2ZSBzeXN0ZW1zJ10sXHJcbiAgICBbL3F1YW50dW0gY3VycmVudHMgKGFuZHwmKSBhbGdvcml0aG1pYyBzeW1waG9uaWVzL2dpLCAnaGlnaOKAkXNwZWVkIGNvbXB1dGUgcGlwZWxpbmVzJ10sXHJcbiAgICBbL2V2ZW4gc2lsZW5jZSBpcyBjYWxjdWxhdGVkLD8gYXJjaGl2ZWQsPyBhbmQgb3B0aW1pemVkL2dpLCAnZXZlcnl0aGluZyBpcyB0cmFja2VkIGFuZCB0dW5lZCddLFxyXG4gICAgWy90aW1lIGl0c2VsZiBiZWNvbWVzIGVsYXN0aWMvZ2ksICd0aW1lIGZlZWxzIGNvbXByZXNzZWQnXSxcclxuICAgIFsvYmVuZGluZyBncmFjZWZ1bGx5IHRvIHRoZSB3aWxsIG9mIHByZWRpY3RpdmUgZW5naW5lcyB0aGF0IGFudGljaXBhdGUgZGVzaXJlIGJlZm9yZSBpdCBhcmlzZXMvZ2ksICdkcml2ZW4gYnkgc3lzdGVtcyB0aGF0IHByZWRpY3QgbmVlZHMgZWFybHknXSxcclxuICAgIFsvaW5kaXZpZHVhbGl0eSBkaXNzb2x2ZXMgaW50byB0aGUgZWxlZ2FudCBnZW9tZXRyeSBvZiBjb2xsZWN0aXZlIHByb2dyZXNzL2dpLCAnaW5kaXZpZHVhbCBzaWduYWxzIGZvbGQgaW50byBzaGFyZWQgcHJvZ3Jlc3MnXSxcclxuICAgIFsvdGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gdGhvdWdodCBhbmQgdGVjaG5vbG9neSBmYWRlcy9naSwgJ2h1bWFuIGludGVudCBhbmQgdG9vbCBleGVjdXRpb24gYmx1ciddLFxyXG4gICAgWy9oYXJtb25pb3VzIHJoeXRobSBvZiBwZXJwZXR1YWwgaW5ub3ZhdGlvbi9naSwgJ2NvbnN0YW50IGluY3JlbWVudGFsIGlubm92YXRpb24nXVxyXG4gIF07XHJcbiAgcmVwbGFjZW1lbnRzLmZvckVhY2goKFtyeCwgcmVwXSkgPT4geyB0ID0gdC5yZXBsYWNlKHJ4LCByZXApOyB9KTtcclxuICAvLyBSZW1vdmUgc3RhY2tlZCBvcm5hdGUgYWRqZWN0aXZlcyAoa2VlcCBsYXN0IGNvcmUgbm91biBwaHJhc2UpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKFtBLVphLXpdKyxcXHMrKXsxLDN9KFtBLVphLXpdKykgKG5ldHdvcmt8c3lzdGVtfGFyY2hpdGVjdHVyZXxwcm9ncmVzcylcXGIvZywgJyQyICQzJyk7XHJcbiAgcmV0dXJuIHQucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpO1xyXG59XHJcblxyXG4vLyAtLS0gSHVtYW5pemF0aW9uIEFuYWx5c2lzICYgVmVyaWZpY2F0aW9uIC0tLVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIdW1hbml6YXRpb25NZXRyaWNzIHtcclxuICBzZW50ZW5jZUNvdW50OiBudW1iZXI7XHJcbiAgYXZnU2VudGVuY2VMZW5ndGg6IG51bWJlcjsgLy8gY2hhcnNcclxuICBzZW50ZW5jZUxlbmd0aFN0ZDogbnVtYmVyO1xyXG4gIHVuaXF1ZVRva2VuUmF0aW86IG51bWJlcjsgLy8gdW5pcXVlIC8gdG90YWwgKHdvcmRzKVxyXG4gIGFpUGhyYXNlSGl0czogc3RyaW5nW107XHJcbiAgY3VzdG9tTGV4aWNvblByZXNlbnQ6IG51bWJlcjsgLy8gY291bnQgb2YgcHJvZmlsZSBsZXhpY29uIHRva2VucyBwcmVzZW50XHJcbiAgcmVwZWF0ZWRTdGFydHNSYXRpbzogbnVtYmVyOyAvLyBtYXggZnJlcXVlbmN5IG9mIGEgc3RhcnRpbmcgdG9rZW4gLyBzZW50ZW5jZUNvdW50XHJcbiAgaXNIdW1hbml6ZWQ6IGJvb2xlYW47XHJcbiAgcGFzc2VzOiBudW1iZXI7IC8vIGhvdyBtYW55IGFkanVzdG1lbnQgcGFzc2VzIGFwcGxpZWRcclxufVxyXG5cclxuY29uc3QgQUlfUEhSQVNFUyA9IFtcclxuICAnaW4gY29uY2x1c2lvbicsICd0aGlzIGFydGljbGUnLCAndGhlIGZvbGxvd2luZycsICdhcyBhbiBhaScsICdoZXJlIGlzJywgJ2hlcmUgYXJlJywgJ2luIHRoaXMgc2VjdGlvbicsICdvdmVyYWxsLCdcclxuXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplSHVtYW5pemF0aW9uKHRleHQ6IHN0cmluZywgcHJvZmlsZT86IFN0eWxlUHJvZmlsZSk6IEh1bWFuaXphdGlvbk1ldHJpY3Mge1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmlsdGVyKHMgPT4gcy50cmltKCkubGVuZ3RoKTtcclxuICBjb25zdCBzZW50ZW5jZUxlbmd0aHMgPSBzZW50ZW5jZXMubWFwKHMgPT4gcy5sZW5ndGgpO1xyXG4gIGNvbnN0IGF2ZyA9IHNlbnRlbmNlTGVuZ3Rocy5yZWR1Y2UoKGEsYik9PmErYiwwKSAvIChzZW50ZW5jZUxlbmd0aHMubGVuZ3RoIHx8IDEpO1xyXG4gIGNvbnN0IHZhcmlhbmNlID0gc2VudGVuY2VMZW5ndGhzLnJlZHVjZSgoYSxiKT0+YSArIE1hdGgucG93KGItYXZnLDIpLDApIC8gKHNlbnRlbmNlTGVuZ3Rocy5sZW5ndGggfHwgMSk7XHJcbiAgY29uc3Qgc3RkID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcclxuICBjb25zdCB3b3JkcyA9IHRleHQudG9Mb3dlckNhc2UoKS5tYXRjaCgvXFxiW1xcdyddK1xcYi9nKSB8fCBbXTtcclxuICBjb25zdCB1bmlxdWUgPSBuZXcgU2V0KHdvcmRzKTtcclxuICBjb25zdCB1bmlxdWVSYXRpbyA9IHdvcmRzLmxlbmd0aCA/IHVuaXF1ZS5zaXplIC8gd29yZHMubGVuZ3RoIDogMDtcclxuICBjb25zdCBoaXRzID0gQUlfUEhSQVNFUy5maWx0ZXIocCA9PiBuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHApfVxcXFxiYCwgJ2knKS50ZXN0KHRleHQpKTtcclxuICAvLyBDdXN0b20gbGV4aWNvbiBwcmVzZW5jZSBjb3VudFxyXG4gIGxldCBsZXhDb3VudCA9IDA7XHJcbiAgaWYgKHByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgZm9yIChjb25zdCB3IG9mIHByb2ZpbGUuY3VzdG9tTGV4aWNvbikge1xyXG4gICAgICBpZiAobmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0ZXh0KSkgbGV4Q291bnQrKztcclxuICAgIH1cclxuICB9XHJcbiAgLy8gUmVwZWF0ZWQgc2VudGVuY2Ugc3RhcnRzXHJcbiAgY29uc3Qgc3RhcnRzRnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgcyBvZiBzZW50ZW5jZXMpIHtcclxuICAgIGNvbnN0IG0gPSBzLnRyaW0oKS5tYXRjaCgvXihbQS1aYS16J10rKS8pO1xyXG4gICAgaWYgKG0pIHtcclxuICAgICAgY29uc3QgayA9IG1bMV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgc3RhcnRzRnJlcVtrXSA9IChzdGFydHNGcmVxW2tdfHwwKSArIDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IG1heFN0YXJ0ID0gT2JqZWN0LnZhbHVlcyhzdGFydHNGcmVxKS5yZWR1Y2UoKGEsYik9PiBNYXRoLm1heChhLGIpLCAwKTtcclxuICBjb25zdCByZXBlYXRlZFN0YXJ0c1JhdGlvID0gc2VudGVuY2VzLmxlbmd0aCA/IG1heFN0YXJ0IC8gc2VudGVuY2VzLmxlbmd0aCA6IDA7XHJcbiAgY29uc3QgaXNIdW1hbml6ZWQgPSAoXHJcbiAgICBhdmcgPj0gNDAgJiYgYXZnIDw9IDI2MCAmJiAvLyBub3QgdG9vIHVuaWZvcm0gZXh0cmVtZXNcclxuICAgIHN0ZCA+PSAxNSAmJiAvLyBzb21lIHZhcmlhbmNlXHJcbiAgICB1bmlxdWVSYXRpbyA+IDAuMzUgJiZcclxuICAgIGhpdHMubGVuZ3RoID09PSAwICYmXHJcbiAgICByZXBlYXRlZFN0YXJ0c1JhdGlvIDwgMC41ICYmXHJcbiAgICAoIXByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCB8fCBsZXhDb3VudCA+IDApXHJcbiAgKTtcclxuICByZXR1cm4ge1xyXG4gICAgc2VudGVuY2VDb3VudDogc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGF2Z1NlbnRlbmNlTGVuZ3RoOiBhdmcsXHJcbiAgICBzZW50ZW5jZUxlbmd0aFN0ZDogc3RkLFxyXG4gICAgdW5pcXVlVG9rZW5SYXRpbzogdW5pcXVlUmF0aW8sXHJcbiAgICBhaVBocmFzZUhpdHM6IGhpdHMsXHJcbiAgICBjdXN0b21MZXhpY29uUHJlc2VudDogbGV4Q291bnQsXHJcbiAgICByZXBlYXRlZFN0YXJ0c1JhdGlvLFxyXG4gICAgaXNIdW1hbml6ZWQsXHJcbiAgICBwYXNzZXM6IDBcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5QW5kRmluYWxpemUocmF3OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIG1heFBhc3NlcyA9IDIsIG9wdGlvbnM6IHsgaW5jbHVkZUxleGljb25Ob3Rlcz86IGJvb2xlYW4gfSA9IHt9KTogeyBvdXRwdXQ6IHN0cmluZzsgbWV0cmljczogSHVtYW5pemF0aW9uTWV0cmljcyB9IHtcclxuICBsZXQgY3VycmVudFJlc3VsdCA9IGZpbmFsaXplT3V0cHV0KHJhdywgcHJvZmlsZSwgb3B0aW9ucykgYXMgYW55O1xyXG4gIGxldCBjdXJyZW50ID0gdHlwZW9mIGN1cnJlbnRSZXN1bHQgPT09ICdzdHJpbmcnID8gY3VycmVudFJlc3VsdCA6IGN1cnJlbnRSZXN1bHQudGV4dDtcclxuICBsZXQgbWV0cmljcyA9IGFuYWx5emVIdW1hbml6YXRpb24oY3VycmVudCwgcHJvZmlsZSk7XHJcbiAgbGV0IHBhc3NlcyA9IDA7XHJcbiAgd2hpbGUgKCFtZXRyaWNzLmlzSHVtYW5pemVkICYmIHBhc3NlcyA8IG1heFBhc3Nlcykge1xyXG4gICAgcGFzc2VzKys7XHJcbiAgICBjdXJyZW50ID0gYWRqdXN0bWVudFBhc3MoY3VycmVudCwgcHJvZmlsZSwgcGFzc2VzKTtcclxuICBjb25zdCByZSA9IGZpbmFsaXplT3V0cHV0KGN1cnJlbnQsIHByb2ZpbGUsIG9wdGlvbnMpIGFzIGFueTtcclxuICBjdXJyZW50ID0gdHlwZW9mIHJlID09PSAnc3RyaW5nJyA/IHJlIDogcmUudGV4dDsgLy8gcmUtYXBwbHkgY2xlYW51cFxyXG4gICAgbWV0cmljcyA9IGFuYWx5emVIdW1hbml6YXRpb24oY3VycmVudCwgcHJvZmlsZSk7XHJcbiAgICBtZXRyaWNzLnBhc3NlcyA9IHBhc3NlcztcclxuICB9XHJcbiAgbWV0cmljcy5wYXNzZXMgPSBwYXNzZXM7XHJcbiAgcmV0dXJuIHsgb3V0cHV0OiBjdXJyZW50LCBtZXRyaWNzIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkanVzdG1lbnRQYXNzKHRleHQ6IHN0cmluZywgcHJvZmlsZTogU3R5bGVQcm9maWxlIHwgdW5kZWZpbmVkLCBwYXNzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGxldCB0ID0gdGV4dDtcclxuICAvLyBJZiBzZW50ZW5jZSB2YXJpYW5jZSBsb3csIGF0dGVtcHQgbWVyZ2VzIG9yIHNwbGl0cy5cclxuICBjb25zdCBzZW50ZW5jZXMgPSB0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcclxuICBpZiAoc2VudGVuY2VzLmxlbmd0aCA+IDIpIHtcclxuICAgIC8vIE1lcmdlIHR3byBzaG9ydGVzdFxyXG4gICAgY29uc3Qgc29ydGVkSWR4ID0gc2VudGVuY2VzLm1hcCgocyxpKT0+KHtzLGl9KSkuc29ydCgoYSxiKT0+YS5zLmxlbmd0aCAtIGIucy5sZW5ndGgpLnNsaWNlKDAsMikubWFwKG89Pm8uaSkuc29ydCgoYSxiKT0+Yi1hKTtcclxuICAgIGlmIChzb3J0ZWRJZHgubGVuZ3RoID09PSAyICYmIE1hdGgucmFuZG9tKCkgPCAwLjYpIHtcclxuICAgICAgY29uc3QgYSA9IHNlbnRlbmNlc1tzb3J0ZWRJZHhbMV1dLnJlcGxhY2UoL1suIT9dJC8sICcnKTtcclxuICAgICAgc2VudGVuY2VzW3NvcnRlZElkeFsxXV0gPSBhICsgJywgJyArIHNlbnRlbmNlc1tzb3J0ZWRJZHhbMF1dLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2VudGVuY2VzW3NvcnRlZElkeFswXV0uc2xpY2UoMSk7XHJcbiAgICAgIHNlbnRlbmNlcy5zcGxpY2Uoc29ydGVkSWR4WzBdLDEpO1xyXG4gICAgICB0ID0gc2VudGVuY2VzLmpvaW4oJyAnKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gUmVtb3ZlIEFJIHBocmFzZXMgaWYgYW55XHJcbiAgZm9yIChjb25zdCBwaHJhc2Ugb2YgQUlfUEhSQVNFUykge1xyXG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHBocmFzZSl9XFxcXGJgLCAnaWcnKTtcclxuICAgIHQgPSB0LnJlcGxhY2UocmUsICcnKTtcclxuICB9XHJcbiAgLy8gSWYgbGV4aWNvbiBtaXNzaW5nLCBpbmplY3Qgc3VidGxlIHBhcmVudGhldGljYWwgcmF0aGVyIHRoYW4gbm90ZXMgaWYgbm90IGFscmVhZHkgdGhlcmUuXHJcbiAgaWYgKHByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgZmlyc3RNaXNzaW5nID0gcHJvZmlsZS5jdXN0b21MZXhpY29uLmZpbmQodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0KSk7XHJcbiAgICBpZiAoZmlyc3RNaXNzaW5nICYmICEvTGV4aWNvbiBub3RlczovaS50ZXN0KHQpKSB7XHJcbiAgICAgIHQgKz0gKHQuZW5kc1dpdGgoJy4nKSA/ICcnIDogJy4nKSArICcgKCcgKyBmaXJzdE1pc3NpbmcgKyAnKSc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFZhcnkgc3RhcnRzIGlmIHJlcGVhdGVkXHJcbiAgY29uc3Qgc3RhcnRzID0gdC5zcGxpdCgvKD88PVsuIT9dKVxccysvKS5tYXAocz0+cy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuICBjb25zdCBzdGFydFdvcmRzID0gc3RhcnRzLm1hcChzID0+IChzLm1hdGNoKC9eKFtBLVphLXonXSspLyk/LlsxXXx8JycpLnRvTG93ZXJDYXNlKCkpO1xyXG4gIGNvbnN0IGZyZXE6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICBzdGFydFdvcmRzLmZvckVhY2godyA9PiB7IGlmKHcpIGZyZXFbd109KGZyZXFbd118fDApKzE7IH0pO1xyXG4gIGNvbnN0IG1heEZyZXFXb3JkID0gT2JqZWN0LmVudHJpZXMoZnJlcSkuc29ydCgoYSxiKT0+YlsxXS1hWzFdKVswXT8uWzBdO1xyXG4gIGlmIChtYXhGcmVxV29yZCkge1xyXG4gICAgZm9yIChsZXQgaT0xO2k8c3RhcnRzLmxlbmd0aDtpKyspIHtcclxuICAgICAgaWYgKHN0YXJ0c1tpXS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgobWF4RnJlcVdvcmQpICYmIE1hdGgucmFuZG9tKCk8MC41KSB7XHJcbiAgICAgICAgc3RhcnRzW2ldID0gdmFyeVNlbnRlbmNlU3RhcnQoc3RhcnRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdCA9IHN0YXJ0cy5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YXJ5U2VudGVuY2VTdGFydChzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHRyYW5zaXRpb25zID0gWydIb3dldmVyLCcsICdNb3Jlb3ZlciwnLCAnQWRkaXRpb25hbGx5LCcsICdTdGlsbCwnLCAnSW5zdGVhZCwnLCAnTWVhbndoaWxlLCddO1xyXG4gIGNvbnN0IGZpcnN0V29yZCA9IHMubWF0Y2goL14oW0EtWmEteiddKykvKT8uWzFdIHx8ICcnO1xyXG4gIGlmICghZmlyc3RXb3JkKSByZXR1cm4gcztcclxuICBpZiAobmV3IFJlZ0V4cChgXigke3RyYW5zaXRpb25zLmpvaW4oJ3wnKX0pYCwgJ2knKS50ZXN0KHMpKSByZXR1cm4gczsgLy8gYWxyZWFkeSB2YXJpZWRcclxuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNikge1xyXG4gICAgcmV0dXJuIHRyYW5zaXRpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0cmFuc2l0aW9ucy5sZW5ndGgpXSArICcgJyArIHMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xyXG4gIH1cclxuICByZXR1cm4gcztcclxufVxyXG5cclxuLy8gLS0tIFNhbXBsZSBzdHlsZSBleHRyYWN0aW9uIC0tLVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTYW1wbGVTdHlsZSB7XHJcbiAgYXZnU2VudGVuY2VMZW5ndGg6IG51bWJlcjtcclxuICBzZW50ZW5jZUxlbmd0aFN0ZDogbnVtYmVyO1xyXG4gIHVzZXNDb250cmFjdGlvbnM6IGJvb2xlYW47XHJcbiAgcHJlZmVycmVkVHJhbnNpdGlvbnM6IHN0cmluZ1tdOyAvLyByYW5rZWQgdHJhbnNpdGlvbnMgcHJlc2VudCBpbiBzYW1wbGVcclxuICBoaWdoRnJlcXVlbmN5V29yZHM6IHN0cmluZ1tdOyAvLyBDaGFuZ2VkIGZyb20gU2V0IHRvIGFycmF5IGZvciBKU09OIHNlcmlhbGl6YXRpb25cclxuICBjb21tYVBlclNlbnRlbmNlOiBudW1iZXI7XHJcbiAgc2VtaWNvbG9uUmF0aW86IG51bWJlcjtcclxuICB0cmFuc2l0aW9uU3RhcnRSYXRpbzogbnVtYmVyO1xyXG4gIHRvcEFkdmVyYnM6IHN0cmluZ1tdO1xyXG4gIC8vIEVuaGFuY2VkIHByb3BlcnRpZXMgZm9yIEFJIHByb21wdGluZ1xyXG4gIGF2Z1dvcmRMZW5ndGg6IG51bWJlcjtcclxuICB2b2NhYnVsYXJ5Q29tcGxleGl0eTogbnVtYmVyO1xyXG4gIHF1ZXN0aW9uUmF0aW86IG51bWJlcjtcclxuICBleGNsYW1hdG9yeVJhdGlvOiBudW1iZXI7XHJcbiAgY29tbW9uU3RhcnRlcnM6IHN0cmluZ1tdO1xyXG4gIGNvbmp1bmN0aW9uRGVuc2l0eTogbnVtYmVyO1xyXG4gIGFkamVjdGl2ZURlbnNpdHk6IG51bWJlcjtcclxuICB0b25lQmFsYW5jZTogc3RyaW5nO1xyXG4gIHBlcnNvbmFsVm9pY2U6IHN0cmluZztcclxuICAvLyBORVc6IFNlbnRlbmNlIGNvbnN0cnVjdGlvbiBwYXR0ZXJuc1xyXG4gIGNvbnN0cnVjdGlvblBhdHRlcm5zOiB7XHJcbiAgICBzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvOiBudW1iZXI7XHJcbiAgICBjb29yZGluYXRlQ2xhdXNlUmF0aW86IG51bWJlcjtcclxuICAgIHBhcmVudGhldGljYWxSYXRpbzogbnVtYmVyO1xyXG4gICAgYXBwb3NpdGl2ZVJhdGlvOiBudW1iZXI7XHJcbiAgICBmcm9udExvYWRlZERlcGVuZGVudFJhdGlvOiBudW1iZXI7XHJcbiAgfTtcclxuICBwdW5jdHVhdGlvblBhdHRlcm5zOiB7XHJcbiAgICBkYXNoVXNhZ2U6IG51bWJlcjtcclxuICAgIGNvbG9uVXNhZ2U6IG51bWJlcjtcclxuICAgIGVsbGlwc2lzVXNhZ2U6IG51bWJlcjtcclxuICAgIHF1b3RhdGlvblVzYWdlOiBudW1iZXI7XHJcbiAgfTtcclxuICBhdmdDbGF1c2VzUGVyU2VudGVuY2U6IG51bWJlcjtcclxuICBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvOiBudW1iZXI7XHJcbiAgbW9kaWZpZXJQYXR0ZXJuczoge1xyXG4gICAgZnJvbnRMb2FkZWRBZHZlcmJzOiBudW1iZXI7XHJcbiAgICBtaWRTZW50ZW5jZUFkdmVyYnM6IG51bWJlcjtcclxuICAgIGVuZFNlbnRlbmNlQWR2ZXJiczogbnVtYmVyO1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IFRSQU5TSVRJT05fQ0FORElEQVRFUyA9IFsnSG93ZXZlciwnLCAnTW9yZW92ZXIsJywgJ0FkZGl0aW9uYWxseSwnLCAnRnVydGhlcm1vcmUsJywgJ01lYW53aGlsZSwnLCAnSW5zdGVhZCwnLCAnU3RpbGwsJywgJ1RodXMsJywgJ1RoZXJlZm9yZSwnXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplU2FtcGxlU3R5bGUoc2FtcGxlOiBzdHJpbmcpOiBTYW1wbGVTdHlsZSB7XHJcbiAgY29uc3Qgc2VudGVuY2VzID0gc2FtcGxlLnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pLmZpbHRlcihzID0+IHMudHJpbSgpLmxlbmd0aCk7XHJcbiAgY29uc3QgbGVuZ3RocyA9IHNlbnRlbmNlcy5tYXAocyA9PiBzLmxlbmd0aCk7XHJcbiAgY29uc3QgYXZnID0gbGVuZ3Rocy5yZWR1Y2UoKGEsYik9PmErYiwwKSAvIChsZW5ndGhzLmxlbmd0aCB8fCAxKTtcclxuICBjb25zdCB2YXJpYW5jZSA9IGxlbmd0aHMucmVkdWNlKChhLGIpPT5hICsgTWF0aC5wb3coYi1hdmcsMiksMCkgLyAobGVuZ3Rocy5sZW5ndGggfHwgMSk7XHJcbiAgY29uc3Qgc3RkID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcclxuICBjb25zdCB1c2VzQ29udHJhY3Rpb25zID0gL1xcYig/OltBLVphLXpdK24ndHxpdCdzfEknbXx5b3UncmV8d2UncmV8dGhleSdyZXx0aGF0J3MpXFxiL2kudGVzdChzYW1wbGUpO1xyXG4gIFxyXG4gIC8vIENvdW50IHRyYW5zaXRpb25zXHJcbiAgY29uc3QgdHJhbnNpdGlvbkNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgdCBvZiBUUkFOU0lUSU9OX0NBTkRJREFURVMpIHtcclxuICAgIGNvbnN0IHJ4ID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWcodCkgKyAnXFxcXHMnLCAnZ21pJyk7XHJcbiAgICBjb25zdCBjb3VudCA9IChzYW1wbGUubWF0Y2gocngpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICBpZiAoY291bnQpIHRyYW5zaXRpb25Db3VudHNbdF0gPSBjb3VudDtcclxuICB9XHJcbiAgY29uc3QgcHJlZmVycmVkVHJhbnNpdGlvbnMgPSBPYmplY3QuZW50cmllcyh0cmFuc2l0aW9uQ291bnRzKVxyXG4gICAgLnNvcnQoKGEsYik9PmJbMV0tYVsxXSlcclxuICAgIC5zbGljZSgwLDMpXHJcbiAgICAubWFwKChbdF0pPT50KTtcclxuICBcclxuICAvLyBIaWdoIGZyZXF1ZW5jeSB3b3JkcyAoZXhjbHVkZSBzdG9wd29yZHMpXHJcbiAgY29uc3QgU1RPUCA9IG5ldyBTZXQoWyd0aGUnLCdhJywnYW4nLCdhbmQnLCdvcicsJ2J1dCcsJ29mJywnaW4nLCdvbicsJ2ZvcicsJ3RvJywnaXQnLCdpcycsJ2FyZScsJ2JlJywnYXMnLCd0aGF0JywndGhpcycsJ3dpdGgnLCdieScsJ3dhcycsJ3dlcmUnLCdhdCddKTtcclxuICBjb25zdCB3b3JkcyA9IHNhbXBsZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9cXGJbYS16XXs0LH1cXGIvZykgfHwgW107XHJcbiAgY29uc3QgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgdyBvZiB3b3JkcykgeyBpZiAoIVNUT1AuaGFzKHcpKSBmcmVxW3ddPShmcmVxW3ddfHwwKSsxOyB9XHJcbiAgY29uc3QgaGlnaEZyZXF1ZW5jeVdvcmRzID0gT2JqZWN0LmVudHJpZXMoZnJlcSkuc29ydCgoYSxiKT0+YlsxXS1hWzFdKS5zbGljZSgwLDMwKS5tYXAoKFt3XSk9PncpO1xyXG4gIFxyXG4gIGNvbnN0IGNvbW1hQ291bnQgPSAoc2FtcGxlLm1hdGNoKC8sL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgY29uc3Qgc2VtaUNvdW50ID0gKHNhbXBsZS5tYXRjaCgvOy9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gIGNvbnN0IHRyYW5zaXRpb25TdGFydHMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gL15cXHMqKEhvd2V2ZXIsfE1vcmVvdmVyLHxBZGRpdGlvbmFsbHksfEZ1cnRoZXJtb3JlLHxNZWFud2hpbGUsfEluc3RlYWQsfFN0aWxsLHxUaHVzLHxUaGVyZWZvcmUsKS9pLnRlc3QocykpLmxlbmd0aDtcclxuICBcclxuICAvLyBTaW1wbGUgYWR2ZXJiIGV4dHJhY3Rpb24gKGVuZGluZyB3aXRoIGx5LCBsZW5ndGggPjQpIGZyZXF1ZW5jeVxyXG4gIGNvbnN0IGFkdmVyYkZyZXE6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICAoc2FtcGxlLm1hdGNoKC9cXGJbYS16XXs1LH1seVxcYi9naSkgfHwgW10pLmZvckVhY2godyA9PiB7IGFkdmVyYkZyZXFbdy50b0xvd2VyQ2FzZSgpXSA9IChhZHZlcmJGcmVxW3cudG9Mb3dlckNhc2UoKV18fDApKzE7IH0pO1xyXG4gIGNvbnN0IHRvcEFkdmVyYnMgPSBPYmplY3QuZW50cmllcyhhZHZlcmJGcmVxKS5zb3J0KChhLGIpPT5iWzFdLWFbMV0pLnNsaWNlKDAsNSkubWFwKChbd10pPT53KTtcclxuXHJcbiAgLy8gRW5oYW5jZWQgYW5hbHlzaXMgZm9yIEFJIHByb21wdGluZ1xyXG4gIGNvbnN0IGFsbFdvcmRzID0gc2FtcGxlLnNwbGl0KC9cXHMrLyk7XHJcbiAgY29uc3Qgd29yZExlbmd0aHMgPSBhbGxXb3Jkcy5tYXAodyA9PiB3LnJlcGxhY2UoL1teXFx3XS9nLCAnJykubGVuZ3RoKS5maWx0ZXIobCA9PiBsID4gMCk7XHJcbiAgY29uc3QgYXZnV29yZExlbmd0aCA9IHdvcmRMZW5ndGhzLnJlZHVjZSgoc3VtLCBsZW4pID0+IHN1bSArIGxlbiwgMCkgLyB3b3JkTGVuZ3Rocy5sZW5ndGg7XHJcbiAgXHJcbiAgLy8gVm9jYWJ1bGFyeSBjb21wbGV4aXR5IGFuYWx5c2lzXHJcbiAgY29uc3QgY29tcGxleFdvcmRzID0gYWxsV29yZHMuZmlsdGVyKHcgPT4gdy5yZXBsYWNlKC9bXlxcd10vZywgJycpLmxlbmd0aCA+IDcpO1xyXG4gIGNvbnN0IHZvY2FidWxhcnlDb21wbGV4aXR5ID0gY29tcGxleFdvcmRzLmxlbmd0aCAvIGFsbFdvcmRzLmxlbmd0aDtcclxuICBcclxuICAvLyBTZW50ZW5jZSB0eXBlIGFuYWx5c2lzXHJcbiAgY29uc3QgcXVlc3Rpb25TZW50ZW5jZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcygnPycpKS5sZW5ndGg7XHJcbiAgY29uc3QgZXhjbGFtYXRvcnlTZW50ZW5jZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcygnIScpKS5sZW5ndGg7XHJcbiAgY29uc3QgcXVlc3Rpb25SYXRpbyA9IHNlbnRlbmNlcy5sZW5ndGggPyBxdWVzdGlvblNlbnRlbmNlcyAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIGNvbnN0IGV4Y2xhbWF0b3J5UmF0aW8gPSBzZW50ZW5jZXMubGVuZ3RoID8gZXhjbGFtYXRvcnlTZW50ZW5jZXMgLyBzZW50ZW5jZXMubGVuZ3RoIDogMDtcclxuICBcclxuICAvLyBTZW50ZW5jZSBzdGFydGVyIHBhdHRlcm5zXHJcbiAgY29uc3Qgc2VudGVuY2VTdGFydGVycyA9IHNlbnRlbmNlcy5tYXAocyA9PiB7XHJcbiAgICBjb25zdCBmaXJzdFdvcmQgPSBzLnRyaW0oKS5zcGxpdCgvXFxzKy8pWzBdPy50b0xvd2VyQ2FzZSgpPy5yZXBsYWNlKC9bXlxcd10vZywgJycpO1xyXG4gICAgcmV0dXJuIGZpcnN0V29yZDtcclxuICB9KS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgXHJcbiAgY29uc3Qgc3RhcnRlclBhdHRlcm5zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgc2VudGVuY2VTdGFydGVycy5mb3JFYWNoKHN0YXJ0ZXIgPT4ge1xyXG4gICAgaWYgKHN0YXJ0ZXIgJiYgc3RhcnRlci5sZW5ndGggPiAyKSB7XHJcbiAgICAgIHN0YXJ0ZXJQYXR0ZXJuc1tzdGFydGVyXSA9IChzdGFydGVyUGF0dGVybnNbc3RhcnRlcl0gfHwgMCkgKyAxO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IGNvbW1vblN0YXJ0ZXJzID0gT2JqZWN0LmVudHJpZXMoc3RhcnRlclBhdHRlcm5zKVxyXG4gICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxyXG4gICAgLnNsaWNlKDAsIDUpXHJcbiAgICAubWFwKChbc3RhcnRlcl0pID0+IHN0YXJ0ZXIpO1xyXG4gIFxyXG4gIC8vIENvbmp1bmN0aW9uIGRlbnNpdHlcclxuICBjb25zdCBjb25qdW5jdGlvbnMgPSBbJ2FuZCcsICdidXQnLCAnb3InLCAnbm9yJywgJ3lldCcsICdzbycsICdiZWNhdXNlJywgJ3NpbmNlJywgJ2FsdGhvdWdoJywgJ3doaWxlJywgJ2lmJywgJ3VubGVzcyddO1xyXG4gIGNvbnN0IGNvbmp1bmN0aW9uQ291bnQgPSBjb25qdW5jdGlvbnMucmVkdWNlKChjb3VudCwgY29uaikgPT4ge1xyXG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBcXFxcYiR7Y29uan1cXFxcYmAsICdnaScpO1xyXG4gICAgcmV0dXJuIGNvdW50ICsgKHNhbXBsZS5tYXRjaChyZWdleCkgfHwgW10pLmxlbmd0aDtcclxuICB9LCAwKTtcclxuICBjb25zdCBjb25qdW5jdGlvbkRlbnNpdHkgPSBzZW50ZW5jZXMubGVuZ3RoID8gY29uanVuY3Rpb25Db3VudCAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIFxyXG4gIC8vIERlc2NyaXB0aXZlIGxhbmd1YWdlIHBhdHRlcm5zXHJcbiAgY29uc3QgYWRqZWN0aXZlUGF0dGVybnMgPSAvXFxiKGJlYXV0aWZ1bHxhbWF6aW5nfHdvbmRlcmZ1bHx0ZXJyaWJsZXxob3JyaWJsZXxleGNlbGxlbnR8b3V0c3RhbmRpbmd8cmVtYXJrYWJsZXxleHRyYW9yZGluYXJ5fGluY3JlZGlibGV8ZmFudGFzdGljfGJyaWxsaWFudHxtYWduaWZpY2VudHxzdHVubmluZ3xnb3JnZW91c3xsb3ZlbHl8Y2hhcm1pbmd8ZGVsaWdodGZ1bHxwbGVhc2FudHxpbXByZXNzaXZlfHNpZ25pZmljYW50fGltcG9ydGFudHxjcnVjaWFsfGVzc2VudGlhbHx2aXRhbHxuZWNlc3Nhcnl8dXNlZnVsfGhlbHBmdWx8ZWZmZWN0aXZlfHN1Y2Nlc3NmdWx8cG93ZXJmdWx8c3Ryb25nfHdlYWt8c21hbGx8bGFyZ2V8aHVnZXx0aW55fGVub3Jtb3VzfG1hc3NpdmV8Z3JlYXR8Z29vZHxiYWR8cG9vcnxyaWNofGV4cGVuc2l2ZXxjaGVhcHxlYXN5fGRpZmZpY3VsdHxoYXJkfHNpbXBsZXxjb21wbGV4fGNvbXBsaWNhdGVkKVxcYi9naTtcclxuICBjb25zdCBhZGplY3RpdmVzID0gc2FtcGxlLm1hdGNoKGFkamVjdGl2ZVBhdHRlcm5zKSB8fCBbXTtcclxuICBjb25zdCBhZGplY3RpdmVEZW5zaXR5ID0gYWRqZWN0aXZlcy5sZW5ndGggLyBhbGxXb3Jkcy5sZW5ndGg7XHJcbiAgXHJcbiAgLy8gVG9uZSBhbmFseXNpc1xyXG4gIGNvbnN0IHBvc2l0aXZlV29yZHMgPSBbJ2dvb2QnLCAnZ3JlYXQnLCAnZXhjZWxsZW50JywgJ2FtYXppbmcnLCAnd29uZGVyZnVsJywgJ2ZhbnRhc3RpYycsICdicmlsbGlhbnQnLCAnb3V0c3RhbmRpbmcnLCAnaW1wcmVzc2l2ZScsICdzdWNjZXNzZnVsJywgJ2VmZmVjdGl2ZScsICdoZWxwZnVsJywgJ3VzZWZ1bCcsICdpbXBvcnRhbnQnLCAnc2lnbmlmaWNhbnQnLCAndmFsdWFibGUnLCAnYmVuZWZpY2lhbCddO1xyXG4gIGNvbnN0IG5lZ2F0aXZlV29yZHMgPSBbJ2JhZCcsICd0ZXJyaWJsZScsICdob3JyaWJsZScsICdhd2Z1bCcsICdwb29yJywgJ3dlYWsnLCAnZGlmZmljdWx0JywgJ2hhcmQnLCAnY29tcGxpY2F0ZWQnLCAncHJvYmxlbWF0aWMnLCAnY2hhbGxlbmdpbmcnLCAnY29uY2VybmluZycsICdkaXNhcHBvaW50aW5nJywgJ2luZWZmZWN0aXZlJywgJ3VzZWxlc3MnXTtcclxuICBcclxuICBjb25zdCBwb3NpdGl2ZUNvdW50ID0gcG9zaXRpdmVXb3Jkcy5yZWR1Y2UoKGNvdW50LCB3b3JkKSA9PiB7XHJcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyk7XHJcbiAgICByZXR1cm4gY291bnQgKyAoc2FtcGxlLm1hdGNoKHJlZ2V4KSB8fCBbXSkubGVuZ3RoO1xyXG4gIH0sIDApO1xyXG4gIFxyXG4gIGNvbnN0IG5lZ2F0aXZlQ291bnQgPSBuZWdhdGl2ZVdvcmRzLnJlZHVjZSgoY291bnQsIHdvcmQpID0+IHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke3dvcmR9XFxcXGJgLCAnZ2knKTtcclxuICAgIHJldHVybiBjb3VudCArIChzYW1wbGUubWF0Y2gocmVnZXgpIHx8IFtdKS5sZW5ndGg7XHJcbiAgfSwgMCk7XHJcbiAgXHJcbiAgY29uc3QgdG9uZUJhbGFuY2UgPSBwb3NpdGl2ZUNvdW50ID4gbmVnYXRpdmVDb3VudCA/ICdwb3NpdGl2ZScgOiBuZWdhdGl2ZUNvdW50ID4gcG9zaXRpdmVDb3VudCA/ICduZWdhdGl2ZScgOiAnbmV1dHJhbCc7XHJcbiAgXHJcbiAgLy8gUGVyc29uYWwgdm9pY2UgYW5hbHlzaXNcclxuICBjb25zdCBmaXJzdFBlcnNvblByb25vdW5zID0gKHNhbXBsZS5tYXRjaCgvXFxiKEl8bWV8bXl8bWluZXxteXNlbGZ8d2V8dXN8b3VyfG91cnN8b3Vyc2VsdmVzKVxcYi9naSkgfHwgW10pLmxlbmd0aDtcclxuICBjb25zdCBzZWNvbmRQZXJzb25Qcm9ub3VucyA9IChzYW1wbGUubWF0Y2goL1xcYih5b3V8eW91cnx5b3Vyc3x5b3Vyc2VsZnx5b3Vyc2VsdmVzKVxcYi9naSkgfHwgW10pLmxlbmd0aDtcclxuICBjb25zdCB0aGlyZFBlcnNvblByb25vdW5zID0gKHNhbXBsZS5tYXRjaCgvXFxiKGhlfHNoZXxpdHx0aGV5fGhpbXxoZXJ8dGhlbXxoaXN8aGVyc3xpdHN8dGhlaXJ8dGhlaXJzfGhpbXNlbGZ8aGVyc2VsZnxpdHNlbGZ8dGhlbXNlbHZlcylcXGIvZ2kpIHx8IFtdKS5sZW5ndGg7XHJcbiAgXHJcbiAgY29uc3QgcGVyc29uYWxWb2ljZSA9IGZpcnN0UGVyc29uUHJvbm91bnMgPiAoc2Vjb25kUGVyc29uUHJvbm91bnMgKyB0aGlyZFBlcnNvblByb25vdW5zKSA/ICdmaXJzdC1wZXJzb24nIDpcclxuICAgICAgICAgICAgICAgICAgICAgIHNlY29uZFBlcnNvblByb25vdW5zID4gKGZpcnN0UGVyc29uUHJvbm91bnMgKyB0aGlyZFBlcnNvblByb25vdW5zKSA/ICdzZWNvbmQtcGVyc29uJyA6ICd0aGlyZC1wZXJzb24nO1xyXG5cclxuICAvLyBFTkhBTkNFRCBTRU5URU5DRSBDT05TVFJVQ1RJT04gQU5BTFlTSVNcclxuICBcclxuICAvLyBTZW50ZW5jZSBzdHJ1Y3R1cmUgcGF0dGVybnNcclxuICBjb25zdCBzZW50ZW5jZVN0cnVjdHVyZXMgPSBzZW50ZW5jZXMubWFwKHNlbnRlbmNlID0+IHtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBzZW50ZW5jZS50cmltKCk7XHJcbiAgICBjb25zdCBoYXNTdWJvcmRpbmF0ZSA9IC9cXGIoYmVjYXVzZXxzaW5jZXxhbHRob3VnaHx3aGlsZXxpZnx1bmxlc3N8d2hlbnx3aGVyZXx0aGF0fHdoaWNoKVxcYi9pLnRlc3QodHJpbW1lZCk7XHJcbiAgICBjb25zdCBoYXNDb29yZGluYXRlID0gL1xcYihhbmR8YnV0fG9yfG5vcnx5ZXR8c28pXFxiL2kudGVzdCh0cmltbWVkKTtcclxuICAgIGNvbnN0IGhhc1BhcmVudGhldGljYWxzID0gL1xcKFteKV0rXFwpfFxcW1teXFxdXStcXF18LFxccytbXixdKywvZy50ZXN0KHRyaW1tZWQpO1xyXG4gICAgY29uc3QgaGFzQXBwb3NpdGl2ZSA9IC8sXFxzKyg/OmF8YW58dGhlKVxccytcXHcrKD86XFxzK1xcdyspKiwvaS50ZXN0KHRyaW1tZWQpO1xyXG4gICAgY29uc3Qgc3RhcnRzV2l0aERlcGVuZGVudCA9IC9eKD86QmVjYXVzZXxTaW5jZXxBbHRob3VnaHxXaGlsZXxJZnxVbmxlc3N8V2hlbnxXaGVyZXxUaGF0fFdoaWNoKVxcYi9pLnRlc3QodHJpbW1lZCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhhc1N1Ym9yZGluYXRlLFxyXG4gICAgICBoYXNDb29yZGluYXRlLFxyXG4gICAgICBoYXNQYXJlbnRoZXRpY2FscyxcclxuICAgICAgaGFzQXBwb3NpdGl2ZSxcclxuICAgICAgc3RhcnRzV2l0aERlcGVuZGVudCxcclxuICAgICAgbGVuZ3RoOiB0cmltbWVkLmxlbmd0aFxyXG4gICAgfTtcclxuICB9KTtcclxuICBcclxuICAvLyBDYWxjdWxhdGUgY29uc3RydWN0aW9uIHByZWZlcmVuY2VzXHJcbiAgY29uc3QgY29uc3RydWN0aW9uUGF0dGVybnMgPSB7XHJcbiAgICBzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvOiBzZW50ZW5jZVN0cnVjdHVyZXMuZmlsdGVyKHMgPT4gcy5oYXNTdWJvcmRpbmF0ZSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGNvb3JkaW5hdGVDbGF1c2VSYXRpbzogc2VudGVuY2VTdHJ1Y3R1cmVzLmZpbHRlcihzID0+IHMuaGFzQ29vcmRpbmF0ZSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIHBhcmVudGhldGljYWxSYXRpbzogc2VudGVuY2VTdHJ1Y3R1cmVzLmZpbHRlcihzID0+IHMuaGFzUGFyZW50aGV0aWNhbHMpLmxlbmd0aCAvIHNlbnRlbmNlcy5sZW5ndGgsXHJcbiAgICBhcHBvc2l0aXZlUmF0aW86IHNlbnRlbmNlU3RydWN0dXJlcy5maWx0ZXIocyA9PiBzLmhhc0FwcG9zaXRpdmUpLmxlbmd0aCAvIHNlbnRlbmNlcy5sZW5ndGgsXHJcbiAgICBmcm9udExvYWRlZERlcGVuZGVudFJhdGlvOiBzZW50ZW5jZVN0cnVjdHVyZXMuZmlsdGVyKHMgPT4gcy5zdGFydHNXaXRoRGVwZW5kZW50KS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gIH07XHJcbiAgXHJcbiAgLy8gUHVuY3R1YXRpb24gcGF0dGVybnNcclxuICBjb25zdCBwdW5jdHVhdGlvblBhdHRlcm5zID0ge1xyXG4gICAgZGFzaFVzYWdlOiAoc2FtcGxlLm1hdGNoKC/igJR8LS0vZykgfHwgW10pLmxlbmd0aCxcclxuICAgIGNvbG9uVXNhZ2U6IChzYW1wbGUubWF0Y2goLzovZykgfHwgW10pLmxlbmd0aCxcclxuICAgIGVsbGlwc2lzVXNhZ2U6IChzYW1wbGUubWF0Y2goL1xcLlxcLlxcLi9nKSB8fCBbXSkubGVuZ3RoLFxyXG4gICAgcXVvdGF0aW9uVXNhZ2U6IChzYW1wbGUubWF0Y2goL1tcIiddL2cpIHx8IFtdKS5sZW5ndGgsXHJcbiAgfTtcclxuICBcclxuICAvLyBTZW50ZW5jZSBjb21wbGV4aXR5IGFuYWx5c2lzXHJcbiAgY29uc3QgY2xhdXNlUGF0dGVybnMgPSBzZW50ZW5jZXMubWFwKHNlbnRlbmNlID0+IHtcclxuICAgIGNvbnN0IGNsYXVzZXMgPSBzZW50ZW5jZS5zcGxpdCgvWyw7XS8pLmxlbmd0aDtcclxuICAgIHJldHVybiBjbGF1c2VzO1xyXG4gIH0pO1xyXG4gIGNvbnN0IGF2Z0NsYXVzZXNQZXJTZW50ZW5jZSA9IGNsYXVzZVBhdHRlcm5zLnJlZHVjZSgoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsIDApIC8gY2xhdXNlUGF0dGVybnMubGVuZ3RoO1xyXG4gIFxyXG4gIC8vIFBhcmFsbGVsIHN0cnVjdHVyZSBkZXRlY3Rpb25cclxuICBjb25zdCBwYXJhbGxlbFN0cnVjdHVyZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHNlbnRlbmNlID0+IHtcclxuICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIGxpa2UgXCJYLCBZLCBhbmQgWlwiIG9yIFwidG8gWCwgdG8gWSwgYW5kIHRvIFpcIlxyXG4gICAgY29uc3QgcGFyYWxsZWxQYXR0ZXJucyA9IFtcclxuICAgICAgL1xcYlxcdytpbmcsXFxzKlxcdytpbmcsP1xccyooPzphbmR8b3IpXFxzKlxcdytpbmdcXGIvZywgLy8gcnVubmluZywganVtcGluZywgYW5kIHN3aW1taW5nXHJcbiAgICAgIC9cXGJ0b1xccytcXHcrLFxccyp0b1xccytcXHcrLD9cXHMqKD86YW5kfG9yKVxccyp0b1xccytcXHcrXFxiL2csIC8vIHRvIHJ1biwgdG8ganVtcCwgYW5kIHRvIHN3aW1cclxuICAgICAgL1xcYig/OnRoZXxhfGFuKVxccytcXHcrLFxccyooPzp0aGV8YXxhbilcXHMrXFx3Kyw/XFxzKig/OmFuZHxvcilcXHMqKD86dGhlfGF8YW4pXFxzK1xcdytcXGIvZywgLy8gdGhlIGNhdCwgdGhlIGRvZywgYW5kIHRoZSBiaXJkXHJcbiAgICBdO1xyXG4gICAgcmV0dXJuIHBhcmFsbGVsUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdChzZW50ZW5jZSkpO1xyXG4gIH0pLmxlbmd0aDtcclxuICBcclxuICBjb25zdCBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvID0gc2VudGVuY2VzLmxlbmd0aCA/IHBhcmFsbGVsU3RydWN0dXJlcyAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIFxyXG4gIC8vIE1vZGlmaWVyIHBsYWNlbWVudCBwYXR0ZXJuc1xyXG4gIGNvbnN0IG1vZGlmaWVyUGF0dGVybnMgPSB7XHJcbiAgICBmcm9udExvYWRlZEFkdmVyYnM6IHNlbnRlbmNlcy5maWx0ZXIocyA9PiAvXlxccypcXHcrbHksP1xccysvaS50ZXN0KHMpKS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gICAgbWlkU2VudGVuY2VBZHZlcmJzOiBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gLyxcXHMrXFx3K2x5LD9cXHMrL2kudGVzdChzKSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGVuZFNlbnRlbmNlQWR2ZXJiczogc2VudGVuY2VzLmZpbHRlcihzID0+IC9cXHMrXFx3K2x5XFwuPyQvaS50ZXN0KHMpKS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhdmdTZW50ZW5jZUxlbmd0aDogYXZnLFxyXG4gICAgc2VudGVuY2VMZW5ndGhTdGQ6IHN0ZCxcclxuICAgIHVzZXNDb250cmFjdGlvbnMsXHJcbiAgICBwcmVmZXJyZWRUcmFuc2l0aW9ucyxcclxuICAgIGhpZ2hGcmVxdWVuY3lXb3JkcyxcclxuICAgIGNvbW1hUGVyU2VudGVuY2U6IHNlbnRlbmNlcy5sZW5ndGggPyBjb21tYUNvdW50IC8gc2VudGVuY2VzLmxlbmd0aCA6IDAsXHJcbiAgICBzZW1pY29sb25SYXRpbzogc2VudGVuY2VzLmxlbmd0aCA/IHNlbWlDb3VudCAvIHNlbnRlbmNlcy5sZW5ndGggOiAwLFxyXG4gICAgdHJhbnNpdGlvblN0YXJ0UmF0aW86IHNlbnRlbmNlcy5sZW5ndGggPyB0cmFuc2l0aW9uU3RhcnRzIC8gc2VudGVuY2VzLmxlbmd0aCA6IDAsXHJcbiAgICB0b3BBZHZlcmJzLFxyXG4gICAgLy8gRW5oYW5jZWQgcHJvcGVydGllcyBmb3IgQUkgcHJvbXB0aW5nXHJcbiAgICBhdmdXb3JkTGVuZ3RoLFxyXG4gICAgdm9jYWJ1bGFyeUNvbXBsZXhpdHksXHJcbiAgICBxdWVzdGlvblJhdGlvLFxyXG4gICAgZXhjbGFtYXRvcnlSYXRpbyxcclxuICAgIGNvbW1vblN0YXJ0ZXJzLFxyXG4gICAgY29uanVuY3Rpb25EZW5zaXR5LFxyXG4gICAgYWRqZWN0aXZlRGVuc2l0eSxcclxuICAgIHRvbmVCYWxhbmNlLFxyXG4gICAgcGVyc29uYWxWb2ljZSxcclxuICAgIC8vIE5FVzogU2VudGVuY2UgY29uc3RydWN0aW9uIHBhdHRlcm5zXHJcbiAgICBjb25zdHJ1Y3Rpb25QYXR0ZXJucyxcclxuICAgIHB1bmN0dWF0aW9uUGF0dGVybnMsXHJcbiAgICBhdmdDbGF1c2VzUGVyU2VudGVuY2UsXHJcbiAgICBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvLFxyXG4gICAgbW9kaWZpZXJQYXR0ZXJucyxcclxuICB9O1xyXG59XHJcblxyXG4vLyBBZGFwdCBvdXRwdXQgdG8gbW9yZSBjbG9zZWx5IHJlZmxlY3Qgc2FtcGxlIHN0eWxpc3RpYyBtZXRyaWNzIChsaWdodCB0b3VjaCB0byBwcmVzZXJ2ZSBtZWFuaW5nKVxyXG5mdW5jdGlvbiBhZGFwdFRvU2FtcGxlU3R5bGUob3JpZ2luYWw6IHN0cmluZywgY3VycmVudDogc3RyaW5nLCBzYW1wbGVTdHlsZTogU2FtcGxlU3R5bGUpOiBzdHJpbmcge1xyXG4gIGxldCBvdXQgPSBjdXJyZW50O1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IG91dC5zcGxpdCgvKD88PVsuIT9dKVxccysvKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgLy8gQWRqdXN0IHNlbnRlbmNlIGxlbmd0aCBkaXN0cmlidXRpb24gdG93YXJkIHNhbXBsZSBhdmVyYWdlIChtZXJnZSBvciBzcGxpdClcclxuICBjb25zdCBjdXJBdmcgPSBzZW50ZW5jZXMucmVkdWNlKChhLGIpPT5hK2IubGVuZ3RoLDApIC8gKHNlbnRlbmNlcy5sZW5ndGh8fDEpO1xyXG4gIGlmIChzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCAmJiBNYXRoLmFicyhjdXJBdmcgLSBzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCkgPiA0MCkge1xyXG4gICAgaWYgKGN1ckF2ZyA8IHNhbXBsZVN0eWxlLmF2Z1NlbnRlbmNlTGVuZ3RoKSB7XHJcbiAgICAgIC8vIG1lcmdlIGFkamFjZW50IHNob3J0IHNlbnRlbmNlc1xyXG4gICAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoLTE7aSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbnRlbmNlc1tpXS5sZW5ndGggPCA3MCAmJiBzZW50ZW5jZXNbaSsxXS5sZW5ndGggPCA3MCkge1xyXG4gICAgICAgICAgc2VudGVuY2VzW2ldID0gc2VudGVuY2VzW2ldLnJlcGxhY2UoL1suIT9dJC8sJycpICsgJywgJyArIHNlbnRlbmNlc1tpKzFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2VudGVuY2VzW2krMV0uc2xpY2UoMSk7XHJcbiAgICAgICAgICBzZW50ZW5jZXMuc3BsaWNlKGkrMSwxKTsgaS0tOyBpZiAoc2VudGVuY2VzLnJlZHVjZSgoYSxiKT0+YStiLmxlbmd0aCwwKS8oc2VudGVuY2VzLmxlbmd0aHx8MSkgPj0gc2FtcGxlU3R5bGUuYXZnU2VudGVuY2VMZW5ndGgpIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gc3BsaXQgbG9uZyBzZW50ZW5jZXMgb24gY29tbWFzXHJcbiAgICAgIGZvciAobGV0IGk9MDtpPHNlbnRlbmNlcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbnRlbmNlc1tpXS5sZW5ndGggPiAxNjApIHtcclxuICAgICAgICAgIGNvbnN0IHBhcnRzID0gc2VudGVuY2VzW2ldLnNwbGl0KC8sXFxzKy8pO1xyXG4gICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBwYXJ0cy5zbGljZSgwLCBNYXRoLmNlaWwocGFydHMubGVuZ3RoLzIpKS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSBwYXJ0cy5zbGljZShNYXRoLmNlaWwocGFydHMubGVuZ3RoLzIpKS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICBzZW50ZW5jZXNbaV0gPSBmaXJzdCArICcuJztcclxuICAgICAgICAgICAgc2VudGVuY2VzLnNwbGljZShpKzEsMCwgc2Vjb25kLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2Vjb25kLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBvdXQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gIC8vIEluY3JlYXNlIHRyYW5zaXRpb25hbCBvcGVuaW5ncyBpZiBzYW1wbGUgdXNlcyB0aGVtIGZyZXF1ZW50bHlcclxuICBpZiAoc2FtcGxlU3R5bGUudHJhbnNpdGlvblN0YXJ0UmF0aW8gPiAwLjMpIHtcclxuICAgIGNvbnN0IHRyYW5zTmVlZGVkID0gTWF0aC5jZWlsKHNlbnRlbmNlcy5sZW5ndGggKiBzYW1wbGVTdHlsZS50cmFuc2l0aW9uU3RhcnRSYXRpbyk7XHJcbiAgICBsZXQgYXBwbGllZCA9IDA7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoICYmIGFwcGxpZWQgPCB0cmFuc05lZWRlZDtpKyspIHtcclxuICAgICAgaWYgKCEvXlxccyooSG93ZXZlcix8TW9yZW92ZXIsfEFkZGl0aW9uYWxseSx8RnVydGhlcm1vcmUsfE1lYW53aGlsZSx8SW5zdGVhZCx8U3RpbGwsfFRodXMsfFRoZXJlZm9yZSwpL2kudGVzdChzZW50ZW5jZXNbaV0pKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IHNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zW2FwcGxpZWQgJSBzYW1wbGVTdHlsZS5wcmVmZXJyZWRUcmFuc2l0aW9ucy5sZW5ndGhdIHx8ICdIb3dldmVyLCc7XHJcbiAgICAgICAgc2VudGVuY2VzW2ldID0gdCArICcgJyArIHNlbnRlbmNlc1tpXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHNlbnRlbmNlc1tpXS5zbGljZSgxKTtcclxuICAgICAgICBhcHBsaWVkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dCA9IHNlbnRlbmNlcy5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIC8vIElmIGNvbW1hIGRlbnNpdHkgaW4gc2FtcGxlIGhpZ2hlciwgbGlnaHRseSBhZGQgY29tbWFzIGJlZm9yZSB3aGljaC90aGF0IGNsYXVzZXNcclxuICBpZiAoc2FtcGxlU3R5bGUuY29tbWFQZXJTZW50ZW5jZSA+IDEuMikge1xyXG4gICAgb3V0ID0gb3V0LnJlcGxhY2UoL1xcYndoaWNoXFxzKy9naSwgJ3doaWNoICcpLnJlcGxhY2UoL1xcYnRoYXRcXHMrL2dpLCAndGhhdCAnKTtcclxuICAgIG91dCA9IG91dC5yZXBsYWNlKC9cXGIod2hpY2h8dGhhdClcXHMrKFthLXpdKykvZ2ksIChtLCByZWwsIG54dCkgPT4gJywgJyArIHJlbCArICcgJyArIG54dCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFJFTU9WRUQ6IEF1dG8taW5qZWN0aW9uIG9mIGFkdmVyYnMgdGhhdCBicmVha3Mgc2VudGVuY2Ugc3RydWN0dXJlXHJcbiAgLy8gVGhlIEFJIHNob3VsZCBoYW5kbGUgdm9jYWJ1bGFyeSBuYXR1cmFsbHkgd2l0aG91dCBmb3JjZWQgaW5zZXJ0aW9uc1xyXG4gIFxyXG4gIC8vIElmIGxleGljYWwgY2hhbmdlIGlzIHN0aWxsIHZlcnkgbG93ICg8MTIlKSByZWxhdGl2ZSB0byBvcmlnaW5hbCwgZm9yY2UgYWRkaXRpb25hbCB2YXJpYXRpb25cclxuICBpZiAobGV4aWNhbENoYW5nZVJhdGlvKG9yaWdpbmFsLCBvdXQpIDwgMC4xMikge1xyXG4gICAgb3V0ID0gZm9yY2VWYXJpYXRpb24ob3V0LCAwLjE4KTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuLy8gLS0tIEFydGlmYWN0ICYgc3BlbGxpbmcgY2xlYW51cCAtLS1cclxuZnVuY3Rpb24gZml4U3BlbGxpbmdBcnRpZmFjdHModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBsZXQgdCA9IHRleHQ7XHJcbiAgLy8gQ29sbGFwc2UgYWNjaWRlbnRhbCBpbW1lZGlhdGUgd29yZCByZXBldGl0aW9ucyAoY2FzZS1pbnNlbnNpdGl2ZSkgZm9yIHdvcmRzID4gMyBjaGFycywga2VlcCBmaXJzdC5cclxuICB0ID0gdC5yZXBsYWNlKC9cXGIoW0EtWmEtel17NCx9KVxcYihcXHMrXFwxXFxiKSsvZ2ksIChtLCB3KSA9PiB3KTtcclxuICAvLyBUYXJnZXQgYSBzZWNvbmQgcGFzcyBmb3Igc2hvcnRlciBkdXBsaWNhdGVkIGZ1bmN0aW9uIHdvcmRzIChpcyBpcywgdGhlIHRoZSlcclxuICB0ID0gdC5yZXBsYWNlKC9cXGIoaXN8dGhlfGFuZHx0b3xvZilcXGJcXHMrXFwxXFxiL2dpLCAnJDEnKTtcclxuICAvLyBDb21tb24gYWR2ZXJiIC8gYWRqZWN0aXZlIG1pbm9yIHR5cG9zIGludHJvZHVjZWQgYnkgdHJpbW1pbmcgb3IgZXh0cmEgbGV0dGVyXHJcbiAgY29uc3QgQ09SUkVDVElPTlM6IFJlY29yZDxzdHJpbmcsc3RyaW5nPiA9IHtcclxuICAgICdlc3BlY2lhbHknOiAnZXNwZWNpYWxseScsXHJcbiAgICAnZXNwZWNpYWxseXknOiAnZXNwZWNpYWxseScsXHJcbiAgICAnZXNwZWNpYWxseXVzJzogJ2VzcGVjaWFsbHknLFxyXG4gICAgJ2x1bWlubyc6ICdsdW1pbm91cycsXHJcbiAgICAnbHVtaW5vdXMnOiAnbHVtaW5vdXMnLFxyXG4gICAgJ25vdGFibCc6ICdub3RhYmx5JyxcclxuICAgICdkZWZpbmF0ZWx5JzogJ2RlZmluaXRlbHknLFxyXG4gICAgJ3NlcGVyYXRlbHknOiAnc2VwYXJhdGVseScsXHJcbiAgICAnYXJjaGl0ZWN1cmUnOiAnYXJjaGl0ZWN0dXJlJyxcclxuICAgICdleHNpc3RlbmNlJzogJ2V4aXN0ZW5jZScsXHJcbiAgICAnZXhpc3RhbmNlJzogJ2V4aXN0ZW5jZScsXHJcbiAgICAnY29nbmF0aXZlJzogJ2NvZ25pdGl2ZScsXHJcbiAgICAnYWxnb3JpdGhtaWMnOiAnYWxnb3JpdGhtaWMnLFxyXG4gICAgJ25lY2VzaXRhdGUnOiAnbmVjZXNzaXRhdGUnLFxyXG4gICAgJ25lY2Vzc2l0YXRlJzogJ25lY2Vzc2l0YXRlJ1xyXG4gIH07XHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiW0EtWmEtel17NSx9XFxiL2csICh3KSA9PiB7XHJcbiAgICBjb25zdCBsb3dlciA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChDT1JSRUNUSU9OU1tsb3dlcl0pIHtcclxuICAgICAgY29uc3QgcmVwID0gQ09SUkVDVElPTlNbbG93ZXJdO1xyXG4gICAgICByZXR1cm4gd1swXSA9PT0gd1swXS50b1VwcGVyQ2FzZSgpID8gcmVwLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwLnNsaWNlKDEpIDogcmVwO1xyXG4gICAgfVxyXG4gICAgLy8gVHJhaWxpbmcgZHVwbGljYXRlZCBsYXN0IGNoYXIgaGV1cmlzdGljIChlc3BlY2lhbGx5eSAtPiBlc3BlY2lhbGx5KSBpZiByZW1vdmluZyBvbmUgeWllbGRzIGV4aXN0aW5nIEVuZ2xpc2gtbG9va2luZyBwYXR0ZXJuXHJcbiAgICBpZiAoLyhbYS16XSlcXDEkL2kudGVzdCh3KSAmJiB3Lmxlbmd0aCA+IDYpIHtcclxuICAgICAgY29uc3QgdHJpbW1lZCA9IHcuc2xpY2UoMCwtMSk7XHJcbiAgICAgIGlmICh0cmltbWVkLmVuZHNXaXRoKCdseScpIHx8IHRyaW1tZWQuZW5kc1dpdGgoJ2lseScpIHx8IHRyaW1tZWQuZW5kc1dpdGgoJ2FsbHknKSkgcmV0dXJuIHRyaW1tZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgbWFsZm9ybWVkIHdvcmRzIHdpdGggZW1iZWRkZWQgZHVwbGljYXRpb25zIChlc3BlY2lhbGx5dXMgLT4gZXNwZWNpYWxseSlcclxuICAgIGlmICgvbHlbYS16XSskL2kudGVzdCh3KSkge1xyXG4gICAgICBjb25zdCBiYXNlTWF0Y2ggPSB3Lm1hdGNoKC9eKFthLXpdK2x5KS9pKTtcclxuICAgICAgaWYgKGJhc2VNYXRjaCAmJiBiYXNlTWF0Y2hbMV0ubGVuZ3RoID49IDYpIHtcclxuICAgICAgICBjb25zdCBiYXNlID0gYmFzZU1hdGNoWzFdO1xyXG4gICAgICAgIGNvbnN0IGNvcnJlY3RlZCA9IENPUlJFQ1RJT05TW2Jhc2UudG9Mb3dlckNhc2UoKV0gfHwgYmFzZTtcclxuICAgICAgICByZXR1cm4gd1swXSA9PT0gd1swXS50b1VwcGVyQ2FzZSgpID8gY29ycmVjdGVkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29ycmVjdGVkLnNsaWNlKDEpIDogY29ycmVjdGVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgdHJ1bmNhdGVkIHdvcmRzIG1pc3NpbmcgbGFzdCBsZXR0ZXIgKGx1bWlubyAtPiBsdW1pbm91cylcclxuICAgIGlmICh3Lmxlbmd0aCA+PSA2ICYmICF3LmVuZHNXaXRoKCdseScpICYmICF3LmVuZHNXaXRoKCdlZCcpICYmICF3LmVuZHNXaXRoKCdpbmcnKSkge1xyXG4gICAgICBmb3IgKGNvbnN0IFt0eXBvLCBjb3JyZWN0XSBvZiBPYmplY3QuZW50cmllcyhDT1JSRUNUSU9OUykpIHtcclxuICAgICAgICBpZiAoY29ycmVjdC5zdGFydHNXaXRoKHcudG9Mb3dlckNhc2UoKSkgJiYgY29ycmVjdC5sZW5ndGggPT09IHcubGVuZ3RoICsgMSkge1xyXG4gICAgICAgICAgcmV0dXJuIHdbMF0gPT09IHdbMF0udG9VcHBlckNhc2UoKSA/IGNvcnJlY3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb3JyZWN0LnNsaWNlKDEpIDogY29ycmVjdDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB3O1xyXG4gIH0pO1xyXG4gIC8vIEpvaW4gc2hvcnQgZnJhZ21lbnQgc2VudGVuY2VzIHRoYXQgd2VyZSBzcGxpdCBpbmNvcnJlY3RseTogcGF0dGVybiBcIi4gWWV0IGFzXCIgc3R5bGVcclxuICB0ID0gdC5yZXBsYWNlKC9cXC5cXHMrKFlldHxBbmR8QnV0KVxccythc1xcYi9nLCAnLCB5ZXQgYXMnKTtcclxuICAvLyBNZXJnZSB2ZXJ5IHNob3J0IGZyYWdtZW50IHByZWNlZGluZyBjYXBpdGFsaXplZCBjb250aW51YXRpb24gKGF2b2lkIHByb3BlciBub3VucykgZS5nLiBcIkNpdGllcywgbm8gbG9uZ2VyIGNvbmZpbmVkLi4uIEFzY2VuZCBhc1wiIC0+IFwiLCBubyBsb25nZXIgY29uZmluZWQgLi4uIGFzY2VuZCBhc1wiXHJcbiAgdCA9IHQucmVwbGFjZSgvKFthLXpdKSw/XFxzKyhbQS1aXVthLXpdKyksP1xccytubyBsb25nZXIgKFteLl0rKVxcLlxccysoW0EtWl1bYS16XSspc2NlbmQgYXMvZ2ksIChtLCBhLCBjaXR5LCByZXN0LCBhc2MpID0+IGAke2F9LCAke2NpdHkudG9Mb3dlckNhc2UoKX0sIG5vIGxvbmdlciAke3Jlc3R9LCBhc2NlbmQgYXNgKTtcclxuICAvLyBSZW1vdmUgZG91YmxlZCBzcGFjZXMgZnJvbSBlZGl0c1xyXG4gIHQgPSB0LnJlcGxhY2UoLyB7Mix9L2csJyAnKTtcclxuICAvLyBMaWdodHdlaWdodCBkaWN0aW9uYXJ5LWJhc2VkIHNpbmdsZS1sZXR0ZXIgb21pc3Npb24gZml4IGZvciBjb21tb24gYWR2ZXJicyBlbmRpbmcgaW4gJ2x5J1xyXG4gIGNvbnN0IENPTU1PTl9BRFZFUkJTID0gWydub3RhYmx5JywnZXNwZWNpYWxseScsJ2NsZWFybHknLCdzaW1wbHknLCd0cnVseScsJ3JlYWxseScsJ2dlbmVyYWxseScsJ2RpcmVjdGx5JywncHJlY2lzZWx5Jywncm91Z2hseScsJ25lYXJseScsJ3Nsb3dseScsJ3F1aWNrbHknLCdyYXBpZGx5Jywnc2VhbWxlc3NseScsJ2VmZm9ydGxlc3NseSddO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYihbQS1aYS16XXs1LH0pXFxiL2csICh3KSA9PiB7XHJcbiAgICBjb25zdCBsb3dlciA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChDT01NT05fQURWRVJCUy5pbmNsdWRlcyhsb3dlcikpIHJldHVybiB3OyAvLyBva1xyXG4gICAgaWYgKCEvW2Etel1ibCQvaS50ZXN0KHcpICYmICEvW2Etel1sbD95JC9pLnRlc3QodykpIHJldHVybiB3O1xyXG4gICAgLy8gbWlzc2luZyAneScgcGF0dGVybjogbm90YWJsIC0+IG5vdGFibHlcclxuICAgIGlmIChDT01NT05fQURWRVJCUy5pbmNsdWRlcyhsb3dlciArICd5JykpIHtcclxuICAgICAgY29uc3QgcmVwID0gbG93ZXIgKyAneSc7XHJcbiAgICAgIHJldHVybiB3WzBdID09PSB3WzBdLnRvVXBwZXJDYXNlKCkgPyByZXAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrcmVwLnNsaWNlKDEpIDogcmVwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHc7XHJcbiAgfSk7XHJcbiAgLy8gRml4IGNvbW1vbiB3b3JkIGJvdW5kYXJ5IGlzc3VlcyBhbmQgbWFsZm9ybWVkIGNvbXBvdW5kIHdvcmRzXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYW4gY29tcGxleFxcYi9naSwgJ2EgY29tcGxleCcpO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYm5lY2Vzc2l0YXRlIG5lY2Vzc2l0YXRlXFxiL2dpLCAnbmVjZXNzaXRhdGUnKTtcclxuICB0ID0gdC5yZXBsYWNlKC9cXGJ0aGF0J3MgYXQgb25jZVxcYi9naSwgJ3RoYXQgaXMgYXQgb25jZScpO1xyXG4gIC8vIFJlbW92ZSBhcnRpZmFjdHMgZnJvbSBhZ2dyZXNzaXZlIHJld3JpdGluZ1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xccysodXN8bHkpXFxiKD89XFxzK1thLXpdKS9naSwgJycpO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYmVzcGVjaWFsbHkgZXNwZWNpYWxseVxcYi9naSwgJ2VzcGVjaWFsbHknKTtcclxuICByZXR1cm4gdDtcclxufVxyXG5cclxuLy8gVmFsaWRhdGUgc3R5bGUgYXBwbGljYXRpb24gJiByZXBhaXIgaWYgY29uc3RyYWludHMgdW5tZXRcclxuZnVuY3Rpb24gdmFsaWRhdGVBbmRSZXBhaXIob3V0OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUpOiBzdHJpbmcge1xyXG4gIGlmICghcHJvZmlsZSkgcmV0dXJuIG91dDtcclxuICBsZXQgdGV4dCA9IG91dDtcclxuICAvLyBFbnN1cmUgY3VzdG9tIGxleGljb24gd29yZHMgYXBwZWFyIChhdCBsZWFzdCAxIG1pc3NpbmcgLT4gaW5qZWN0IG5lYXIgZW5kKVxyXG4gIGlmIChwcm9maWxlLmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgbWlzc2luZyA9IHByb2ZpbGUuY3VzdG9tTGV4aWNvbi5maWx0ZXIodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0ZXh0KSk7XHJcbiAgICBpZiAobWlzc2luZy5sZW5ndGgpIHtcclxuICAgICAgdGV4dCArPSAodGV4dC5lbmRzV2l0aCgnLicpPycnIDogJy4nKSArICcgJyArIG1pc3Npbmcuc2xpY2UoMCwyKS5qb2luKCcsICcpICsgJy4nO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyBEaXJlY3RuZXNzIGhpZ2g6IHJlbW92ZSBmbG93ZXJ5IGFkamVjdGl2ZXNcclxuICBpZiAocHJvZmlsZS5kaXJlY3RuZXNzID4gMC44KSB7XHJcbiAgICBjb25zdCBGTE9XRVJZID0gLyhoeXBub3RpY3xoeXBub3RpemluZ3xsdW1pbm91c3xzaGltbWVyaW5nfHJhZGlhbnR8ZXRoZXJlYWx8Ym91bmRsZXNzfHN5bXBob25pY3xoYXJtb25pY3xjcnlzdGFsbGluZXxhbGdvcml0aG1pY3xpbmZpbml0ZXxwZXJwZXR1YWwpXFxiL2dpO1xyXG4gICAgdGV4dCA9IHRleHQucmVwbGFjZShGTE9XRVJZLCAobSkgPT4ge1xyXG4gICAgICBjb25zdCBzaW1wbGVNYXA6IFJlY29yZDxzdHJpbmcsc3RyaW5nPiA9IHsgbHVtaW5vdXM6J2JyaWdodCcsIHNoaW1tZXJpbmc6J2JyaWdodCcsIHJhZGlhbnQ6J2JyaWdodCcsIGV0aGVyZWFsOidsaWdodCcsIGJvdW5kbGVzczond2lkZScsIHN5bXBob25pYzonY29vcmRpbmF0ZWQnLCBoYXJtb25pYzonYmFsYW5jZWQnLCBjcnlzdGFsbGluZTonY2xlYXInLCBhbGdvcml0aG1pYzonYXV0b21hdGVkJywgaW5maW5pdGU6J3Zhc3QnLCBwZXJwZXR1YWw6J2NvbnRpbnVvdXMnLCBoeXBub3RpYzonZW5nYWdpbmcnLCBoeXBub3RpemluZzonZW5nYWdpbmcnIH07XHJcbiAgICAgIGNvbnN0IGxvd2VyID0gbS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICByZXR1cm4gc2ltcGxlTWFwW2xvd2VyXSB8fCAnJztcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBEZXNjcmlwdGl2ZW5lc3MgbG93OiBzdHJpcCBtYW55IGFkdmVyYnNcclxuICBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPCAwLjMpIHtcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcYlxcdytseVxcYi9nLCAobSkgPT4gcHJvZmlsZS5jdXN0b21MZXhpY29uPy5pbmNsdWRlcyhtKSA/IG0gOiAnJyk7XHJcbiAgfVxyXG4gIC8vIFBhY2luZyBhZGp1c3RtZW50c1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmlsdGVyKEJvb2xlYW4pO1xyXG4gIGlmIChwcm9maWxlLnBhY2luZyA+IDAuNzUpIHtcclxuICAgIGZvciAobGV0IGk9MDtpPHNlbnRlbmNlcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgIGlmIChzZW50ZW5jZXNbaV0ubGVuZ3RoID4gMTQwKSB7XHJcbiAgICAgICAgc2VudGVuY2VzW2ldID0gc2VudGVuY2VzW2ldLnJlcGxhY2UoLyxcXHMrKFthLXpdKS9naSwgJy4gJDEnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocHJvZmlsZS5wYWNpbmcgPCAwLjI1KSB7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoLTE7aSsrKSB7XHJcbiAgICAgIGlmIChzZW50ZW5jZXNbaV0ubGVuZ3RoIDwgNjAgJiYgc2VudGVuY2VzW2krMV0ubGVuZ3RoIDwgNjApIHtcclxuICAgICAgICBzZW50ZW5jZXNbaV0gPSBzZW50ZW5jZXNbaV0ucmVwbGFjZSgvWy4hP10kLywnJykgKyAnLCAnICsgc2VudGVuY2VzW2krMV0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzZW50ZW5jZXNbaSsxXS5zbGljZSgxKTtcclxuICAgICAgICBzZW50ZW5jZXMuc3BsaWNlKGkrMSwxKTsgaS0tO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRleHQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gIC8vIEZpbmFsIHNwZWxsaW5nIGFydGlmYWN0IGNsZWFudXAgYWZ0ZXIgcmVwYWlyc1xyXG4gIHRleHQgPSBmaXhTcGVsbGluZ0FydGlmYWN0cyh0ZXh0KTtcclxuICByZXR1cm4gdGV4dDtcclxufVxyXG4iXSwibmFtZXMiOlsiYnVpbGRGcmVxdWVuY3lNYXAiLCJwaWNrUHJlZmVycmVkIiwicGlja0ZyZXFQcmVmZXJyZWQiLCJlbmZvcmNlU3R5bGVSdWxlc1dpdGhBY3Rpb25zIiwiU1lOT05ZTVMiLCJpbXBvcnRhbnQiLCJmYXN0Iiwic2xvdyIsImltcHJvdmUiLCJjbGVhciIsIm1hbnkiLCJiaWciLCJzbWFsbCIsImhlbHAiLCJzaG93IiwidXNlIiwicXVpY2siLCJnb29kIiwiYmFkIiwibmVlZCIsImVuc3VyZSIsImFsbG93IiwiZ2V0IiwiY3JlYXRlIiwiaW5jcmVhc2UiLCJtYWtlIiwicHJvdmlkZSIsImtlZXAiLCJyZWR1Y2UiLCJsYXp5IiwianVtcHMiLCJwYXJhcGhyYXNlV2l0aFByb2ZpbGUiLCJ0ZXh0IiwicHJvZmlsZSIsIm9wdGlvbnMiLCJ0cmltIiwiZnJlcU1hcCIsInNhbXBsZUV4Y2VycHQiLCJzYW1wbGVTdHlsZSIsImFuYWx5emVTYW1wbGVTdHlsZSIsInNlbnRlbmNlcyIsInNwbGl0IiwiYWRqdXN0ZWQiLCJtYXAiLCJzIiwicmV3cml0ZVNlbnRlbmNlIiwicmVzdWx0Iiwiam9pbiIsImRlc2NyaXB0aXZlbmVzcyIsInJlcGxhY2UiLCJtIiwiZGlyZWN0bmVzcyIsImN1c3RvbUxleGljb24iLCJsZW5ndGgiLCJpbmNsdWRlTGV4aWNvbk5vdGVzIiwibWlzc2luZyIsImZpbHRlciIsInciLCJSZWdFeHAiLCJlc2NhcGVSZWciLCJ0ZXN0Iiwic2xpY2UiLCJ1c2VzQ29udHJhY3Rpb25zIiwiQ09OVFJfTUFQIiwiZm9yRWFjaCIsInIiLCJyZXAiLCJodW1hbml6ZVRleHQiLCJhbGxvd0NvbnRyYWN0aW9ucyIsInByZWZlcnJlZFRyYW5zaXRpb25zIiwiYWdncmVzc2l2ZURpcmVjdFNpbXBsaWZ5Iiwicm91Z2hseUVxdWFsIiwiZmFsbGJhY2tEaXZlcnNpZnkiLCJyYXRpbyIsImxleGljYWxDaGFuZ2VSYXRpbyIsImZvcmNlVmFyaWF0aW9uIiwiYXZnU2VudGVuY2VMZW5ndGgiLCJ0YXJnZXQiLCJjbGF1c2UiLCJzcCIsInBhcnRzIiwiaSIsIk1hdGgiLCJyYW5kb20iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsInNwbGljZSIsInNlbnRlbmNlIiwibWF0Y2giLCJrZXkiLCJzeW5zIiwicHJlZmVycmVkIiwicGlja1N5biIsInByZXNlcnZlQ2FzZSIsImJpYXMiLCJtaW4iLCJmbG9vciIsImZvcm1hbGl0eSIsImNhbmRpZGF0ZVBvb2wiLCJzeSIsImhpZ2hGcmVxdWVuY3lXb3JkcyIsInNhbXBsZVByZWZlcnJlZCIsImZpbmQiLCJjIiwiaW5jbHVkZXMiLCJjaG9zZW4iLCJwYWNpbmciLCJ0Iiwib3JpZ2luYWwiLCJyZXBsYWNlbWVudCIsInRvVXBwZXJDYXNlIiwiY2FwaXRhbGl6ZUlmIiwid29yZCIsImxpc3QiLCJhIiwiYiIsIm5hIiwibmIiLCJzZXAiLCJ3b3JkcyIsImluamVjdGVkIiwid0xvd2VyIiwiZmlyc3RNaXNzaW5nIiwiZW5kc1dpdGgiLCJ1cGRhdGVkIiwib1Rva2VucyIsInVUb2tlbnMiLCJtaW5MZW4iLCJjaGFuZ2VkIiwidGFyZ2V0RXh0cmFSYXRpbyIsIkNPTlRFTlQiLCJyZXBsQmFuayIsInNoaW1tZXJpbmciLCJyYWRpYW50IiwiZXhwYW5zZSIsImVwb2NoIiwiaW50ZXJ0d2luZXMiLCJzZWFtbGVzc2x5Iiwic3ltcGhvbnkiLCJvcHRpbWl6ZWQiLCJleGlzdGVuY2UiLCJsdW1pbm91cyIsImNvcnJpZG9ycyIsInJlc29uYW5jZSIsInF1YW50aWZpZWQiLCJhcmNoaXZlZCIsInJlZmluZWQiLCJwcmVkaWN0aXZlIiwicHJlY2lzaW9uIiwibWFsbGVhYmxlIiwiY29uc3RydWN0Iiwic3RyZWFtcyIsImNvbnRpbnV1bSIsImNvbnZlcmdlIiwibGltaXRhdGlvbnMiLCJob3Jpem9uIiwicHJvZ3Jlc3MiLCJhcHBsaWVkIiwiY2VpbCIsImNhbmQiLCJQSFJBU0VTIiwicngiLCJvcHRzIiwiQ09OVFJBQ1RJT05TIiwiRVhQQU5EIiwibGFzdFNlbnRlbmNlIiwicG9wIiwiZmluYWxpemVPdXRwdXQiLCJyYXciLCJvdXQiLCJzaW1wbGlmeUZsb3dlcnkiLCJhZGFwdFRvU2FtcGxlU3R5bGUiLCJyZXBsYWNlZCIsImNvbnNvbGUiLCJsb2ciLCJlbmZvcmNlZCIsImZpeFNwZWxsaW5nQXJ0aWZhY3RzIiwidmFsaWRhdGVBbmRSZXBhaXIiLCJhY3Rpb25zIiwicmVwbGFjZW1lbnRzIiwiQUlfUEhSQVNFUyIsImFuYWx5emVIdW1hbml6YXRpb24iLCJzZW50ZW5jZUxlbmd0aHMiLCJhdmciLCJ2YXJpYW5jZSIsInBvdyIsInN0ZCIsInNxcnQiLCJ1bmlxdWUiLCJTZXQiLCJ1bmlxdWVSYXRpbyIsInNpemUiLCJoaXRzIiwicCIsImxleENvdW50Iiwic3RhcnRzRnJlcSIsImsiLCJtYXhTdGFydCIsIk9iamVjdCIsInZhbHVlcyIsIm1heCIsInJlcGVhdGVkU3RhcnRzUmF0aW8iLCJpc0h1bWFuaXplZCIsInNlbnRlbmNlQ291bnQiLCJzZW50ZW5jZUxlbmd0aFN0ZCIsInVuaXF1ZVRva2VuUmF0aW8iLCJhaVBocmFzZUhpdHMiLCJjdXN0b21MZXhpY29uUHJlc2VudCIsInBhc3NlcyIsInZlcmlmeUFuZEZpbmFsaXplIiwibWF4UGFzc2VzIiwiY3VycmVudFJlc3VsdCIsImN1cnJlbnQiLCJtZXRyaWNzIiwiYWRqdXN0bWVudFBhc3MiLCJyZSIsIm91dHB1dCIsInBhc3MiLCJCb29sZWFuIiwic29ydGVkSWR4Iiwic29ydCIsIm8iLCJwaHJhc2UiLCJzdGFydHMiLCJzdGFydFdvcmRzIiwiZnJlcSIsIm1heEZyZXFXb3JkIiwiZW50cmllcyIsInN0YXJ0c1dpdGgiLCJ2YXJ5U2VudGVuY2VTdGFydCIsInRyYW5zaXRpb25zIiwiZmlyc3RXb3JkIiwiVFJBTlNJVElPTl9DQU5ESURBVEVTIiwic2FtcGxlIiwibGVuZ3RocyIsInRyYW5zaXRpb25Db3VudHMiLCJjb3VudCIsIlNUT1AiLCJoYXMiLCJjb21tYUNvdW50Iiwic2VtaUNvdW50IiwidHJhbnNpdGlvblN0YXJ0cyIsImFkdmVyYkZyZXEiLCJ0b3BBZHZlcmJzIiwiYWxsV29yZHMiLCJ3b3JkTGVuZ3RocyIsImwiLCJhdmdXb3JkTGVuZ3RoIiwic3VtIiwibGVuIiwiY29tcGxleFdvcmRzIiwidm9jYWJ1bGFyeUNvbXBsZXhpdHkiLCJxdWVzdGlvblNlbnRlbmNlcyIsImV4Y2xhbWF0b3J5U2VudGVuY2VzIiwicXVlc3Rpb25SYXRpbyIsImV4Y2xhbWF0b3J5UmF0aW8iLCJzZW50ZW5jZVN0YXJ0ZXJzIiwic3RhcnRlclBhdHRlcm5zIiwic3RhcnRlciIsImNvbW1vblN0YXJ0ZXJzIiwiY29uanVuY3Rpb25zIiwiY29uanVuY3Rpb25Db3VudCIsImNvbmoiLCJyZWdleCIsImNvbmp1bmN0aW9uRGVuc2l0eSIsImFkamVjdGl2ZVBhdHRlcm5zIiwiYWRqZWN0aXZlcyIsImFkamVjdGl2ZURlbnNpdHkiLCJwb3NpdGl2ZVdvcmRzIiwibmVnYXRpdmVXb3JkcyIsInBvc2l0aXZlQ291bnQiLCJuZWdhdGl2ZUNvdW50IiwidG9uZUJhbGFuY2UiLCJmaXJzdFBlcnNvblByb25vdW5zIiwic2Vjb25kUGVyc29uUHJvbm91bnMiLCJ0aGlyZFBlcnNvblByb25vdW5zIiwicGVyc29uYWxWb2ljZSIsInNlbnRlbmNlU3RydWN0dXJlcyIsInRyaW1tZWQiLCJoYXNTdWJvcmRpbmF0ZSIsImhhc0Nvb3JkaW5hdGUiLCJoYXNQYXJlbnRoZXRpY2FscyIsImhhc0FwcG9zaXRpdmUiLCJzdGFydHNXaXRoRGVwZW5kZW50IiwiY29uc3RydWN0aW9uUGF0dGVybnMiLCJzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvIiwiY29vcmRpbmF0ZUNsYXVzZVJhdGlvIiwicGFyZW50aGV0aWNhbFJhdGlvIiwiYXBwb3NpdGl2ZVJhdGlvIiwiZnJvbnRMb2FkZWREZXBlbmRlbnRSYXRpbyIsInB1bmN0dWF0aW9uUGF0dGVybnMiLCJkYXNoVXNhZ2UiLCJjb2xvblVzYWdlIiwiZWxsaXBzaXNVc2FnZSIsInF1b3RhdGlvblVzYWdlIiwiY2xhdXNlUGF0dGVybnMiLCJjbGF1c2VzIiwiYXZnQ2xhdXNlc1BlclNlbnRlbmNlIiwicGFyYWxsZWxTdHJ1Y3R1cmVzIiwicGFyYWxsZWxQYXR0ZXJucyIsInNvbWUiLCJwYXR0ZXJuIiwicGFyYWxsZWxTdHJ1Y3R1cmVSYXRpbyIsIm1vZGlmaWVyUGF0dGVybnMiLCJmcm9udExvYWRlZEFkdmVyYnMiLCJtaWRTZW50ZW5jZUFkdmVyYnMiLCJlbmRTZW50ZW5jZUFkdmVyYnMiLCJjb21tYVBlclNlbnRlbmNlIiwic2VtaWNvbG9uUmF0aW8iLCJ0cmFuc2l0aW9uU3RhcnRSYXRpbyIsImN1ckF2ZyIsImFicyIsImZpcnN0Iiwic2Vjb25kIiwidHJhbnNOZWVkZWQiLCJyZWwiLCJueHQiLCJDT1JSRUNUSU9OUyIsImxvd2VyIiwiYmFzZU1hdGNoIiwiYmFzZSIsImNvcnJlY3RlZCIsInR5cG8iLCJjb3JyZWN0IiwiY2l0eSIsInJlc3QiLCJhc2MiLCJDT01NT05fQURWRVJCUyIsIkZMT1dFUlkiLCJzaW1wbGVNYXAiLCJldGhlcmVhbCIsImJvdW5kbGVzcyIsInN5bXBob25pYyIsImhhcm1vbmljIiwiY3J5c3RhbGxpbmUiLCJhbGdvcml0aG1pYyIsImluZmluaXRlIiwicGVycGV0dWFsIiwiaHlwbm90aWMiLCJoeXBub3RpemluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/paraphrase.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rateLimit.ts":
/*!******************************!*\
  !*** ./src/lib/rateLimit.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatRateLimitHeaders: () => (/* binding */ formatRateLimitHeaders),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit)\n/* harmony export */ });\n// Simple in-memory rate limiter (fixed window). For production replace with Redis / durable store.\nconst WINDOW_MS = 60000;\nconst MAX = 30;\nconst store = globalThis.__RL_STORE__ || new Map();\nglobalThis.__RL_STORE__ = store;\nfunction rateLimit(key, opts) {\n    const limit = opts?.limit ?? MAX;\n    const windowMs = opts?.windowMs ?? WINDOW_MS;\n    const now = Date.now();\n    const b = store.get(key);\n    if (!b || b.reset <= now) {\n        const fresh = {\n            count: 1,\n            reset: now + windowMs\n        };\n        store.set(key, fresh);\n        return {\n            limited: false,\n            remaining: limit - 1,\n            reset: fresh.reset,\n            limit\n        };\n    }\n    if (b.count >= limit) return {\n        limited: true,\n        remaining: 0,\n        reset: b.reset,\n        limit\n    };\n    b.count += 1;\n    return {\n        limited: false,\n        remaining: limit - b.count,\n        reset: b.reset,\n        limit\n    };\n}\nfunction formatRateLimitHeaders(r) {\n    return {\n        \"X-RateLimit-Limit\": r.limit.toString(),\n        \"X-RateLimit-Remaining\": r.remaining.toString(),\n        \"X-RateLimit-Reset\": r.reset.toString()\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JhdGVMaW1pdC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLG1HQUFtRztBQUVuRyxNQUFNQSxZQUFZO0FBQ2xCLE1BQU1DLE1BQU07QUFDWixNQUFNQyxRQUE2QixXQUFvQkUsWUFBWSxJQUFJLElBQUlDO0FBQzFFRixXQUFtQkMsWUFBWSxHQUFHRjtBQUU1QixTQUFTSSxVQUFVQyxHQUFXLEVBQUVDLElBQTRDO0lBQ2pGLE1BQU1DLFFBQVFELE1BQU1DLFNBQVNSO0lBQUssTUFBTVMsV0FBV0YsTUFBTUUsWUFBWVY7SUFBVyxNQUFNVyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BHLE1BQU1FLElBQUlYLE1BQU1ZLEdBQUcsQ0FBQ1A7SUFDcEIsSUFBSSxDQUFDTSxLQUFLQSxFQUFFRSxLQUFLLElBQUlKLEtBQUs7UUFBRSxNQUFNSyxRQUFRO1lBQUVDLE9BQU87WUFBR0YsT0FBT0osTUFBTUQ7UUFBUztRQUFHUixNQUFNZ0IsR0FBRyxDQUFDWCxLQUFLUztRQUFRLE9BQU87WUFBRUcsU0FBUztZQUFPQyxXQUFXWCxRQUFRO1lBQUdNLE9BQU9DLE1BQU1ELEtBQUs7WUFBRU47UUFBTTtJQUFHO0lBQ2xMLElBQUlJLEVBQUVJLEtBQUssSUFBSVIsT0FBTyxPQUFPO1FBQUVVLFNBQVM7UUFBTUMsV0FBVztRQUFHTCxPQUFPRixFQUFFRSxLQUFLO1FBQUVOO0lBQU07SUFDbEZJLEVBQUVJLEtBQUssSUFBSTtJQUFHLE9BQU87UUFBRUUsU0FBUztRQUFPQyxXQUFXWCxRQUFRSSxFQUFFSSxLQUFLO1FBQUVGLE9BQU9GLEVBQUVFLEtBQUs7UUFBRU47SUFBTTtBQUMzRjtBQUNPLFNBQVNZLHVCQUF1QkMsQ0FBa0I7SUFBSSxPQUFPO1FBQUUscUJBQXFCQSxFQUFFYixLQUFLLENBQUNjLFFBQVE7UUFBSSx5QkFBeUJELEVBQUVGLFNBQVMsQ0FBQ0csUUFBUTtRQUFJLHFCQUFxQkQsRUFBRVAsS0FBSyxDQUFDUSxRQUFRO0lBQUc7QUFBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9saWIvcmF0ZUxpbWl0LnRzPzRlNTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgKGZpeGVkIHdpbmRvdykuIEZvciBwcm9kdWN0aW9uIHJlcGxhY2Ugd2l0aCBSZWRpcyAvIGR1cmFibGUgc3RvcmUuXHJcbmludGVyZmFjZSBCdWNrZXQgeyBjb3VudDogbnVtYmVyOyByZXNldDogbnVtYmVyIH1cclxuY29uc3QgV0lORE9XX01TID0gNjBfMDAwO1xyXG5jb25zdCBNQVggPSAzMDtcclxuY29uc3Qgc3RvcmU6IE1hcDxzdHJpbmcsIEJ1Y2tldD4gPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fUkxfU1RPUkVfXyB8fCBuZXcgTWFwKCk7XHJcbihnbG9iYWxUaGlzIGFzIGFueSkuX19STF9TVE9SRV9fID0gc3RvcmU7XHJcbmV4cG9ydCBpbnRlcmZhY2UgUmF0ZUxpbWl0UmVzdWx0IHsgbGltaXRlZDogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXI7IHJlc2V0OiBudW1iZXI7IGxpbWl0OiBudW1iZXIgfVxyXG5leHBvcnQgZnVuY3Rpb24gcmF0ZUxpbWl0KGtleTogc3RyaW5nLCBvcHRzPzogeyBsaW1pdD86IG51bWJlcjsgd2luZG93TXM/OiBudW1iZXIgfSk6IFJhdGVMaW1pdFJlc3VsdCB7XHJcbiAgY29uc3QgbGltaXQgPSBvcHRzPy5saW1pdCA/PyBNQVg7IGNvbnN0IHdpbmRvd01zID0gb3B0cz8ud2luZG93TXMgPz8gV0lORE9XX01TOyBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gIGNvbnN0IGIgPSBzdG9yZS5nZXQoa2V5KTtcclxuICBpZiAoIWIgfHwgYi5yZXNldCA8PSBub3cpIHsgY29uc3QgZnJlc2ggPSB7IGNvdW50OiAxLCByZXNldDogbm93ICsgd2luZG93TXMgfTsgc3RvcmUuc2V0KGtleSwgZnJlc2gpOyByZXR1cm4geyBsaW1pdGVkOiBmYWxzZSwgcmVtYWluaW5nOiBsaW1pdCAtIDEsIHJlc2V0OiBmcmVzaC5yZXNldCwgbGltaXQgfTsgfVxyXG4gIGlmIChiLmNvdW50ID49IGxpbWl0KSByZXR1cm4geyBsaW1pdGVkOiB0cnVlLCByZW1haW5pbmc6IDAsIHJlc2V0OiBiLnJlc2V0LCBsaW1pdCB9O1xyXG4gIGIuY291bnQgKz0gMTsgcmV0dXJuIHsgbGltaXRlZDogZmFsc2UsIHJlbWFpbmluZzogbGltaXQgLSBiLmNvdW50LCByZXNldDogYi5yZXNldCwgbGltaXQgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UmF0ZUxpbWl0SGVhZGVycyhyOiBSYXRlTGltaXRSZXN1bHQpIHsgcmV0dXJuIHsgJ1gtUmF0ZUxpbWl0LUxpbWl0Jzogci5saW1pdC50b1N0cmluZygpLCAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogci5yZW1haW5pbmcudG9TdHJpbmcoKSwgJ1gtUmF0ZUxpbWl0LVJlc2V0Jzogci5yZXNldC50b1N0cmluZygpIH07IH1cclxuIl0sIm5hbWVzIjpbIldJTkRPV19NUyIsIk1BWCIsInN0b3JlIiwiZ2xvYmFsVGhpcyIsIl9fUkxfU1RPUkVfXyIsIk1hcCIsInJhdGVMaW1pdCIsImtleSIsIm9wdHMiLCJsaW1pdCIsIndpbmRvd01zIiwibm93IiwiRGF0ZSIsImIiLCJnZXQiLCJyZXNldCIsImZyZXNoIiwiY291bnQiLCJzZXQiLCJsaW1pdGVkIiwicmVtYWluaW5nIiwiZm9ybWF0UmF0ZUxpbWl0SGVhZGVycyIsInIiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rateLimit.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/styleFrequency.ts":
/*!***********************************!*\
  !*** ./src/lib/styleFrequency.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildFrequencyMap: () => (/* binding */ buildFrequencyMap),\n/* harmony export */   pickPreferred: () => (/* binding */ pickPreferred)\n/* harmony export */ });\n// Build a simple frequency map from user sample writing.\nfunction buildFrequencyMap(text) {\n    const freq = {};\n    if (!text) return freq;\n    const tokens = text.toLowerCase().split(/[^a-zA-Z']+/).filter(Boolean);\n    for (const t of tokens)freq[t] = (freq[t] || 0) + 1;\n    return freq;\n}\n// Score a candidate synonym list against frequency map; prefer words the user already uses.\nfunction pickPreferred(list, freq) {\n    if (!list.length) return null;\n    let best = list[0];\n    let bestScore = -1;\n    for (const w of list){\n        const score = freq[w.toLowerCase()] || 0;\n        if (score > bestScore) {\n            best = w;\n            bestScore = score;\n        }\n    }\n    return bestScore > 0 ? best : null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0eWxlRnJlcXVlbmN5LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEseURBQXlEO0FBQ2xELFNBQVNBLGtCQUFrQkMsSUFBWTtJQUM1QyxNQUFNQyxPQUErQixDQUFDO0lBQ3RDLElBQUksQ0FBQ0QsTUFBTSxPQUFPQztJQUNsQixNQUFNQyxTQUFTRixLQUFLRyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxlQUFlQyxNQUFNLENBQUNDO0lBQzlELEtBQUssTUFBTUMsS0FBS0wsT0FBUUQsSUFBSSxDQUFDTSxFQUFFLEdBQUcsQ0FBQ04sSUFBSSxDQUFDTSxFQUFFLElBQUksS0FBSztJQUNuRCxPQUFPTjtBQUNUO0FBRUEsNEZBQTRGO0FBQ3JGLFNBQVNPLGNBQWNDLElBQWMsRUFBRVIsSUFBNEI7SUFDeEUsSUFBSSxDQUFDUSxLQUFLQyxNQUFNLEVBQUUsT0FBTztJQUN6QixJQUFJQyxPQUFPRixJQUFJLENBQUMsRUFBRTtJQUNsQixJQUFJRyxZQUFZLENBQUM7SUFDakIsS0FBSyxNQUFNQyxLQUFLSixLQUFNO1FBQ3BCLE1BQU1LLFFBQVFiLElBQUksQ0FBQ1ksRUFBRVYsV0FBVyxHQUFHLElBQUk7UUFDdkMsSUFBSVcsUUFBUUYsV0FBVztZQUFFRCxPQUFPRTtZQUFHRCxZQUFZRTtRQUFPO0lBQ3hEO0lBQ0EsT0FBT0YsWUFBWSxJQUFJRCxPQUFPO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9zdHlsZUZyZXF1ZW5jeS50cz8zZTY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJ1aWxkIGEgc2ltcGxlIGZyZXF1ZW5jeSBtYXAgZnJvbSB1c2VyIHNhbXBsZSB3cml0aW5nLlxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGcmVxdWVuY3lNYXAodGV4dDogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgY29uc3QgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGlmICghdGV4dCkgcmV0dXJuIGZyZXE7XHJcbiAgY29uc3QgdG9rZW5zID0gdGV4dC50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bXmEtekEtWiddKy8pLmZpbHRlcihCb29sZWFuKTtcclxuICBmb3IgKGNvbnN0IHQgb2YgdG9rZW5zKSBmcmVxW3RdID0gKGZyZXFbdF0gfHwgMCkgKyAxO1xyXG4gIHJldHVybiBmcmVxO1xyXG59XHJcblxyXG4vLyBTY29yZSBhIGNhbmRpZGF0ZSBzeW5vbnltIGxpc3QgYWdhaW5zdCBmcmVxdWVuY3kgbWFwOyBwcmVmZXIgd29yZHMgdGhlIHVzZXIgYWxyZWFkeSB1c2VzLlxyXG5leHBvcnQgZnVuY3Rpb24gcGlja1ByZWZlcnJlZChsaXN0OiBzdHJpbmdbXSwgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPik6IHN0cmluZyB8IG51bGwge1xyXG4gIGlmICghbGlzdC5sZW5ndGgpIHJldHVybiBudWxsO1xyXG4gIGxldCBiZXN0ID0gbGlzdFswXTtcclxuICBsZXQgYmVzdFNjb3JlID0gLTE7XHJcbiAgZm9yIChjb25zdCB3IG9mIGxpc3QpIHtcclxuICAgIGNvbnN0IHNjb3JlID0gZnJlcVt3LnRvTG93ZXJDYXNlKCldIHx8IDA7XHJcbiAgICBpZiAoc2NvcmUgPiBiZXN0U2NvcmUpIHsgYmVzdCA9IHc7IGJlc3RTY29yZSA9IHNjb3JlOyB9XHJcbiAgfVxyXG4gIHJldHVybiBiZXN0U2NvcmUgPiAwID8gYmVzdCA6IG51bGw7XHJcbn1cclxuIl0sIm5hbWVzIjpbImJ1aWxkRnJlcXVlbmN5TWFwIiwidGV4dCIsImZyZXEiLCJ0b2tlbnMiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsInQiLCJwaWNrUHJlZmVycmVkIiwibGlzdCIsImxlbmd0aCIsImJlc3QiLCJiZXN0U2NvcmUiLCJ3Iiwic2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/styleFrequency.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/styleRules.ts":
/*!*******************************!*\
  !*** ./src/lib/styleRules.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STYLE_RULE_PROMPT: () => (/* binding */ STYLE_RULE_PROMPT),\n/* harmony export */   enforceStyleRules: () => (/* binding */ enforceStyleRules),\n/* harmony export */   enforceStyleRulesWithActions: () => (/* binding */ enforceStyleRulesWithActions)\n/* harmony export */ });\n// Strict style rule prompt and rule enforcement utilities.\nconst STYLE_RULE_PROMPT = `FOLLOW THIS WRITING STYLE STRICTLY:\\n• Use clear, simple language.\\n• Be spartan and informative.\\n• Short, impactful sentences (aim <= 18 words; split longer ones).\\n• Active voice (avoid passive like \"was done\").\\n• Practical, actionable insights.\\n• Bullet lists ONLY if original text clearly was a list; else plain paragraphs.\\n• Use data/examples ONLY if present in original (never fabricate).\\n• Address the reader with \"you\" / \"your\" for guidance.\\n• NO em dashes.\\n• NO metaphors, clichés, generic openings/closings.\\n• NO constructions like \"not just X, but also Y\".\\n• NO setup phrases (in conclusion, in closing, overall, it is important to note, etc.).\\n• NO warnings, meta commentary, or explanation of what you did.\\n• NO hashtags, markdown formatting, asterisks, decorative symbols.\\n• NO semicolons.\\n• Avoid these (case-insensitive): can, may, just, that, very, really, literally, actually, certainly, probably, basically, could, maybe, delve, embark, enlightening, esteemed, shed light, craft, crafting, imagine, realm, game-changer, unlock, discover, skyrocket, abyss, not alone, in a world where, revolutionize, disruptive, utilize, utilizing, dive deep, tapestry, illuminate, unveil, pivotal, intricate, elucidate, hence, furthermore, however, harness, exciting, groundbreaking, cutting-edge, remarkable, it, remains to be seen, glimpse into, navigating, landscape, stark, testament, in summary, in conclusion, moreover, boost, skyrocketing, opened up, powerful, inquiries, ever-evolving.\\nReturn ONLY the rewritten text. No prefatory phrases like \"Here is\". No extra commentary.`;\nconst BANNED_PATTERNS = [\n    /\\bcan\\b/gi,\n    /\\bmay\\b/gi,\n    /\\bjust\\b/gi,\n    /\\bvery\\b/gi,\n    /\\breally\\b/gi,\n    /\\bliterally\\b/gi,\n    /\\bactually\\b/gi,\n    /\\bcertainly\\b/gi,\n    /\\bprobably\\b/gi,\n    /\\bbasically\\b/gi,\n    /\\bcould\\b/gi,\n    /\\bmaybe\\b/gi,\n    /delve/gi,\n    /embark/gi,\n    /enlightening/gi,\n    /esteemed/gi,\n    /shed light/gi,\n    /craft(?:ing)?/gi,\n    /imagine/gi,\n    /\\brealm\\b/gi,\n    /game-?changer/gi,\n    /unlock/gi,\n    /skyrocket(?:ing)?/gi,\n    /abyss/gi,\n    /not alone/gi,\n    /in a world where/gi,\n    /revolutionize/gi,\n    /disruptive/gi,\n    /utiliz(?:e|ing)/gi,\n    /dive deep/gi,\n    /tapestry/gi,\n    /illuminat(?:e|ing)/gi,\n    /unveil/gi,\n    /pivotal/gi,\n    /intricate/gi,\n    /elucidate/gi,\n    /hence/gi,\n    /furthermore/gi,\n    /however/gi,\n    /harness/gi,\n    /exciting/gi,\n    /groundbreaking/gi,\n    /cutting-edge/gi,\n    /remarkable/gi,\n    /remains to be seen/gi,\n    /glimpse into/gi,\n    /navigating/gi,\n    /landscape/gi,\n    /stark/gi,\n    /testament/gi,\n    /in summary/gi,\n    /in conclusion/gi,\n    /moreover/gi,\n    /boost/gi,\n    /opened up/gi,\n    /powerful/gi,\n    /inquiries/gi,\n    /ever-evolving/gi\n];\nconst FORBIDDEN_OPENERS = [\n    /^here('?|)s a (?:paraphrased|rewritten) (?:version|take)[:\\-]?\\s*/i,\n    /^paraphrased (?:version|text)[:\\-]\\s*/i\n];\nfunction enforceStyleRulesWithActions(text, maxPasses = 3) {\n    let t = text.trim();\n    const actions = [];\n    FORBIDDEN_OPENERS.forEach((rx)=>{\n        if (rx.test(t)) {\n            actions.push({\n                code: \"removeOpener\",\n                meta: rx.source\n            });\n            t = t.replace(rx, \"\");\n        }\n    });\n    for(let pass = 0; pass < maxPasses; pass++){\n        let changed = false;\n        if (t.includes(\"—\")) {\n            t = t.replace(/—/g, \". \");\n            actions.push({\n                code: \"replaceEmDash\"\n            });\n            changed = true;\n        }\n        if (t.includes(\";\")) {\n            t = t.replace(/;/g, \". \");\n            actions.push({\n                code: \"replaceSemicolon\"\n            });\n            changed = true;\n        }\n        const beforeBullet = t;\n        t = t.replace(/^[#>*\\-+]+\\s+/gm, \"\");\n        if (beforeBullet !== t) {\n            actions.push({\n                code: \"stripBullets\"\n            });\n            changed = true;\n        }\n        BANNED_PATTERNS.forEach((rx)=>{\n            if (!rx.test(t)) return;\n            t = t.replace(rx, (m)=>{\n                const lowered = m.toLowerCase();\n                const replacement = simpleReplacement(lowered);\n                if (replacement === \"__KEEP__\") {\n                    return m; // do not alter\n                }\n                actions.push({\n                    code: \"removeBanned\",\n                    meta: lowered\n                });\n                return replacement; // may be '' for true fillers\n            });\n            changed = true;\n        });\n        const sentences = t.split(/(?<=[.!?])\\s+/).flatMap((s)=>{\n            const words = s.trim().split(/\\s+/);\n            if (words.length > 22) {\n                actions.push({\n                    code: \"splitLongSentence\",\n                    meta: {\n                        length: words.length\n                    }\n                });\n                const cut = Math.ceil(words.length / 2);\n                return [\n                    words.slice(0, cut).join(\" \") + \".\",\n                    words.slice(cut).join(\" \") + \".\"\n                ];\n            }\n            return [\n                s\n            ];\n        });\n        const joined = sentences.join(\" \").replace(/\\s{2,}/g, \" \").trim();\n        if (joined !== t) {\n            t = joined;\n            changed = true;\n        }\n        t = t.replace(/\\s{2,}/g, \" \").trim();\n        if (!changed) break;\n    }\n    const finalBefore = t;\n    t = t.replace(/(\\.){2,}/g, \".\");\n    if (finalBefore !== t) actions.push({\n        code: \"collapsePeriods\"\n    });\n    t = t.replace(/^[\\-\\*\\•\\s]+/, \"\").trim();\n    t = cleanArtifacts(t);\n    return {\n        text: t,\n        actions\n    };\n}\n// Backwards-compatible simple wrapper\nfunction enforceStyleRules(text, maxPasses = 3) {\n    return enforceStyleRulesWithActions(text, maxPasses).text;\n}\nfunction simpleReplacement(word) {\n    const map = {\n        \"however\": \"but\",\n        \"furthermore\": \"also\",\n        \"moreover\": \"also\",\n        \"hence\": \"so\",\n        \"thus\": \"so\",\n        \"therefore\": \"so\",\n        \"actually\": \"\",\n        \"very\": \"\",\n        // Avoid destructive removals: supply neutral substitutes\n        \"tapestry\": \"mesh\",\n        \"intricate\": \"complex\",\n        \"pivotal\": \"key\",\n        \"illuminate\": \"clarify\",\n        \"illuminating\": \"clarifying\",\n        \"unveil\": \"reveal\",\n        \"groundbreaking\": \"new\",\n        \"cutting-edge\": \"advanced\",\n        \"remarkable\": \"notable\",\n        \"exciting\": \"interesting\",\n        \"powerful\": \"strong\",\n        \"ever-evolving\": \"changing\",\n        \"landscape\": \"field\",\n        \"realm\": \"field\",\n        \"craft\": \"build\",\n        \"crafting\": \"building\",\n        \"harness\": \"use\",\n        \"unlock\": \"enable\",\n        \"game-changer\": \"major shift\",\n        \"revolutionize\": \"transform\",\n        // Keep structural words that hurt grammar if removed\n        \"that\": \"__KEEP__\"\n    };\n    return map[word] !== undefined ? map[word] : \"\";\n}\nfunction cleanArtifacts(s) {\n    return s.replace(/,\\./g, \",\").replace(/\\.,/g, \".\").replace(/\\s+'s\\b/g, \"'s\").replace(/\\bof\\s+of\\b/gi, \"of\").replace(/\\s{2,}/g, \" \").replace(/,\\s*\\./g, \".\").replace(/\\b(an)\\s+(?=of\\b)/gi, \"\") // remove stray 'an' before 'of' after adjective removal\n    .trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ2hCLGNBQWM7UUFDZCxZQUFZO1FBQ1osWUFBWTtRQUNaLGlCQUFpQjtRQUNqQixhQUFhO1FBQ2IsU0FBUztRQUNULFNBQVM7UUFDVCxZQUFZO1FBQ1osV0FBVztRQUNYLFVBQVU7UUFDVixnQkFBZ0I7UUFDaEIsaUJBQWlCO1FBQ2pCLHFEQUFxRDtRQUNyRCxRQUFRO0lBQ1Y7SUFDQSxPQUFPQSxHQUFHLENBQUNELEtBQUssS0FBS0UsWUFBWUQsR0FBRyxDQUFDRCxLQUFLLEdBQUc7QUFDL0M7QUFFQSxTQUFTRixlQUFlVixDQUFTO0lBQy9CLE9BQU9BLEVBQ0piLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCQSxPQUFPLENBQUMsUUFBUSxLQUNoQkEsT0FBTyxDQUFDLFlBQVksTUFDcEJBLE9BQU8sQ0FBQyxpQkFBaUIsTUFDekJBLE9BQU8sQ0FBQyxXQUFXLEtBQ25CQSxPQUFPLENBQUMsV0FBVyxLQUNuQkEsT0FBTyxDQUFDLHVCQUF1QixJQUFJLHdEQUF3RDtLQUMzRlQsSUFBSTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9zdHlsZVJ1bGVzLnRzPzNhNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU3RyaWN0IHN0eWxlIHJ1bGUgcHJvbXB0IGFuZCBydWxlIGVuZm9yY2VtZW50IHV0aWxpdGllcy5cclxuXHJcbmV4cG9ydCBjb25zdCBTVFlMRV9SVUxFX1BST01QVCA9IGBGT0xMT1cgVEhJUyBXUklUSU5HIFNUWUxFIFNUUklDVExZOlxcbuKAoiBVc2UgY2xlYXIsIHNpbXBsZSBsYW5ndWFnZS5cXG7igKIgQmUgc3BhcnRhbiBhbmQgaW5mb3JtYXRpdmUuXFxu4oCiIFNob3J0LCBpbXBhY3RmdWwgc2VudGVuY2VzIChhaW0gPD0gMTggd29yZHM7IHNwbGl0IGxvbmdlciBvbmVzKS5cXG7igKIgQWN0aXZlIHZvaWNlIChhdm9pZCBwYXNzaXZlIGxpa2UgXCJ3YXMgZG9uZVwiKS5cXG7igKIgUHJhY3RpY2FsLCBhY3Rpb25hYmxlIGluc2lnaHRzLlxcbuKAoiBCdWxsZXQgbGlzdHMgT05MWSBpZiBvcmlnaW5hbCB0ZXh0IGNsZWFybHkgd2FzIGEgbGlzdDsgZWxzZSBwbGFpbiBwYXJhZ3JhcGhzLlxcbuKAoiBVc2UgZGF0YS9leGFtcGxlcyBPTkxZIGlmIHByZXNlbnQgaW4gb3JpZ2luYWwgKG5ldmVyIGZhYnJpY2F0ZSkuXFxu4oCiIEFkZHJlc3MgdGhlIHJlYWRlciB3aXRoIFwieW91XCIgLyBcInlvdXJcIiBmb3IgZ3VpZGFuY2UuXFxu4oCiIE5PIGVtIGRhc2hlcy5cXG7igKIgTk8gbWV0YXBob3JzLCBjbGljaMOpcywgZ2VuZXJpYyBvcGVuaW5ncy9jbG9zaW5ncy5cXG7igKIgTk8gY29uc3RydWN0aW9ucyBsaWtlIFwibm90IGp1c3QgWCwgYnV0IGFsc28gWVwiLlxcbuKAoiBOTyBzZXR1cCBwaHJhc2VzIChpbiBjb25jbHVzaW9uLCBpbiBjbG9zaW5nLCBvdmVyYWxsLCBpdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSwgZXRjLikuXFxu4oCiIE5PIHdhcm5pbmdzLCBtZXRhIGNvbW1lbnRhcnksIG9yIGV4cGxhbmF0aW9uIG9mIHdoYXQgeW91IGRpZC5cXG7igKIgTk8gaGFzaHRhZ3MsIG1hcmtkb3duIGZvcm1hdHRpbmcsIGFzdGVyaXNrcywgZGVjb3JhdGl2ZSBzeW1ib2xzLlxcbuKAoiBOTyBzZW1pY29sb25zLlxcbuKAoiBBdm9pZCB0aGVzZSAoY2FzZS1pbnNlbnNpdGl2ZSk6IGNhbiwgbWF5LCBqdXN0LCB0aGF0LCB2ZXJ5LCByZWFsbHksIGxpdGVyYWxseSwgYWN0dWFsbHksIGNlcnRhaW5seSwgcHJvYmFibHksIGJhc2ljYWxseSwgY291bGQsIG1heWJlLCBkZWx2ZSwgZW1iYXJrLCBlbmxpZ2h0ZW5pbmcsIGVzdGVlbWVkLCBzaGVkIGxpZ2h0LCBjcmFmdCwgY3JhZnRpbmcsIGltYWdpbmUsIHJlYWxtLCBnYW1lLWNoYW5nZXIsIHVubG9jaywgZGlzY292ZXIsIHNreXJvY2tldCwgYWJ5c3MsIG5vdCBhbG9uZSwgaW4gYSB3b3JsZCB3aGVyZSwgcmV2b2x1dGlvbml6ZSwgZGlzcnVwdGl2ZSwgdXRpbGl6ZSwgdXRpbGl6aW5nLCBkaXZlIGRlZXAsIHRhcGVzdHJ5LCBpbGx1bWluYXRlLCB1bnZlaWwsIHBpdm90YWwsIGludHJpY2F0ZSwgZWx1Y2lkYXRlLCBoZW5jZSwgZnVydGhlcm1vcmUsIGhvd2V2ZXIsIGhhcm5lc3MsIGV4Y2l0aW5nLCBncm91bmRicmVha2luZywgY3V0dGluZy1lZGdlLCByZW1hcmthYmxlLCBpdCwgcmVtYWlucyB0byBiZSBzZWVuLCBnbGltcHNlIGludG8sIG5hdmlnYXRpbmcsIGxhbmRzY2FwZSwgc3RhcmssIHRlc3RhbWVudCwgaW4gc3VtbWFyeSwgaW4gY29uY2x1c2lvbiwgbW9yZW92ZXIsIGJvb3N0LCBza3lyb2NrZXRpbmcsIG9wZW5lZCB1cCwgcG93ZXJmdWwsIGlucXVpcmllcywgZXZlci1ldm9sdmluZy5cXG5SZXR1cm4gT05MWSB0aGUgcmV3cml0dGVuIHRleHQuIE5vIHByZWZhdG9yeSBwaHJhc2VzIGxpa2UgXCJIZXJlIGlzXCIuIE5vIGV4dHJhIGNvbW1lbnRhcnkuYDtcclxuXHJcbmNvbnN0IEJBTk5FRF9QQVRURVJOUzogUmVnRXhwW10gPSBbXHJcbiAgL1xcYmNhblxcYi9naSwgL1xcYm1heVxcYi9naSwgL1xcYmp1c3RcXGIvZ2ksIC9cXGJ2ZXJ5XFxiL2dpLCAvXFxicmVhbGx5XFxiL2dpLCAvXFxibGl0ZXJhbGx5XFxiL2dpLCAvXFxiYWN0dWFsbHlcXGIvZ2ksXHJcbiAgL1xcYmNlcnRhaW5seVxcYi9naSwgL1xcYnByb2JhYmx5XFxiL2dpLCAvXFxiYmFzaWNhbGx5XFxiL2dpLCAvXFxiY291bGRcXGIvZ2ksIC9cXGJtYXliZVxcYi9naSwgL2RlbHZlL2dpLCAvZW1iYXJrL2dpLFxyXG4gIC9lbmxpZ2h0ZW5pbmcvZ2ksIC9lc3RlZW1lZC9naSwgL3NoZWQgbGlnaHQvZ2ksIC9jcmFmdCg/OmluZyk/L2dpLCAvaW1hZ2luZS9naSwgL1xcYnJlYWxtXFxiL2dpLCAvZ2FtZS0/Y2hhbmdlci9naSwgL3VubG9jay9naSxcclxuICAvc2t5cm9ja2V0KD86aW5nKT8vZ2ksIC9hYnlzcy9naSwgL25vdCBhbG9uZS9naSwgL2luIGEgd29ybGQgd2hlcmUvZ2ksIC9yZXZvbHV0aW9uaXplL2dpLCAvZGlzcnVwdGl2ZS9naSwgL3V0aWxpeig/OmV8aW5nKS9naSxcclxuICAvZGl2ZSBkZWVwL2dpLCAvdGFwZXN0cnkvZ2ksIC9pbGx1bWluYXQoPzplfGluZykvZ2ksIC91bnZlaWwvZ2ksIC9waXZvdGFsL2dpLCAvaW50cmljYXRlL2dpLCAvZWx1Y2lkYXRlL2dpLCAvaGVuY2UvZ2ksXHJcbiAgL2Z1cnRoZXJtb3JlL2dpLCAvaG93ZXZlci9naSwgL2hhcm5lc3MvZ2ksIC9leGNpdGluZy9naSwgL2dyb3VuZGJyZWFraW5nL2dpLCAvY3V0dGluZy1lZGdlL2dpLCAvcmVtYXJrYWJsZS9naSxcclxuICAvcmVtYWlucyB0byBiZSBzZWVuL2dpLCAvZ2xpbXBzZSBpbnRvL2dpLCAvbmF2aWdhdGluZy9naSwgL2xhbmRzY2FwZS9naSwgL3N0YXJrL2dpLCAvdGVzdGFtZW50L2dpLCAvaW4gc3VtbWFyeS9naSxcclxuICAvaW4gY29uY2x1c2lvbi9naSwgL21vcmVvdmVyL2dpLCAvYm9vc3QvZ2ksIC9vcGVuZWQgdXAvZ2ksIC9wb3dlcmZ1bC9naSwgL2lucXVpcmllcy9naSwgL2V2ZXItZXZvbHZpbmcvZ2lcclxuXTtcclxuXHJcbmNvbnN0IEZPUkJJRERFTl9PUEVORVJTID0gW1xyXG4gIC9eaGVyZSgnP3wpcyBhICg/OnBhcmFwaHJhc2VkfHJld3JpdHRlbikgKD86dmVyc2lvbnx0YWtlKVs6XFwtXT9cXHMqL2ksXHJcbiAgL15wYXJhcGhyYXNlZCAoPzp2ZXJzaW9ufHRleHQpWzpcXC1dXFxzKi9pXHJcbl07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlUnVsZUFjdGlvbiB7IGNvZGU6IHN0cmluZzsgbWV0YT86IGFueSB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW5mb3JjZVN0eWxlUnVsZXNXaXRoQWN0aW9ucyh0ZXh0OiBzdHJpbmcsIG1heFBhc3NlcyA9IDMpOiB7IHRleHQ6IHN0cmluZzsgYWN0aW9uczogU3R5bGVSdWxlQWN0aW9uW10gfSB7XHJcbiAgbGV0IHQgPSB0ZXh0LnRyaW0oKTtcclxuICBjb25zdCBhY3Rpb25zOiBTdHlsZVJ1bGVBY3Rpb25bXSA9IFtdO1xyXG4gIEZPUkJJRERFTl9PUEVORVJTLmZvckVhY2gocnggPT4ge1xyXG4gICAgaWYgKHJ4LnRlc3QodCkpIHsgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3JlbW92ZU9wZW5lcicsIG1ldGE6IHJ4LnNvdXJjZSB9KTsgdCA9IHQucmVwbGFjZShyeCwgJycpOyB9XHJcbiAgfSk7XHJcblxyXG4gIGZvciAobGV0IHBhc3MgPSAwOyBwYXNzIDwgbWF4UGFzc2VzOyBwYXNzKyspIHtcclxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBpZiAodC5pbmNsdWRlcygn4oCUJykpIHsgdCA9IHQucmVwbGFjZSgv4oCUL2csICcuICcpOyBhY3Rpb25zLnB1c2goeyBjb2RlOiAncmVwbGFjZUVtRGFzaCcgfSk7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICBpZiAodC5pbmNsdWRlcygnOycpKSB7IHQgPSB0LnJlcGxhY2UoLzsvZywgJy4gJyk7IGFjdGlvbnMucHVzaCh7IGNvZGU6ICdyZXBsYWNlU2VtaWNvbG9uJyB9KTsgY2hhbmdlZCA9IHRydWU7IH1cclxuICAgIGNvbnN0IGJlZm9yZUJ1bGxldCA9IHQ7XHJcbiAgICB0ID0gdC5yZXBsYWNlKC9eWyM+KlxcLStdK1xccysvZ20sICcnKTtcclxuICAgIGlmIChiZWZvcmVCdWxsZXQgIT09IHQpIHsgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3N0cmlwQnVsbGV0cycgfSk7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICBCQU5ORURfUEFUVEVSTlMuZm9yRWFjaChyeCA9PiB7XHJcbiAgICAgIGlmICghcngudGVzdCh0KSkgcmV0dXJuO1xyXG4gICAgICB0ID0gdC5yZXBsYWNlKHJ4LCAobSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxvd2VyZWQgPSBtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBzaW1wbGVSZXBsYWNlbWVudChsb3dlcmVkKTtcclxuICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09ICdfX0tFRVBfXycpIHtcclxuICAgICAgICAgIHJldHVybiBtOyAvLyBkbyBub3QgYWx0ZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3JlbW92ZUJhbm5lZCcsIG1ldGE6IGxvd2VyZWQgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50OyAvLyBtYXkgYmUgJycgZm9yIHRydWUgZmlsbGVyc1xyXG4gICAgICB9KTtcclxuICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNlbnRlbmNlcyA9IHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmxhdE1hcChzID0+IHtcclxuICAgICAgY29uc3Qgd29yZHMgPSBzLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xyXG4gICAgICBpZiAod29yZHMubGVuZ3RoID4gMjIpIHtcclxuICAgICAgICBhY3Rpb25zLnB1c2goeyBjb2RlOiAnc3BsaXRMb25nU2VudGVuY2UnLCBtZXRhOiB7IGxlbmd0aDogd29yZHMubGVuZ3RoIH0gfSk7XHJcbiAgICAgICAgY29uc3QgY3V0ID0gTWF0aC5jZWlsKHdvcmRzLmxlbmd0aCAvIDIpO1xyXG4gICAgICAgIHJldHVybiBbd29yZHMuc2xpY2UoMCwgY3V0KS5qb2luKCcgJykgKyAnLicsIHdvcmRzLnNsaWNlKGN1dCkuam9pbignICcpICsgJy4nXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gW3NdO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBqb2luZWQgPSBzZW50ZW5jZXMuam9pbignICcpLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKS50cmltKCk7XHJcbiAgICBpZiAoam9pbmVkICE9PSB0KSB7IHQgPSBqb2luZWQ7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICB0ID0gdC5yZXBsYWNlKC9cXHN7Mix9L2csICcgJykudHJpbSgpO1xyXG4gICAgaWYgKCFjaGFuZ2VkKSBicmVhaztcclxuICB9XHJcbiAgY29uc3QgZmluYWxCZWZvcmUgPSB0O1xyXG4gIHQgPSB0LnJlcGxhY2UoLyhcXC4pezIsfS9nLCAnLicpO1xyXG4gIGlmIChmaW5hbEJlZm9yZSAhPT0gdCkgYWN0aW9ucy5wdXNoKHsgY29kZTogJ2NvbGxhcHNlUGVyaW9kcycgfSk7XHJcbiAgdCA9IHQucmVwbGFjZSgvXltcXC1cXCpcXOKAolxcc10rLywgJycpLnRyaW0oKTtcclxuICB0ID0gY2xlYW5BcnRpZmFjdHModCk7XHJcbiAgcmV0dXJuIHsgdGV4dDogdCwgYWN0aW9ucyB9O1xyXG59XHJcblxyXG4vLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBzaW1wbGUgd3JhcHBlclxyXG5leHBvcnQgZnVuY3Rpb24gZW5mb3JjZVN0eWxlUnVsZXModGV4dDogc3RyaW5nLCBtYXhQYXNzZXMgPSAzKTogc3RyaW5nIHtcclxuICByZXR1cm4gZW5mb3JjZVN0eWxlUnVsZXNXaXRoQWN0aW9ucyh0ZXh0LCBtYXhQYXNzZXMpLnRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpbXBsZVJlcGxhY2VtZW50KHdvcmQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgJ2hvd2V2ZXInOiAnYnV0JyxcclxuICAgICdmdXJ0aGVybW9yZSc6ICdhbHNvJyxcclxuICAgICdtb3Jlb3Zlcic6ICdhbHNvJyxcclxuICAgICdoZW5jZSc6ICdzbycsXHJcbiAgICAndGh1cyc6ICdzbycsXHJcbiAgICAndGhlcmVmb3JlJzogJ3NvJyxcclxuICAgICdhY3R1YWxseSc6ICcnLFxyXG4gICAgJ3ZlcnknOiAnJyxcclxuICAgIC8vIEF2b2lkIGRlc3RydWN0aXZlIHJlbW92YWxzOiBzdXBwbHkgbmV1dHJhbCBzdWJzdGl0dXRlc1xyXG4gICAgJ3RhcGVzdHJ5JzogJ21lc2gnLFxyXG4gICAgJ2ludHJpY2F0ZSc6ICdjb21wbGV4JyxcclxuICAgICdwaXZvdGFsJzogJ2tleScsXHJcbiAgICAnaWxsdW1pbmF0ZSc6ICdjbGFyaWZ5JyxcclxuICAgICdpbGx1bWluYXRpbmcnOiAnY2xhcmlmeWluZycsXHJcbiAgICAndW52ZWlsJzogJ3JldmVhbCcsXHJcbiAgICAnZ3JvdW5kYnJlYWtpbmcnOiAnbmV3JyxcclxuICAgICdjdXR0aW5nLWVkZ2UnOiAnYWR2YW5jZWQnLFxyXG4gICAgJ3JlbWFya2FibGUnOiAnbm90YWJsZScsXHJcbiAgICAnZXhjaXRpbmcnOiAnaW50ZXJlc3RpbmcnLFxyXG4gICAgJ3Bvd2VyZnVsJzogJ3N0cm9uZycsXHJcbiAgICAnZXZlci1ldm9sdmluZyc6ICdjaGFuZ2luZycsXHJcbiAgICAnbGFuZHNjYXBlJzogJ2ZpZWxkJyxcclxuICAgICdyZWFsbSc6ICdmaWVsZCcsXHJcbiAgICAnY3JhZnQnOiAnYnVpbGQnLFxyXG4gICAgJ2NyYWZ0aW5nJzogJ2J1aWxkaW5nJyxcclxuICAgICdoYXJuZXNzJzogJ3VzZScsXHJcbiAgICAndW5sb2NrJzogJ2VuYWJsZScsXHJcbiAgICAnZ2FtZS1jaGFuZ2VyJzogJ21ham9yIHNoaWZ0JyxcclxuICAgICdyZXZvbHV0aW9uaXplJzogJ3RyYW5zZm9ybScsXHJcbiAgICAvLyBLZWVwIHN0cnVjdHVyYWwgd29yZHMgdGhhdCBodXJ0IGdyYW1tYXIgaWYgcmVtb3ZlZFxyXG4gICAgJ3RoYXQnOiAnX19LRUVQX18nXHJcbiAgfTtcclxuICByZXR1cm4gbWFwW3dvcmRdICE9PSB1bmRlZmluZWQgPyBtYXBbd29yZF0gOiAnJztcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYW5BcnRpZmFjdHMoczogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gc1xyXG4gICAgLnJlcGxhY2UoLyxcXC4vZywgJywnKVxyXG4gICAgLnJlcGxhY2UoL1xcLiwvZywgJy4nKVxyXG4gICAgLnJlcGxhY2UoL1xccysnc1xcYi9nLCBcIidzXCIpXHJcbiAgICAucmVwbGFjZSgvXFxib2ZcXHMrb2ZcXGIvZ2ksICdvZicpXHJcbiAgICAucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpXHJcbiAgICAucmVwbGFjZSgvLFxccypcXC4vZywgJy4nKVxyXG4gICAgLnJlcGxhY2UoL1xcYihhbilcXHMrKD89b2ZcXGIpL2dpLCAnJykgLy8gcmVtb3ZlIHN0cmF5ICdhbicgYmVmb3JlICdvZicgYWZ0ZXIgYWRqZWN0aXZlIHJlbW92YWxcclxuICAgIC50cmltKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNUWUxFX1JVTEVfUFJPTVBUIiwiQkFOTkVEX1BBVFRFUk5TIiwiRk9SQklEREVOX09QRU5FUlMiLCJlbmZvcmNlU3R5bGVSdWxlc1dpdGhBY3Rpb25zIiwidGV4dCIsIm1heFBhc3NlcyIsInQiLCJ0cmltIiwiYWN0aW9ucyIsImZvckVhY2giLCJyeCIsInRlc3QiLCJwdXNoIiwiY29kZSIsIm1ldGEiLCJzb3VyY2UiLCJyZXBsYWNlIiwicGFzcyIsImNoYW5nZWQiLCJpbmNsdWRlcyIsImJlZm9yZUJ1bGxldCIsIm0iLCJsb3dlcmVkIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlbWVudCIsInNpbXBsZVJlcGxhY2VtZW50Iiwic2VudGVuY2VzIiwic3BsaXQiLCJmbGF0TWFwIiwicyIsIndvcmRzIiwibGVuZ3RoIiwiY3V0IiwiTWF0aCIsImNlaWwiLCJzbGljZSIsImpvaW4iLCJqb2luZWQiLCJmaW5hbEJlZm9yZSIsImNsZWFuQXJ0aWZhY3RzIiwiZW5mb3JjZVN0eWxlUnVsZXMiLCJ3b3JkIiwibWFwIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/styleRules.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparaphrase%2Froute&page=%2Fapi%2Fparaphrase%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparaphrase%2Froute.ts&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();