/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/paraphrase/page";
exports.ids = ["app/paraphrase/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fparaphrase%2Fpage&page=%2Fparaphrase%2Fpage&appPaths=%2Fparaphrase%2Fpage&pagePath=private-next-app-dir%2Fparaphrase%2Fpage.tsx&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fparaphrase%2Fpage&page=%2Fparaphrase%2Fpage&appPaths=%2Fparaphrase%2Fpage&pagePath=private-next-app-dir%2Fparaphrase%2Fpage.tsx&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'paraphrase',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/paraphrase/page.tsx */ \"(rsc)/./src/app/paraphrase/page.tsx\")), \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/paraphrase/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/paraphrase/page\",\n        pathname: \"/paraphrase\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYXJhcGhyYXNlJTJGcGFnZSZwYWdlPSUyRnBhcmFwaHJhc2UlMkZwYWdlJmFwcFBhdGhzPSUyRnBhcmFwaHJhc2UlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFyYXBocmFzZSUyRnBhZ2UudHN4JmFwcERpcj1DJTNBJTVDVXNlcnMlNUNEYXZlJTVDRGVza3RvcCU1Q25ld19TdHlsZXN5bmMlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0RhdmUlNUNEZXNrdG9wJTVDbmV3X1N0eWxlc3luYyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsc0tBQTRHO0FBQ25JO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUFrRztBQUMzSCxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLz9jZDAxIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ3BhcmFwaHJhc2UnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxzcmNcXFxcYXBwXFxcXHBhcmFwaHJhc2VcXFxccGFnZS50c3hcIiksIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcc3JjXFxcXGFwcFxcXFxwYXJhcGhyYXNlXFxcXHBhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxzcmNcXFxcYXBwXFxcXGxheW91dC50c3hcIiksIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxzcmNcXFxcYXBwXFxcXHBhcmFwaHJhc2VcXFxccGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIjtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9wYXJhcGhyYXNlL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvcGFyYXBocmFzZS9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9wYXJhcGhyYXNlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fparaphrase%2Fpage&page=%2Fparaphrase%2Fpage&appPaths=%2Fparaphrase%2Fpage&pagePath=private-next-app-dir%2Fparaphrase%2Fpage.tsx&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0RhdmUlNUMlNUNEZXNrdG9wJTVDJTVDbmV3X1N0eWxlc3luYyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2FwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDVXNlcnMlNUMlNUNEYXZlJTVDJTVDRGVza3RvcCU1QyU1Q25ld19TdHlsZXN5bmMlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNub3QtZm91bmQtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXlJO0FBQ3pJO0FBQ0Esb09BQTBJO0FBQzFJO0FBQ0EsME9BQTZJO0FBQzdJO0FBQ0Esd09BQTRJO0FBQzVJO0FBQ0Esa1BBQWlKO0FBQ2pKO0FBQ0Esc1FBQTJKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLz82MWQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxhcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGNsaWVudC1wYWdlLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGVycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGxheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXFVzZXJzXFxcXERhdmVcXFxcRGVza3RvcFxcXFxuZXdfU3R5bGVzeW5jXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxEYXZlXFxcXERlc2t0b3BcXFxcbmV3X1N0eWxlc3luY1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXHJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Ccomponents%5C%5CAuthStatus.tsx%22%2C%22ids%22%3A%5B%22AuthStatus%22%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Ccomponents%5C%5CAuthStatus.tsx%22%2C%22ids%22%3A%5B%22AuthStatus%22%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/link.js */ \"(ssr)/./node_modules/next/dist/client/link.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/AuthStatus.tsx */ \"(ssr)/./src/components/AuthStatus.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0RhdmUlNUMlNUNEZXNrdG9wJTVDJTVDbmV3X1N0eWxlc3luYyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDbGluay5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMiolMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDc3JjJTVDJTVDYXBwJTVDJTVDZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDRGF2ZSU1QyU1Q0Rlc2t0b3AlNUMlNUNuZXdfU3R5bGVzeW5jJTVDJTVDc3JjJTVDJTVDY29tcG9uZW50cyU1QyU1Q0F1dGhTdGF0dXMudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQXV0aFN0YXR1cyUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ01BQXVIO0FBQ3ZIO0FBQ0EsMEtBQTZJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLz80YzM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcbGluay5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXV0aFN0YXR1c1wiXSAqLyBcIkM6XFxcXFVzZXJzXFxcXERhdmVcXFxcRGVza3RvcFxcXFxuZXdfU3R5bGVzeW5jXFxcXHNyY1xcXFxjb21wb25lbnRzXFxcXEF1dGhTdGF0dXMudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Ccomponents%5C%5CAuthStatus.tsx%22%2C%22ids%22%3A%5B%22AuthStatus%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cparaphrase%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cparaphrase%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/paraphrase/page.tsx */ \"(ssr)/./src/app/paraphrase/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0RhdmUlNUMlNUNEZXNrdG9wJTVDJTVDbmV3X1N0eWxlc3luYyU1QyU1Q3NyYyU1QyU1Q2FwcCU1QyU1Q3BhcmFwaHJhc2UlNUMlNUNwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsc0tBQTRHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLz84MjVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcRGF2ZVxcXFxEZXNrdG9wXFxcXG5ld19TdHlsZXN5bmNcXFxcc3JjXFxcXGFwcFxcXFxwYXJhcGhyYXNlXFxcXHBhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CDave%5C%5CDesktop%5C%5Cnew_Stylesync%5C%5Csrc%5C%5Capp%5C%5Cparaphrase%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/paraphrase/page.tsx":
/*!*************************************!*\
  !*** ./src/app/paraphrase/page.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ParaphrasePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/styleProfile.ts */ \"(ssr)/./src/lib/styleProfile.ts\");\n/* harmony import */ var _lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/paraphrase.ts */ \"(ssr)/./src/lib/paraphrase.ts\");\n/* harmony import */ var _components_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/FullScreenSpinner */ \"(ssr)/./src/components/FullScreenSpinner.tsx\");\n/* harmony import */ var _components_StyleProfileManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/StyleProfileManager */ \"(ssr)/./src/components/StyleProfileManager.tsx\");\n/* harmony import */ var _lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/paraphraseHistory.ts */ \"(ssr)/./src/lib/paraphraseHistory.ts\");\n/* harmony import */ var _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction ParaphrasePage() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [output, setOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [useModel, setUseModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [usedModel, setUsedModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [diffTokens, setDiffTokens] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [diffStats, setDiffStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        changed: 0,\n        total: 0\n    });\n    const [actions, setActions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [debug, setDebug] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [authChecked, setAuthChecked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check authentication first\n        (async ()=>{\n            if (_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_8__.supabase) {\n                const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_8__.supabase.auth.getUser();\n                if (!user) {\n                    router.push(\"/auth/sign-in\");\n                    return;\n                }\n                setUserId(user.id);\n                setAuthChecked(true);\n                // Load user's history\n                const remote = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.fetchHistory)();\n                setHistory(remote);\n            } else {\n                // No supabase - redirect to sign in\n                router.push(\"/auth/sign-in\");\n                return;\n            }\n        })();\n        // Prefer active multi-profile if exists, else fallback to legacy single\n        const activeId = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.getActiveProfileId)();\n        const profiles = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.listProfiles)();\n        if (activeId) {\n            const found = profiles.find((p)=>p.id === activeId) || null;\n            if (found) {\n                setProfile(found);\n                return;\n            }\n        }\n        const legacy = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.loadProfile)();\n        if (legacy) setProfile(legacy);\n    }, [\n        router\n    ]);\n    // When userId becomes available, attempt to hydrate a remote style profile if none locally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            if (!userId) return;\n            const localProfiles = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.listProfiles)();\n            if (!profile && localProfiles.length === 0) {\n                try {\n                    // Load all remote profiles\n                    const remoteProfiles = await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.loadProfilesRemote)(userId);\n                    if (remoteProfiles.length) {\n                        remoteProfiles.forEach((r)=>(0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.upsertProfileLocal)(r));\n                        // choose most recently updated as active\n                        const sorted = [\n                            ...remoteProfiles\n                        ].sort((a, b)=>b.updatedAt - a.updatedAt);\n                        setProfile(sorted[0]);\n                    } else {\n                        // No remote profiles but maybe we have local (rare), push them\n                        if (localProfiles.length) await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.syncLocalProfilesToRemote)(userId);\n                    }\n                } catch  {}\n            }\n            // Always ensure history is loaded after a fresh login (in case initial mount happened pre-auth)\n            if (history.length === 0) {\n                try {\n                    const fresh = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.fetchHistory)();\n                    if (fresh.length) setHistory(fresh);\n                } catch  {}\n            }\n        })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        userId\n    ]);\n    async function handleParaphrase() {\n        setBusy(true);\n        setError(null);\n        setUsedModel(false);\n        try {\n            // Analyze sample style if available\n            let enhancedProfile = profile;\n            if (profile && profile.sampleExcerpt) {\n                const styleAnalysis = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_4__.analyzeSampleStyle)(profile.sampleExcerpt);\n                enhancedProfile = {\n                    ...profile,\n                    styleAnalysis\n                };\n            }\n            const payload = {\n                text: input,\n                useModel,\n                profile: enhancedProfile,\n                debug\n            };\n            const res = await fetch(\"/api/paraphrase\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            if (!res.ok) {\n                const err = await res.json().catch(()=>({}));\n                throw new Error(err.error || \"API error\");\n            }\n            const data = await res.json();\n            setOutput(data.result || \"\");\n            setActions(data.actions || []);\n            setMetrics(data.metrics || null);\n            setUsedModel(!!data.usedModel);\n            // Append to history\n            if (userId) {\n                const optimistic = {\n                    id: crypto.randomUUID(),\n                    userId,\n                    input,\n                    output: data.result || \"\",\n                    note: \"\",\n                    usedModel: !!data.usedModel,\n                    createdAt: new Date().toISOString(),\n                    pending: true\n                };\n                setHistory((h)=>[\n                        optimistic,\n                        ...h\n                    ].slice(0, 50));\n                // async persist\n                (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.addHistoryEntry)({\n                    userId,\n                    input,\n                    output: data.result || \"\",\n                    note: \"\",\n                    usedModel: !!data.usedModel\n                }).then((saved)=>{\n                    if (saved) setHistory((h)=>h.map((e)=>e.id === optimistic.id ? saved : e));\n                });\n            } else {\n                setHistory((h)=>[\n                        {\n                            id: crypto.randomUUID(),\n                            input,\n                            output: data.result || \"\",\n                            note: \"\",\n                            usedModel: !!data.usedModel,\n                            createdAt: new Date().toISOString(),\n                            localOnly: true\n                        },\n                        ...h\n                    ].slice(0, 50));\n            }\n        } catch (e) {\n            // Fallback to local heuristic\n            const fallback = (0,_lib_paraphrase_ts__WEBPACK_IMPORTED_MODULE_4__.paraphraseWithProfile)(input, profile || undefined);\n            setOutput(fallback);\n            setError(e.message || \"Failed to use model, showed heuristic result.\");\n            if (userId) {\n                const optimistic = {\n                    id: crypto.randomUUID(),\n                    userId,\n                    input,\n                    output: fallback,\n                    note: \"\",\n                    usedModel: false,\n                    createdAt: new Date().toISOString(),\n                    pending: true\n                };\n                setHistory((h)=>[\n                        optimistic,\n                        ...h\n                    ].slice(0, 50));\n                (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.addHistoryEntry)({\n                    userId,\n                    input,\n                    output: fallback,\n                    note: \"\",\n                    usedModel: false\n                }).then((saved)=>{\n                    if (saved) setHistory((h)=>h.map((e)=>e.id === optimistic.id ? saved : e));\n                });\n            } else {\n                setHistory((h)=>[\n                        {\n                            id: crypto.randomUUID(),\n                            input,\n                            output: fallback,\n                            note: \"\",\n                            usedModel: false,\n                            createdAt: new Date().toISOString(),\n                            localOnly: true\n                        },\n                        ...h\n                    ].slice(0, 50));\n            }\n        } finally{\n            setBusy(false);\n        }\n    }\n    async function handleDeleteHistoryEntry(id) {\n        if (!userId) return; // Only for authenticated users\n        // Optimistically remove from UI\n        setHistory((h)=>h.filter((item)=>item.id !== id));\n        // Delete from database\n        const success = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.deleteHistoryEntry)(id);\n        if (!success) {\n            // If delete failed, reload history to restore the item\n            try {\n                const fresh = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.fetchHistory)();\n                setHistory(fresh);\n            } catch  {}\n        }\n    }\n    async function handleDeleteAllHistory() {\n        if (!userId || !confirm(\"Are you sure you want to delete all history? This cannot be undone.\")) return;\n        // Optimistically clear UI\n        setHistory([]);\n        // Delete from database\n        const success = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.deleteAllHistory)();\n        if (!success) {\n            // If delete failed, reload history to restore\n            try {\n                const fresh = await (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.fetchHistory)();\n                setHistory(fresh);\n            } catch  {}\n        }\n    }\n    async function handleCopyResult() {\n        if (!output) return;\n        try {\n            await navigator.clipboard.writeText(output);\n            setCopied(true);\n            // Reset feedback after 2 seconds\n            setTimeout(()=>setCopied(false), 2000);\n        } catch (err) {\n            // Fallback for older browsers\n            const textArea = document.createElement(\"textarea\");\n            textArea.value = output;\n            document.body.appendChild(textArea);\n            textArea.select();\n            document.execCommand(\"copy\");\n            document.body.removeChild(textArea);\n            setCopied(true);\n            setTimeout(()=>setCopied(false), 2000);\n        }\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!output || !input) {\n            setDiffTokens([]);\n            setDiffStats({\n                changed: 0,\n                total: 0\n            });\n            return;\n        }\n        const diff = wordDiff(input, output);\n        setDiffTokens(diff.tokens);\n        setDiffStats({\n            changed: diff.changed,\n            total: diff.total\n        });\n    }, [\n        output,\n        input\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid gap-10 lg:grid-cols-5\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"lg:col-span-3 space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5 space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-semibold\",\n                                children: \"Paraphrase\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 205,\n                                columnNumber: 11\n                            }, this),\n                            (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.isParaphraseHistoryTableMissing)() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded border border-amber-500/30 bg-amber-500/10 p-3 text-xs text-amber-300 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-semibold\",\n                                        children: \"History table not found in Supabase.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"Run the following SQL in your Supabase project (SQL editor) to create it:\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 209,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                                        className: \"select-text\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                                className: \"cursor-pointer underline\",\n                                                children: \"Show SQL\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 211,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                className: \"mt-2 whitespace-pre-wrap text-[10px] leading-snug max-h-56 overflow-auto\",\n                                                children: _lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.PARAPHRASE_HISTORY_SQL\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 212,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 210,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 207,\n                                columnNumber: 13\n                            }, this),\n                            !profile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-amber-400\",\n                                children: \"No style profile found. Create one for better alignment.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 216,\n                                columnNumber: 24\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: input,\n                                onChange: (e)=>setInput(e.target.value),\n                                placeholder: \"Paste text to paraphrase...\",\n                                rows: 10,\n                                className: \"w-full rounded-lg bg-slate-800/60 border border-white/10 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-4 items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleParaphrase,\n                                        disabled: !input.trim() || busy,\n                                        className: \"px-5 py-2 rounded-lg bg-brand-500 hover:bg-brand-400 text-slate-900 font-semibold disabled:opacity-40 transition min-w-[140px]\",\n                                        children: busy ? \"Processing\" : \"Paraphrase\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setInput(\"\");\n                                            setOutput(\"\");\n                                            setError(null);\n                                            setUsedModel(false);\n                                        },\n                                        className: \"px-5 py-2 rounded-lg border border-white/10 hover:border-brand-400/60 text-slate-200 text-sm\",\n                                        children: \"Reset\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 220,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-2 text-xs text-slate-300 select-none\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"accent-brand-500\",\n                                                checked: useModel,\n                                                onChange: (e)=>setUseModel(e.target.checked)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 222,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Use model (Groq)\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 221,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-2 text-xs text-slate-500 select-none\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"accent-brand-500\",\n                                                checked: debug,\n                                                onChange: (e)=>setDebug(e.target.checked)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 226,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Debug\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 225,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 218,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 204,\n                        columnNumber: 9\n                    }, this),\n                    (error || output) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5 space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"font-semibold text-brand-300 flex items-center gap-2\",\n                                        children: [\n                                            \"Result\",\n                                            usedModel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[10px] px-2 py-0.5 rounded bg-brand-500/20 text-brand-300 border border-brand-500/30\",\n                                                children: \"Model\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 236,\n                                                columnNumber: 31\n                                            }, this),\n                                            !usedModel && output && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[10px] px-2 py-0.5 rounded bg-slate-500/20 text-slate-300 border border-white/10\",\n                                                children: \"Heuristic\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 237,\n                                                columnNumber: 42\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 234,\n                                        columnNumber: 15\n                                    }, this),\n                                    output && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCopyResult,\n                                        className: `px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${copied ? \"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30\" : \"bg-brand-500/20 hover:bg-brand-500/30 text-brand-400 border border-brand-500/30 hover:border-brand-400/50\"}`,\n                                        title: \"Copy result to clipboard\",\n                                        children: copied ? \" Copied!\" : \"\\uD83D\\uDCCB Copy\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 240,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 233,\n                                columnNumber: 13\n                            }, this),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-amber-400\",\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 253,\n                                columnNumber: 23\n                            }, this),\n                            output && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"whitespace-pre-wrap text-sm leading-relaxed text-slate-200\",\n                                children: output\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 254,\n                                columnNumber: 24\n                            }, this),\n                            actions.length > 0 && debug && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-white/5 pt-3 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[10px] uppercase tracking-wide text-slate-500\",\n                                        children: \"Style Rule Actions\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 257,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"flex flex-wrap gap-1 text-[10px]\",\n                                        children: actions.map((a, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"px-2 py-0.5 rounded bg-slate-700/50 border border-white/10 text-slate-300\",\n                                                title: a.meta ? JSON.stringify(a.meta) : \"\",\n                                                children: a.code\n                                            }, i, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 260,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 256,\n                                columnNumber: 15\n                            }, this),\n                            metrics && debug && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-white/5 pt-3 grid gap-1 text-[10px] text-slate-500\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Sentences: \",\n                                            metrics.sentenceCount\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 267,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Avg sentence length: \",\n                                            metrics.avgLength?.toFixed?.(1)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 268,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Std dev: \",\n                                            metrics.stdDev?.toFixed?.(1)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 269,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Unique token ratio: \",\n                                            metrics.uniqueTokenRatio?.toFixed?.(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"AI phrase hits: \",\n                                            metrics.aiPhraseHits\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 271,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Repeated starts ratio: \",\n                                            metrics.repeatedStartsRatio?.toFixed?.(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 272,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 266,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[10px] text-slate-500\",\n                                children: \"Review carefully; ensure meaning fidelity & cite sources. Disclose assistance.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 13\n                            }, this),\n                            diffTokens.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[10px] text-slate-500\",\n                                        children: [\n                                            \"Changed words: \",\n                                            diffStats.changed,\n                                            \"/\",\n                                            diffStats.total,\n                                            \" (\",\n                                            diffStats.total ? Math.round(diffStats.changed / diffStats.total * 100) : 0,\n                                            \"%)\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 278,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs leading-relaxed flex flex-wrap gap-1\",\n                                        children: diffTokens.map((t, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: t.changed ? \"bg-brand-500/25 text-brand-200 rounded px-1 py-0.5\" : \"\",\n                                                children: t.value\n                                            }, i, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 281,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 279,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[10px] text-slate-600\",\n                                        children: \"Highlighted = altered or new tokens (simple lexical diff).\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 284,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                lineNumber: 203,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"lg:col-span-2 space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StyleProfileManager__WEBPACK_IMPORTED_MODULE_6__.StyleProfileManager, {\n                            onSelect: (p)=>setProfile(p)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                            lineNumber: 291,\n                            columnNumber: 42\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5 text-sm space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"font-semibold text-brand-300\",\n                                children: \"Current Style Snapshot\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 293,\n                                columnNumber: 11\n                            }, this),\n                            profile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"text-xs grid gap-1 text-slate-300\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Tone:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 296,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            profile.tone\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 296,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Formality:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 297,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            pct(profile.formality)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Pacing:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 298,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            pct(profile.pacing)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 298,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Descriptiveness:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 299,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            pct(profile.descriptiveness)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Directness:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 300,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            pct(profile.directness)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 300,\n                                        columnNumber: 15\n                                    }, this),\n                                    profile.customLexicon.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Lexicon:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 301,\n                                                columnNumber: 56\n                                            }, this),\n                                            \" \",\n                                            profile.customLexicon.join(\", \")\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 301,\n                                        columnNumber: 52\n                                    }, this),\n                                    profile.notes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Notes:\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 302,\n                                                columnNumber: 37\n                                            }, this),\n                                            \" \",\n                                            profile.notes\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 302,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-slate-400\",\n                                children: \"No profile loaded.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 292,\n                        columnNumber: 9\n                    }, this),\n                    history.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5 space-y-4 text-xs\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"font-semibold text-brand-300 text-sm\",\n                                        children: \"History\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 309,\n                                        columnNumber: 15\n                                    }, this),\n                                    userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDeleteAllHistory,\n                                        className: \"text-[10px] px-2 py-1 rounded bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/30 transition-colors\",\n                                        title: \"Delete all history\",\n                                        children: \"Clear All\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 311,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 308,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[10px] text-slate-500\",\n                                children: [\n                                    userId ? \"Synced to account\" : \"Local only (sign in to sync)\",\n                                    \" \\xb7 Showing \",\n                                    history.length\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 320,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-3 max-h-80 overflow-auto pr-1\",\n                                children: history.map((h)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"border border-white/10 rounded-lg p-3 bg-slate-800/40 space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[10px] text-slate-500\",\n                                                        children: [\n                                                            new Date(h.createdAt).toLocaleTimeString(),\n                                                            \" \",\n                                                            h.usedModel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-1 text-brand-400\",\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                                lineNumber: 325,\n                                                                columnNumber: 127\n                                                            }, this),\n                                                            \" \",\n                                                            h.pending && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-1 text-amber-400\",\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                                lineNumber: 325,\n                                                                columnNumber: 189\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                        lineNumber: 325,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    setInput(h.input);\n                                                                    setOutput(h.output);\n                                                                },\n                                                                className: \"text-[10px] underline text-brand-400 hover:text-brand-300 transition-colors\",\n                                                                children: \"Load\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                                lineNumber: 327,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            userId && !h.localOnly && !h.pending && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>handleDeleteHistoryEntry(h.id),\n                                                                className: \"text-[10px] px-1 py-0.5 rounded bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/30 transition-colors\",\n                                                                title: \"Delete this entry\",\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                                lineNumber: 329,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                        lineNumber: 326,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 324,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid gap-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"line-clamp-3 whitespace-pre-wrap text-slate-400\",\n                                                        children: h.input\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                        lineNumber: 340,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"line-clamp-3 whitespace-pre-wrap text-slate-200 border-l border-brand-500/40 pl-2\",\n                                                        children: h.output\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                        lineNumber: 341,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 339,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    placeholder: \"Add note...\",\n                                                    value: h.note,\n                                                    onChange: (e)=>{\n                                                        const v = e.target.value;\n                                                        setHistory((list)=>list.map((item)=>item.id === h.id ? {\n                                                                    ...item,\n                                                                    note: v\n                                                                } : item));\n                                                    },\n                                                    onBlur: (e)=>{\n                                                        if (userId && !h.pending && !h.localOnly) (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_7__.updateHistoryNote)(h.id, e.target.value);\n                                                    },\n                                                    rows: 2,\n                                                    className: \"w-full bg-slate-900/40 border border-white/10 rounded p-2 text-[11px] resize-none focus:outline-none focus:ring-1 focus:ring-brand-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                    lineNumber: 344,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                                lineNumber: 343,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, h.id, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                        lineNumber: 323,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 307,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-panel p-5 text-xs text-slate-400 space-y-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Prototype uses heuristic lexical & sentence-level rewrites. Swap in a secure API for production. Never misrepresent authorship.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                            lineNumber: 361,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                        lineNumber: 360,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                lineNumber: 290,\n                columnNumber: 7\n            }, this),\n            busy && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__.FullScreenSpinner, {\n                label: \"Generating paraphrase\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                lineNumber: 364,\n                columnNumber: 12\n            }, this),\n            !authChecked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__.FullScreenSpinner, {\n                label: \"Checking authentication\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n                lineNumber: 365,\n                columnNumber: 20\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\paraphrase\\\\page.tsx\",\n        lineNumber: 202,\n        columnNumber: 3\n    }, this);\n}\nfunction pct(v) {\n    return Math.round(v * 100) + \"%\";\n}\n// Simple word-level diff (not Levenshtein; token presence comparison)\nfunction wordDiff(a, b) {\n    const aTokens = a.split(/(\\s+)/); // keep whitespace separators\n    const bTokens = b.split(/(\\s+)/);\n    const aWords = new Set(a.toLowerCase().split(/\\s+/).filter(Boolean));\n    const tokens = bTokens.map((tok)=>{\n        if (/^\\s+$/.test(tok)) return {\n            value: tok,\n            changed: false\n        };\n        const changed = !aWords.has(tok.toLowerCase());\n        return {\n            value: tok,\n            changed\n        };\n    });\n    const total = tokens.filter((t)=>!/^\\s+$/.test(t.value)).length;\n    const changed = tokens.filter((t)=>t.changed).length;\n    return {\n        tokens,\n        total,\n        changed\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVUsQ0FBQzBKLE9BQU9NLEdBQUcsQ0FBQ0YsSUFBSUYsV0FBVztRQUMzQyxPQUFPO1lBQUVqRSxPQUFPbUU7WUFBSzlKO1FBQVE7SUFDL0I7SUFDQSxNQUFNQyxRQUFRaUcsT0FBT3BCLE1BQU0sQ0FBQ3dELENBQUFBLElBQUssQ0FBQyxRQUFReUIsSUFBSSxDQUFDekIsRUFBRTNDLEtBQUssR0FBRzdELE1BQU07SUFDL0QsTUFBTTlCLFVBQVVrRyxPQUFPcEIsTUFBTSxDQUFDd0QsQ0FBQUEsSUFBS0EsRUFBRXRJLE9BQU8sRUFBRThCLE1BQU07SUFDcEQsT0FBTztRQUFFb0U7UUFBUWpHO1FBQU9EO0lBQVE7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXN5bmMvLi9zcmMvYXBwL3BhcmFwaHJhc2UvcGFnZS50c3g/MmNlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IHsgbG9hZFByb2ZpbGUsIHR5cGUgU3R5bGVQcm9maWxlLCBsaXN0UHJvZmlsZXMsIGdldEFjdGl2ZVByb2ZpbGVJZCwgbG9hZFByb2ZpbGVSZW1vdGUsIHVwc2VydFByb2ZpbGVMb2NhbCwgbG9hZFByb2ZpbGVzUmVtb3RlLCBzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlIH0gZnJvbSAnLi4vLi4vbGliL3N0eWxlUHJvZmlsZS50cyc7XHJcbmltcG9ydCB7IHBhcmFwaHJhc2VXaXRoUHJvZmlsZSwgYW5hbHl6ZVNhbXBsZVN0eWxlIH0gZnJvbSAnLi4vLi4vbGliL3BhcmFwaHJhc2UudHMnO1xyXG5pbXBvcnQgeyBGdWxsU2NyZWVuU3Bpbm5lciB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRnVsbFNjcmVlblNwaW5uZXInO1xyXG5pbXBvcnQgeyBTdHlsZVByb2ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TdHlsZVByb2ZpbGVNYW5hZ2VyJztcclxuaW1wb3J0IHsgZmV0Y2hIaXN0b3J5LCBhZGRIaXN0b3J5RW50cnksIHVwZGF0ZUhpc3RvcnlOb3RlLCBkZWxldGVIaXN0b3J5RW50cnksIGRlbGV0ZUFsbEhpc3RvcnksIHR5cGUgUGFyYXBocmFzZUVudHJ5LCBpc1BhcmFwaHJhc2VIaXN0b3J5VGFibGVNaXNzaW5nLCBQQVJBUEhSQVNFX0hJU1RPUllfU1FMIH0gZnJvbSAnLi4vLi4vbGliL3BhcmFwaHJhc2VIaXN0b3J5LnRzJztcclxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi8uLi9saWIvc3VwYWJhc2VDbGllbnQudHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFyYXBocmFzZVBhZ2UoKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGU8U3R5bGVQcm9maWxlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW291dHB1dCwgc2V0T3V0cHV0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbYnVzeSwgc2V0QnVzeV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3VzZU1vZGVsLCBzZXRVc2VNb2RlbF0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbdXNlZE1vZGVsLCBzZXRVc2VkTW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2RpZmZUb2tlbnMsIHNldERpZmZUb2tlbnNdID0gdXNlU3RhdGU8eyB2YWx1ZTogc3RyaW5nOyBjaGFuZ2VkOiBib29sZWFuIH1bXT4oW10pO1xyXG4gIGNvbnN0IFtkaWZmU3RhdHMsIHNldERpZmZTdGF0c10gPSB1c2VTdGF0ZTx7IGNoYW5nZWQ6IG51bWJlcjsgdG90YWw6IG51bWJlciB9Pih7IGNoYW5nZWQ6IDAsIHRvdGFsOiAwIH0pO1xyXG4gIGNvbnN0IFthY3Rpb25zLCBzZXRBY3Rpb25zXSA9IHVzZVN0YXRlPHsgY29kZTogc3RyaW5nOyBtZXRhPzogYW55IH1bXT4oW10pO1xyXG4gIGNvbnN0IFttZXRyaWNzLCBzZXRNZXRyaWNzXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XHJcbiAgY29uc3QgW2RlYnVnLCBzZXREZWJ1Z10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2hpc3RvcnksIHNldEhpc3RvcnldID0gdXNlU3RhdGU8UGFyYXBocmFzZUVudHJ5W10+KFtdKTtcclxuICBjb25zdCBbdXNlcklkLCBzZXRVc2VySWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2F1dGhDaGVja2VkLCBzZXRBdXRoQ2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIGZpcnN0XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoc3VwYWJhc2UpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIHJvdXRlci5wdXNoKCcvYXV0aC9zaWduLWluJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFVzZXJJZCh1c2VyLmlkKTtcclxuICAgICAgICBzZXRBdXRoQ2hlY2tlZCh0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2FkIHVzZXIncyBoaXN0b3J5XHJcbiAgICAgICAgY29uc3QgcmVtb3RlID0gYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XHJcbiAgICAgICAgc2V0SGlzdG9yeShyZW1vdGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE5vIHN1cGFiYXNlIC0gcmVkaXJlY3QgdG8gc2lnbiBpblxyXG4gICAgICAgIHJvdXRlci5wdXNoKCcvYXV0aC9zaWduLWluJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICAvLyBQcmVmZXIgYWN0aXZlIG11bHRpLXByb2ZpbGUgaWYgZXhpc3RzLCBlbHNlIGZhbGxiYWNrIHRvIGxlZ2FjeSBzaW5nbGVcclxuICAgIGNvbnN0IGFjdGl2ZUlkID0gZ2V0QWN0aXZlUHJvZmlsZUlkKCk7XHJcbiAgICBjb25zdCBwcm9maWxlcyA9IGxpc3RQcm9maWxlcygpO1xyXG4gICAgaWYgKGFjdGl2ZUlkKSB7XHJcbiAgICAgIGNvbnN0IGZvdW5kID0gcHJvZmlsZXMuZmluZChwID0+IHAuaWQgPT09IGFjdGl2ZUlkKSB8fCBudWxsO1xyXG4gICAgICBpZiAoZm91bmQpIHsgc2V0UHJvZmlsZShmb3VuZCk7IHJldHVybjsgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgbGVnYWN5ID0gbG9hZFByb2ZpbGUoKTtcclxuICAgIGlmIChsZWdhY3kpIHNldFByb2ZpbGUobGVnYWN5KTtcclxuICB9LCBbcm91dGVyXSk7XHJcblxyXG4gIC8vIFdoZW4gdXNlcklkIGJlY29tZXMgYXZhaWxhYmxlLCBhdHRlbXB0IHRvIGh5ZHJhdGUgYSByZW1vdGUgc3R5bGUgcHJvZmlsZSBpZiBub25lIGxvY2FsbHlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCF1c2VySWQpIHJldHVybjtcclxuICAgICAgY29uc3QgbG9jYWxQcm9maWxlcyA9IGxpc3RQcm9maWxlcygpO1xyXG4gICAgICBpZiAoIXByb2ZpbGUgJiYgbG9jYWxQcm9maWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gTG9hZCBhbGwgcmVtb3RlIHByb2ZpbGVzXHJcbiAgICAgICAgICBjb25zdCByZW1vdGVQcm9maWxlcyA9IGF3YWl0IGxvYWRQcm9maWxlc1JlbW90ZSh1c2VySWQpO1xyXG4gICAgICAgICAgaWYgKHJlbW90ZVByb2ZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZW1vdGVQcm9maWxlcy5mb3JFYWNoKHIgPT4gdXBzZXJ0UHJvZmlsZUxvY2FsKHIpKTtcclxuICAgICAgICAgICAgLy8gY2hvb3NlIG1vc3QgcmVjZW50bHkgdXBkYXRlZCBhcyBhY3RpdmVcclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gWy4uLnJlbW90ZVByb2ZpbGVzXS5zb3J0KChhLGIpPT5iLnVwZGF0ZWRBdCAtIGEudXBkYXRlZEF0KTtcclxuICAgICAgICAgICAgc2V0UHJvZmlsZShzb3J0ZWRbMF0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTm8gcmVtb3RlIHByb2ZpbGVzIGJ1dCBtYXliZSB3ZSBoYXZlIGxvY2FsIChyYXJlKSwgcHVzaCB0aGVtXHJcbiAgICAgICAgICAgIGlmIChsb2NhbFByb2ZpbGVzLmxlbmd0aCkgYXdhaXQgc3luY0xvY2FsUHJvZmlsZXNUb1JlbW90ZSh1c2VySWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggey8qIGlnbm9yZSAqL31cclxuICAgICAgfVxyXG4gICAgICAvLyBBbHdheXMgZW5zdXJlIGhpc3RvcnkgaXMgbG9hZGVkIGFmdGVyIGEgZnJlc2ggbG9naW4gKGluIGNhc2UgaW5pdGlhbCBtb3VudCBoYXBwZW5lZCBwcmUtYXV0aClcclxuICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdHJ5IHsgY29uc3QgZnJlc2ggPSBhd2FpdCBmZXRjaEhpc3RvcnkoKTsgaWYgKGZyZXNoLmxlbmd0aCkgc2V0SGlzdG9yeShmcmVzaCk7IH0gY2F0Y2ggey8qIGlnbm9yZSAqL31cclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgW3VzZXJJZF0pO1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVQYXJhcGhyYXNlKCkge1xyXG4gICAgc2V0QnVzeSh0cnVlKTsgc2V0RXJyb3IobnVsbCk7IHNldFVzZWRNb2RlbChmYWxzZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBBbmFseXplIHNhbXBsZSBzdHlsZSBpZiBhdmFpbGFibGVcclxuICAgICAgbGV0IGVuaGFuY2VkUHJvZmlsZSA9IHByb2ZpbGU7XHJcbiAgICAgIGlmIChwcm9maWxlICYmIHByb2ZpbGUuc2FtcGxlRXhjZXJwdCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlQW5hbHlzaXMgPSBhbmFseXplU2FtcGxlU3R5bGUocHJvZmlsZS5zYW1wbGVFeGNlcnB0KTtcclxuICAgICAgICBlbmhhbmNlZFByb2ZpbGUgPSB7IC4uLnByb2ZpbGUsIHN0eWxlQW5hbHlzaXMgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdGV4dDogaW5wdXQsIHVzZU1vZGVsLCBwcm9maWxlOiBlbmhhbmNlZFByb2ZpbGUsIGRlYnVnIH07XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL3BhcmFwaHJhc2UnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKT0+KHt9KSk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5lcnJvciB8fCAnQVBJIGVycm9yJyk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgc2V0T3V0cHV0KGRhdGEucmVzdWx0IHx8ICcnKTtcclxuICBzZXRBY3Rpb25zKGRhdGEuYWN0aW9ucyB8fCBbXSk7XHJcbiAgc2V0TWV0cmljcyhkYXRhLm1ldHJpY3MgfHwgbnVsbCk7XHJcbiAgc2V0VXNlZE1vZGVsKCEhZGF0YS51c2VkTW9kZWwpO1xyXG4gIC8vIEFwcGVuZCB0byBoaXN0b3J5XHJcbiAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICBjb25zdCBvcHRpbWlzdGljOiBQYXJhcGhyYXNlRW50cnkgPSB7IGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLCB1c2VySWQsIGlucHV0LCBvdXRwdXQ6IGRhdGEucmVzdWx0IHx8ICcnLCBub3RlOiAnJywgdXNlZE1vZGVsOiAhIWRhdGEudXNlZE1vZGVsLCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgcGVuZGluZzogdHJ1ZSB9O1xyXG4gICAgICAgIHNldEhpc3RvcnkoaCA9PiBbb3B0aW1pc3RpYywgLi4uaF0uc2xpY2UoMCw1MCkpO1xyXG4gICAgICAgIC8vIGFzeW5jIHBlcnNpc3RcclxuICAgICAgICBhZGRIaXN0b3J5RW50cnkoeyB1c2VySWQsIGlucHV0LCBvdXRwdXQ6IGRhdGEucmVzdWx0IHx8ICcnLCBub3RlOiAnJywgdXNlZE1vZGVsOiAhIWRhdGEudXNlZE1vZGVsIH0pXHJcbiAgICAgICAgICAudGhlbihzYXZlZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzYXZlZCkgc2V0SGlzdG9yeShoID0+IGgubWFwKGUgPT4gZS5pZCA9PT0gb3B0aW1pc3RpYy5pZCA/IHNhdmVkIDogZSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0SGlzdG9yeShoID0+IFt7IGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLCBpbnB1dCwgb3V0cHV0OiBkYXRhLnJlc3VsdCB8fCAnJywgbm90ZTogJycsIHVzZWRNb2RlbDogISFkYXRhLnVzZWRNb2RlbCwgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIGxvY2FsT25seTogdHJ1ZSB9LCAuLi5oXS5zbGljZSgwLDUwKSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAvLyBGYWxsYmFjayB0byBsb2NhbCBoZXVyaXN0aWNcclxuICAgICAgY29uc3QgZmFsbGJhY2sgPSBwYXJhcGhyYXNlV2l0aFByb2ZpbGUoaW5wdXQsIHByb2ZpbGUgfHwgdW5kZWZpbmVkKTtcclxuICAgICAgc2V0T3V0cHV0KGZhbGxiYWNrKTtcclxuICAgICAgc2V0RXJyb3IoZS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXNlIG1vZGVsLCBzaG93ZWQgaGV1cmlzdGljIHJlc3VsdC4nKTtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIGNvbnN0IG9wdGltaXN0aWM6IFBhcmFwaHJhc2VFbnRyeSA9IHsgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksIHVzZXJJZCwgaW5wdXQsIG91dHB1dDogZmFsbGJhY2ssIG5vdGU6ICcnLCB1c2VkTW9kZWw6IGZhbHNlLCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgcGVuZGluZzogdHJ1ZSB9O1xyXG4gICAgICAgIHNldEhpc3RvcnkoaCA9PiBbb3B0aW1pc3RpYywgLi4uaF0uc2xpY2UoMCw1MCkpO1xyXG4gICAgICAgIGFkZEhpc3RvcnlFbnRyeSh7IHVzZXJJZCwgaW5wdXQsIG91dHB1dDogZmFsbGJhY2ssIG5vdGU6ICcnLCB1c2VkTW9kZWw6IGZhbHNlIH0pXHJcbiAgICAgICAgICAudGhlbihzYXZlZCA9PiB7IGlmIChzYXZlZCkgc2V0SGlzdG9yeShoID0+IGgubWFwKGUgPT4gZS5pZCA9PT0gb3B0aW1pc3RpYy5pZCA/IHNhdmVkIDogZSkpOyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRIaXN0b3J5KGggPT4gW3sgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksIGlucHV0LCBvdXRwdXQ6IGZhbGxiYWNrLCBub3RlOiAnJywgdXNlZE1vZGVsOiBmYWxzZSwgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIGxvY2FsT25seTogdHJ1ZSB9LCAuLi5oXS5zbGljZSgwLDUwKSk7XHJcbiAgICAgIH1cclxuICAgIH0gZmluYWxseSB7IHNldEJ1c3koZmFsc2UpOyB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGVIaXN0b3J5RW50cnkoaWQ6IHN0cmluZykge1xyXG4gICAgaWYgKCF1c2VySWQpIHJldHVybjsgLy8gT25seSBmb3IgYXV0aGVudGljYXRlZCB1c2Vyc1xyXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgcmVtb3ZlIGZyb20gVUlcclxuICAgIHNldEhpc3RvcnkoaCA9PiBoLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGlkKSk7XHJcbiAgICAvLyBEZWxldGUgZnJvbSBkYXRhYmFzZVxyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGRlbGV0ZUhpc3RvcnlFbnRyeShpZCk7XHJcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcclxuICAgICAgLy8gSWYgZGVsZXRlIGZhaWxlZCwgcmVsb2FkIGhpc3RvcnkgdG8gcmVzdG9yZSB0aGUgaXRlbVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGZyZXNoID0gYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XHJcbiAgICAgICAgc2V0SGlzdG9yeShmcmVzaCk7XHJcbiAgICAgIH0gY2F0Y2ggey8qIGlnbm9yZSAqL31cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUFsbEhpc3RvcnkoKSB7XHJcbiAgICBpZiAoIXVzZXJJZCB8fCAhY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgaGlzdG9yeT8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLicpKSByZXR1cm47XHJcbiAgICAvLyBPcHRpbWlzdGljYWxseSBjbGVhciBVSVxyXG4gICAgc2V0SGlzdG9yeShbXSk7XHJcbiAgICAvLyBEZWxldGUgZnJvbSBkYXRhYmFzZVxyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGRlbGV0ZUFsbEhpc3RvcnkoKTtcclxuICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICAvLyBJZiBkZWxldGUgZmFpbGVkLCByZWxvYWQgaGlzdG9yeSB0byByZXN0b3JlXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZnJlc2ggPSBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcclxuICAgICAgICBzZXRIaXN0b3J5KGZyZXNoKTtcclxuICAgICAgfSBjYXRjaCB7LyogaWdub3JlICovfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29weVJlc3VsdCgpIHtcclxuICAgIGlmICghb3V0cHV0KSByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChvdXRwdXQpO1xyXG4gICAgICBzZXRDb3BpZWQodHJ1ZSk7XHJcbiAgICAgIC8vIFJlc2V0IGZlZWRiYWNrIGFmdGVyIDIgc2Vjb25kc1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDIwMDApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIC8vIEZhbGxiYWNrIGZvciBvbGRlciBicm93c2Vyc1xyXG4gICAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgIHRleHRBcmVhLnZhbHVlID0gb3V0cHV0O1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcclxuICAgICAgdGV4dEFyZWEuc2VsZWN0KCk7XHJcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xyXG4gICAgICBzZXRDb3BpZWQodHJ1ZSk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q29waWVkKGZhbHNlKSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFvdXRwdXQgfHwgIWlucHV0KSB7IHNldERpZmZUb2tlbnMoW10pOyBzZXREaWZmU3RhdHMoeyBjaGFuZ2VkOiAwLCB0b3RhbDogMCB9KTsgcmV0dXJuOyB9XHJcbiAgICBjb25zdCBkaWZmID0gd29yZERpZmYoaW5wdXQsIG91dHB1dCk7XHJcbiAgICBzZXREaWZmVG9rZW5zKGRpZmYudG9rZW5zKTtcclxuICAgIHNldERpZmZTdGF0cyh7IGNoYW5nZWQ6IGRpZmYuY2hhbmdlZCwgdG90YWw6IGRpZmYudG90YWwgfSk7XHJcbiAgfSwgW291dHB1dCwgaW5wdXRdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTEwIGxnOmdyaWQtY29scy01XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMyBzcGFjZS15LTZcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLXBhbmVsIHAtNSBzcGFjZS15LTRcIj5cclxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkXCI+UGFyYXBocmFzZTwvaDE+XHJcbiAgICAgICAgICB7aXNQYXJhcGhyYXNlSGlzdG9yeVRhYmxlTWlzc2luZygpICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBib3JkZXItYW1iZXItNTAwLzMwIGJnLWFtYmVyLTUwMC8xMCBwLTMgdGV4dC14cyB0ZXh0LWFtYmVyLTMwMCBzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+SGlzdG9yeSB0YWJsZSBub3QgZm91bmQgaW4gU3VwYWJhc2UuPC9wPlxyXG4gICAgICAgICAgICAgIDxwPlJ1biB0aGUgZm9sbG93aW5nIFNRTCBpbiB5b3VyIFN1cGFiYXNlIHByb2plY3QgKFNRTCBlZGl0b3IpIHRvIGNyZWF0ZSBpdDo8L3A+XHJcbiAgICAgICAgICAgICAgPGRldGFpbHMgY2xhc3NOYW1lPVwic2VsZWN0LXRleHRcIj5cclxuICAgICAgICAgICAgICAgIDxzdW1tYXJ5IGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIHVuZGVybGluZVwiPlNob3cgU1FMPC9zdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJtdC0yIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1bMTBweF0gbGVhZGluZy1zbnVnIG1heC1oLTU2IG92ZXJmbG93LWF1dG9cIj57UEFSQVBIUkFTRV9ISVNUT1JZX1NRTH08L3ByZT5cclxuICAgICAgICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHshcHJvZmlsZSAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYW1iZXItNDAwXCI+Tm8gc3R5bGUgcHJvZmlsZSBmb3VuZC4gQ3JlYXRlIG9uZSBmb3IgYmV0dGVyIGFsaWdubWVudC48L3A+fVxyXG4gICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtpbnB1dH0gb25DaGFuZ2U9e2UgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlBhc3RlIHRleHQgdG8gcGFyYXBocmFzZS4uLlwiIHJvd3M9ezEwfSBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBiZy1zbGF0ZS04MDAvNjAgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBweC0zIHB5LTIgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYnJhbmQtNTAwXCIgLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTQgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlUGFyYXBocmFzZX0gZGlzYWJsZWQ9eyFpbnB1dC50cmltKCkgfHwgYnVzeX0gY2xhc3NOYW1lPVwicHgtNSBweS0yIHJvdW5kZWQtbGcgYmctYnJhbmQtNTAwIGhvdmVyOmJnLWJyYW5kLTQwMCB0ZXh0LXNsYXRlLTkwMCBmb250LXNlbWlib2xkIGRpc2FibGVkOm9wYWNpdHktNDAgdHJhbnNpdGlvbiBtaW4tdy1bMTQwcHhdXCI+e2J1c3kgPyAnUHJvY2Vzc2luZ+KApicgOiAnUGFyYXBocmFzZSd9PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRJbnB1dCgnJyk7IHNldE91dHB1dCgnJyk7IHNldEVycm9yKG51bGwpOyBzZXRVc2VkTW9kZWwoZmFsc2UpOyB9fSBjbGFzc05hbWU9XCJweC01IHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGhvdmVyOmJvcmRlci1icmFuZC00MDAvNjAgdGV4dC1zbGF0ZS0yMDAgdGV4dC1zbVwiPlJlc2V0PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtc2xhdGUtMzAwIHNlbGVjdC1ub25lXCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzTmFtZT1cImFjY2VudC1icmFuZC01MDBcIiBjaGVja2VkPXt1c2VNb2RlbH0gb25DaGFuZ2U9e2U9PnNldFVzZU1vZGVsKGUudGFyZ2V0LmNoZWNrZWQpfSAvPlxyXG4gICAgICAgICAgICAgIFVzZSBtb2RlbCAoR3JvcSlcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1zbGF0ZS01MDAgc2VsZWN0LW5vbmVcIj5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3NOYW1lPVwiYWNjZW50LWJyYW5kLTUwMFwiIGNoZWNrZWQ9e2RlYnVnfSBvbkNoYW5nZT17ZT0+c2V0RGVidWcoZS50YXJnZXQuY2hlY2tlZCl9IC8+XHJcbiAgICAgICAgICAgICAgRGVidWdcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHsoZXJyb3IgfHwgb3V0cHV0KSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLXBhbmVsIHAtNSBzcGFjZS15LTNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJyYW5kLTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgUmVzdWx0IFxyXG4gICAgICAgICAgICAgICAge3VzZWRNb2RlbCAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBweC0yIHB5LTAuNSByb3VuZGVkIGJnLWJyYW5kLTUwMC8yMCB0ZXh0LWJyYW5kLTMwMCBib3JkZXIgYm9yZGVyLWJyYW5kLTUwMC8zMFwiPk1vZGVsPC9zcGFuPn0gXHJcbiAgICAgICAgICAgICAgICB7IXVzZWRNb2RlbCAmJiBvdXRwdXQgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gcHgtMiBweS0wLjUgcm91bmRlZCBiZy1zbGF0ZS01MDAvMjAgdGV4dC1zbGF0ZS0zMDAgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPkhldXJpc3RpYzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgPC9oMj5cclxuICAgICAgICAgICAgICB7b3V0cHV0ICYmIChcclxuICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvcHlSZXN1bHR9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMS41IHJvdW5kZWQtbGcgdGV4dC14cyBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCAke1xyXG4gICAgICAgICAgICAgICAgICAgIGNvcGllZCBcclxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAwLzIwIHRleHQtZW1lcmFsZC00MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTUwMC8zMCcgXHJcbiAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1icmFuZC01MDAvMjAgaG92ZXI6YmctYnJhbmQtNTAwLzMwIHRleHQtYnJhbmQtNDAwIGJvcmRlciBib3JkZXItYnJhbmQtNTAwLzMwIGhvdmVyOmJvcmRlci1icmFuZC00MDAvNTAnXHJcbiAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkNvcHkgcmVzdWx0IHRvIGNsaXBib2FyZFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHtjb3BpZWQgPyAn4pyTIENvcGllZCEnIDogJ/Cfk4sgQ29weSd9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge2Vycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1hbWJlci00MDBcIj57ZXJyb3J9PC9wPn1cclxuICAgICAgICAgICAge291dHB1dCAmJiA8cCBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtc2xhdGUtMjAwXCI+e291dHB1dH08L3A+fVxyXG4gICAgICAgICAgICB7YWN0aW9ucy5sZW5ndGggPiAwICYmIGRlYnVnICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzUgcHQtMyBzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDBcIj5TdHlsZSBSdWxlIEFjdGlvbnM8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMSB0ZXh0LVsxMHB4XVwiPlxyXG4gICAgICAgICAgICAgICAgICB7YWN0aW9ucy5tYXAoKGEsaSk9PihcclxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpfSBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSByb3VuZGVkIGJnLXNsYXRlLTcwMC81MCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHRleHQtc2xhdGUtMzAwXCIgdGl0bGU9e2EubWV0YT9KU09OLnN0cmluZ2lmeShhLm1ldGEpOicnfT57YS5jb2RlfTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAge21ldHJpY3MgJiYgZGVidWcgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBib3JkZXItdCBib3JkZXItd2hpdGUvNSBwdC0zIGdyaWQgZ2FwLTEgdGV4dC1bMTBweF0gdGV4dC1zbGF0ZS01MDBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+U2VudGVuY2VzOiB7bWV0cmljcy5zZW50ZW5jZUNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5Bdmcgc2VudGVuY2UgbGVuZ3RoOiB7bWV0cmljcy5hdmdMZW5ndGg/LnRvRml4ZWQ/LigxKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+U3RkIGRldjoge21ldHJpY3Muc3RkRGV2Py50b0ZpeGVkPy4oMSl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlVuaXF1ZSB0b2tlbiByYXRpbzoge21ldHJpY3MudW5pcXVlVG9rZW5SYXRpbz8udG9GaXhlZD8uKDIpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5BSSBwaHJhc2UgaGl0czoge21ldHJpY3MuYWlQaHJhc2VIaXRzfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5SZXBlYXRlZCBzdGFydHMgcmF0aW86IHttZXRyaWNzLnJlcGVhdGVkU3RhcnRzUmF0aW8/LnRvRml4ZWQ/LigyKX08L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1zbGF0ZS01MDBcIj5SZXZpZXcgY2FyZWZ1bGx5OyBlbnN1cmUgbWVhbmluZyBmaWRlbGl0eSAmIGNpdGUgc291cmNlcy4gRGlzY2xvc2UgYXNzaXN0YW5jZS48L3A+XHJcbiAgICAgICAgICAgIHtkaWZmVG9rZW5zLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1zbGF0ZS01MDBcIj5DaGFuZ2VkIHdvcmRzOiB7ZGlmZlN0YXRzLmNoYW5nZWR9L3tkaWZmU3RhdHMudG90YWx9ICh7ZGlmZlN0YXRzLnRvdGFsID8gTWF0aC5yb3VuZChkaWZmU3RhdHMuY2hhbmdlZCAvIGRpZmZTdGF0cy50b3RhbCAqIDEwMCkgOiAwfSUpPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbGVhZGluZy1yZWxheGVkIGZsZXggZmxleC13cmFwIGdhcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtkaWZmVG9rZW5zLm1hcCgodCwgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aX0gY2xhc3NOYW1lPXt0LmNoYW5nZWQgPyAnYmctYnJhbmQtNTAwLzI1IHRleHQtYnJhbmQtMjAwIHJvdW5kZWQgcHgtMSBweS0wLjUnIDogJyd9Pnt0LnZhbHVlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1zbGF0ZS02MDBcIj5IaWdobGlnaHRlZCA9IGFsdGVyZWQgb3IgbmV3IHRva2VucyAoc2ltcGxlIGxleGljYWwgZGlmZikuPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTIgc3BhY2UteS02XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1wYW5lbCBwLTVcIj48U3R5bGVQcm9maWxlTWFuYWdlciBvblNlbGVjdD17cCA9PiBzZXRQcm9maWxlKHApfSAvPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtcGFuZWwgcC01IHRleHQtc20gc3BhY2UteS0yXCI+XHJcbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJyYW5kLTMwMFwiPkN1cnJlbnQgU3R5bGUgU25hcHNob3Q8L2gyPlxyXG4gICAgICAgICAge3Byb2ZpbGUgPyAoXHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGdyaWQgZ2FwLTEgdGV4dC1zbGF0ZS0zMDBcIj5cclxuICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5Ub25lOjwvc3Ryb25nPiB7cHJvZmlsZS50b25lfTwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+Rm9ybWFsaXR5Ojwvc3Ryb25nPiB7cGN0KHByb2ZpbGUuZm9ybWFsaXR5KX08L2xpPlxyXG4gICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBhY2luZzo8L3N0cm9uZz4ge3BjdChwcm9maWxlLnBhY2luZyl9PC9saT5cclxuICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5EZXNjcmlwdGl2ZW5lc3M6PC9zdHJvbmc+IHtwY3QocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MpfTwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+RGlyZWN0bmVzczo8L3N0cm9uZz4ge3BjdChwcm9maWxlLmRpcmVjdG5lc3MpfTwvbGk+XHJcbiAgICAgICAgICAgICAge3Byb2ZpbGUuY3VzdG9tTGV4aWNvbi5sZW5ndGggPiAwICYmIDxsaT48c3Ryb25nPkxleGljb246PC9zdHJvbmc+IHtwcm9maWxlLmN1c3RvbUxleGljb24uam9pbignLCAnKX08L2xpPn1cclxuICAgICAgICAgICAgICB7cHJvZmlsZS5ub3RlcyAmJiA8bGk+PHN0cm9uZz5Ob3Rlczo8L3N0cm9uZz4ge3Byb2ZpbGUubm90ZXN9PC9saT59XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICApIDogPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMFwiPk5vIHByb2ZpbGUgbG9hZGVkLjwvcD59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge2hpc3RvcnkubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLXBhbmVsIHAtNSBzcGFjZS15LTQgdGV4dC14c1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYnJhbmQtMzAwIHRleHQtc21cIj5IaXN0b3J5PC9oMj5cclxuICAgICAgICAgICAgICB7dXNlcklkICYmIChcclxuICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZUFsbEhpc3Rvcnl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHB4LTIgcHktMSByb3VuZGVkIGJnLXJlZC01MDAvMjAgaG92ZXI6YmctcmVkLTUwMC8zMCB0ZXh0LXJlZC00MDAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzMwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgYWxsIGhpc3RvcnlcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICBDbGVhciBBbGxcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXNsYXRlLTUwMFwiPnt1c2VySWQgPyAnU3luY2VkIHRvIGFjY291bnQnIDogJ0xvY2FsIG9ubHkgKHNpZ24gaW4gdG8gc3luYyknfSDCtyBTaG93aW5nIHtoaXN0b3J5Lmxlbmd0aH08L3A+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTMgbWF4LWgtODAgb3ZlcmZsb3ctYXV0byBwci0xXCI+XHJcbiAgICAgICAgICAgICAge2hpc3RvcnkubWFwKGggPT4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT17aC5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci13aGl0ZS8xMCByb3VuZGVkLWxnIHAtMyBiZy1zbGF0ZS04MDAvNDAgc3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1zbGF0ZS01MDBcIj57bmV3IERhdGUoaC5jcmVhdGVkQXQpLnRvTG9jYWxlVGltZVN0cmluZygpfSB7aC51c2VkTW9kZWwgJiYgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LWJyYW5kLTQwMFwiPuKXjzwvc3Bhbj59IHtoLnBlbmRpbmcgJiYgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LWFtYmVyLTQwMFwiPuKApjwvc3Bhbj59PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRJbnB1dChoLmlucHV0KTsgc2V0T3V0cHV0KGgub3V0cHV0KTsgfX0gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdW5kZXJsaW5lIHRleHQtYnJhbmQtNDAwIGhvdmVyOnRleHQtYnJhbmQtMzAwIHRyYW5zaXRpb24tY29sb3JzXCI+TG9hZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3VzZXJJZCAmJiAhaC5sb2NhbE9ubHkgJiYgIWgucGVuZGluZyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlSGlzdG9yeUVudHJ5KGguaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHB4LTEgcHktMC41IHJvdW5kZWQgYmctcmVkLTUwMC8yMCBob3ZlcjpiZy1yZWQtNTAwLzMwIHRleHQtcmVkLTQwMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMzAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlIHRoaXMgZW50cnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAg4pyVXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluZS1jbGFtcC0zIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1zbGF0ZS00MDBcIj57aC5pbnB1dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmUtY2xhbXAtMyB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQtc2xhdGUtMjAwIGJvcmRlci1sIGJvcmRlci1icmFuZC01MDAvNDAgcGwtMlwiPntoLm91dHB1dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCBub3RlLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtoLm5vdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBlLnRhcmdldC52YWx1ZTsgc2V0SGlzdG9yeShsaXN0ID0+IGxpc3QubWFwKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaC5pZCA/IHsgLi4uaXRlbSwgbm90ZTogdiB9IDogaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17ZSA9PiB7IGlmICh1c2VySWQgJiYgIWgucGVuZGluZyAmJiAhaC5sb2NhbE9ubHkpIHVwZGF0ZUhpc3RvcnlOb3RlKGguaWQsIGUudGFyZ2V0LnZhbHVlKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctc2xhdGUtOTAwLzQwIGJvcmRlciBib3JkZXItd2hpdGUvMTAgcm91bmRlZCBwLTIgdGV4dC1bMTFweF0gcmVzaXplLW5vbmUgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWJyYW5kLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLXBhbmVsIHAtNSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIHNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgPHA+UHJvdG90eXBlIHVzZXMgaGV1cmlzdGljIGxleGljYWwgJiBzZW50ZW5jZS1sZXZlbCByZXdyaXRlcy4gU3dhcCBpbiBhIHNlY3VyZSBBUEkgZm9yIHByb2R1Y3Rpb24uIE5ldmVyIG1pc3JlcHJlc2VudCBhdXRob3JzaGlwLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9hc2lkZT5cclxuICB7YnVzeSAmJiA8RnVsbFNjcmVlblNwaW5uZXIgbGFiZWw9XCJHZW5lcmF0aW5nIHBhcmFwaHJhc2VcIiAvPn1cclxuICB7IWF1dGhDaGVja2VkICYmIDxGdWxsU2NyZWVuU3Bpbm5lciBsYWJlbD1cIkNoZWNraW5nIGF1dGhlbnRpY2F0aW9uXCIgLz59XHJcbiAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGN0KHY6IG51bWJlcikgeyByZXR1cm4gTWF0aC5yb3VuZCh2ICogMTAwKSArICclJzsgfVxyXG5cclxuLy8gU2ltcGxlIHdvcmQtbGV2ZWwgZGlmZiAobm90IExldmVuc2h0ZWluOyB0b2tlbiBwcmVzZW5jZSBjb21wYXJpc29uKVxyXG5mdW5jdGlvbiB3b3JkRGlmZihhOiBzdHJpbmcsIGI6IHN0cmluZykge1xyXG4gIGNvbnN0IGFUb2tlbnMgPSBhLnNwbGl0KC8oXFxzKykvKTsgLy8ga2VlcCB3aGl0ZXNwYWNlIHNlcGFyYXRvcnNcclxuICBjb25zdCBiVG9rZW5zID0gYi5zcGxpdCgvKFxccyspLyk7XHJcbiAgY29uc3QgYVdvcmRzID0gbmV3IFNldChhLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikpO1xyXG4gIGNvbnN0IHRva2VucyA9IGJUb2tlbnMubWFwKHRvayA9PiB7XHJcbiAgICBpZiAoL15cXHMrJC8udGVzdCh0b2spKSByZXR1cm4geyB2YWx1ZTogdG9rLCBjaGFuZ2VkOiBmYWxzZSB9O1xyXG4gICAgY29uc3QgY2hhbmdlZCA9ICFhV29yZHMuaGFzKHRvay50b0xvd2VyQ2FzZSgpKTtcclxuICAgIHJldHVybiB7IHZhbHVlOiB0b2ssIGNoYW5nZWQgfTtcclxuICB9KTtcclxuICBjb25zdCB0b3RhbCA9IHRva2Vucy5maWx0ZXIodCA9PiAhL15cXHMrJC8udGVzdCh0LnZhbHVlKSkubGVuZ3RoO1xyXG4gIGNvbnN0IGNoYW5nZWQgPSB0b2tlbnMuZmlsdGVyKHQgPT4gdC5jaGFuZ2VkKS5sZW5ndGg7XHJcbiAgcmV0dXJuIHsgdG9rZW5zLCB0b3RhbCwgY2hhbmdlZCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsImxvYWRQcm9maWxlIiwibGlzdFByb2ZpbGVzIiwiZ2V0QWN0aXZlUHJvZmlsZUlkIiwidXBzZXJ0UHJvZmlsZUxvY2FsIiwibG9hZFByb2ZpbGVzUmVtb3RlIiwic3luY0xvY2FsUHJvZmlsZXNUb1JlbW90ZSIsInBhcmFwaHJhc2VXaXRoUHJvZmlsZSIsImFuYWx5emVTYW1wbGVTdHlsZSIsIkZ1bGxTY3JlZW5TcGlubmVyIiwiU3R5bGVQcm9maWxlTWFuYWdlciIsImZldGNoSGlzdG9yeSIsImFkZEhpc3RvcnlFbnRyeSIsInVwZGF0ZUhpc3RvcnlOb3RlIiwiZGVsZXRlSGlzdG9yeUVudHJ5IiwiZGVsZXRlQWxsSGlzdG9yeSIsImlzUGFyYXBocmFzZUhpc3RvcnlUYWJsZU1pc3NpbmciLCJQQVJBUEhSQVNFX0hJU1RPUllfU1FMIiwic3VwYWJhc2UiLCJQYXJhcGhyYXNlUGFnZSIsInJvdXRlciIsInByb2ZpbGUiLCJzZXRQcm9maWxlIiwiaW5wdXQiLCJzZXRJbnB1dCIsIm91dHB1dCIsInNldE91dHB1dCIsImJ1c3kiLCJzZXRCdXN5IiwidXNlTW9kZWwiLCJzZXRVc2VNb2RlbCIsInVzZWRNb2RlbCIsInNldFVzZWRNb2RlbCIsImVycm9yIiwic2V0RXJyb3IiLCJkaWZmVG9rZW5zIiwic2V0RGlmZlRva2VucyIsImRpZmZTdGF0cyIsInNldERpZmZTdGF0cyIsImNoYW5nZWQiLCJ0b3RhbCIsImFjdGlvbnMiLCJzZXRBY3Rpb25zIiwibWV0cmljcyIsInNldE1ldHJpY3MiLCJkZWJ1ZyIsInNldERlYnVnIiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJ1c2VySWQiLCJzZXRVc2VySWQiLCJhdXRoQ2hlY2tlZCIsInNldEF1dGhDaGVja2VkIiwiY29waWVkIiwic2V0Q29waWVkIiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsInB1c2giLCJpZCIsInJlbW90ZSIsImFjdGl2ZUlkIiwicHJvZmlsZXMiLCJmb3VuZCIsImZpbmQiLCJwIiwibGVnYWN5IiwibG9jYWxQcm9maWxlcyIsImxlbmd0aCIsInJlbW90ZVByb2ZpbGVzIiwiZm9yRWFjaCIsInIiLCJzb3J0ZWQiLCJzb3J0IiwiYSIsImIiLCJ1cGRhdGVkQXQiLCJmcmVzaCIsImhhbmRsZVBhcmFwaHJhc2UiLCJlbmhhbmNlZFByb2ZpbGUiLCJzYW1wbGVFeGNlcnB0Iiwic3R5bGVBbmFseXNpcyIsInBheWxvYWQiLCJ0ZXh0IiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImVyciIsImpzb24iLCJjYXRjaCIsIkVycm9yIiwicmVzdWx0Iiwib3B0aW1pc3RpYyIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJub3RlIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGVuZGluZyIsImgiLCJzbGljZSIsInRoZW4iLCJzYXZlZCIsIm1hcCIsImUiLCJsb2NhbE9ubHkiLCJmYWxsYmFjayIsInVuZGVmaW5lZCIsIm1lc3NhZ2UiLCJoYW5kbGVEZWxldGVIaXN0b3J5RW50cnkiLCJmaWx0ZXIiLCJpdGVtIiwic3VjY2VzcyIsImhhbmRsZURlbGV0ZUFsbEhpc3RvcnkiLCJjb25maXJtIiwiaGFuZGxlQ29weVJlc3VsdCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJ0ZXh0QXJlYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsInJlbW92ZUNoaWxkIiwiZGlmZiIsIndvcmREaWZmIiwidG9rZW5zIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJkZXRhaWxzIiwic3VtbWFyeSIsInByZSIsInRleHRhcmVhIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0cmltIiwibGFiZWwiLCJ0eXBlIiwiY2hlY2tlZCIsImgyIiwic3BhbiIsInRpdGxlIiwidWwiLCJpIiwibGkiLCJtZXRhIiwiY29kZSIsInNlbnRlbmNlQ291bnQiLCJhdmdMZW5ndGgiLCJ0b0ZpeGVkIiwic3RkRGV2IiwidW5pcXVlVG9rZW5SYXRpbyIsImFpUGhyYXNlSGl0cyIsInJlcGVhdGVkU3RhcnRzUmF0aW8iLCJNYXRoIiwicm91bmQiLCJ0IiwiYXNpZGUiLCJvblNlbGVjdCIsInN0cm9uZyIsInRvbmUiLCJwY3QiLCJmb3JtYWxpdHkiLCJwYWNpbmciLCJkZXNjcmlwdGl2ZW5lc3MiLCJkaXJlY3RuZXNzIiwiY3VzdG9tTGV4aWNvbiIsImpvaW4iLCJub3RlcyIsInRvTG9jYWxlVGltZVN0cmluZyIsInYiLCJsaXN0Iiwib25CbHVyIiwiYVRva2VucyIsInNwbGl0IiwiYlRva2VucyIsImFXb3JkcyIsIlNldCIsInRvTG93ZXJDYXNlIiwiQm9vbGVhbiIsInRvayIsInRlc3QiLCJoYXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/paraphrase/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AuthStatus.tsx":
/*!***************************************!*\
  !*** ./src/components/AuthStatus.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthStatus: () => (/* binding */ AuthStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\");\n/* harmony import */ var _lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/styleProfile.ts */ \"(ssr)/./src/lib/styleProfile.ts\");\n/* harmony import */ var _lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/paraphraseHistory.ts */ \"(ssr)/./src/lib/paraphraseHistory.ts\");\n/* harmony import */ var _FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FullScreenSpinner */ \"(ssr)/./src/components/FullScreenSpinner.tsx\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* __next_internal_client_entry_do_not_use__ AuthStatus auto */ \n\n\n\n\n\n\nfunction AuthStatus() {\n    // Stable placeholder so initial server & client HTML match.\n    const [ready, setReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [transitioning, setTransitioning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let unsub;\n        const prevEmailRef = {\n            current: email\n        };\n        const initialHydratedRef = {\n            current: false\n        };\n        if (_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n            _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.getUser().then(({ data })=>{\n                const existing = data.user?.email ?? null;\n                setEmail(existing);\n                prevEmailRef.current = existing; // establish baseline so first listener event doesn't trigger reload\n                initialHydratedRef.current = true;\n                setReady(true);\n            });\n            const { data: listener } = _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange((event, session)=>{\n                const nextEmail = session?.user?.email ?? null;\n                const prev = prevEmailRef.current;\n                const changed = prev !== nextEmail;\n                if (changed) {\n                    setTransitioning(true);\n                    prevEmailRef.current = nextEmail;\n                    setEmail(nextEmail);\n                }\n                if (event === \"SIGNED_OUT\" || !nextEmail && prev) {\n                    (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.clearProfile)();\n                    try {\n                        localStorage.removeItem(\"stylesync.profiles.v1\");\n                    } catch  {}\n                    try {\n                        localStorage.removeItem(\"stylesync.profiles.activeId\");\n                    } catch  {}\n                    try {\n                        (0,_lib_paraphraseHistory_ts__WEBPACK_IMPORTED_MODULE_4__.clearLocalParaphraseHistory)();\n                    } catch  {}\n                }\n                if (changed) {\n                    // Avoid reload loop on sign-in page itself\n                    const path =  false ? 0 : \"\";\n                    const isInitialSignedIn = !initialHydratedRef.current || !prev && nextEmail;\n                    // Only reload on real transitions (not initial hydration where user already signed in)\n                    if (path !== \"/auth/sign-in\" && !isInitialSignedIn) {\n                        setTimeout(()=>{\n                            if (false) {}\n                        }, 40);\n                    } else {\n                        // Stop spinner after short delay on sign-in page\n                        setTimeout(()=>setTransitioning(false), 400);\n                    }\n                    initialHydratedRef.current = true;\n                } else if (transitioning) {\n                    // Stop spinner if nothing changed\n                    setTimeout(()=>setTransitioning(false), 300);\n                }\n            });\n            unsub = ()=>listener.subscription.unsubscribe();\n        } else {\n            setReady(true);\n        }\n        return ()=>{\n            unsub?.();\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []); // run once\n    if (!ready) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__.FullScreenSpinner, {\n            label: \"Checking session\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n            lineNumber: 68,\n            columnNumber: 12\n        }, this);\n    }\n    if (!_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__.supabase || !email) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    href: \"/auth/sign-in\",\n                    className: \"px-4 py-2 rounded-lg bg-brand-500/90 hover:bg-brand-400 text-slate-900 font-semibold transition\",\n                    children: \"Sign In\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 7\n                }, this),\n                transitioning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__.FullScreenSpinner, {\n                    label: \"Refreshing session\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                    lineNumber: 74,\n                    columnNumber: 25\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2 text-xs\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-slate-300\",\n                        suppressHydrationWarning: true,\n                        children: email\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                        lineNumber: 80,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_2__.supabase?.auth.signOut(),\n                        className: \"text-slate-400 hover:text-white\",\n                        children: \"Sign out\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                        lineNumber: 81,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                lineNumber: 79,\n                columnNumber: 5\n            }, this),\n            transitioning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FullScreenSpinner__WEBPACK_IMPORTED_MODULE_5__.FullScreenSpinner, {\n                label: \"Refreshing session\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\AuthStatus.tsx\",\n                lineNumber: 83,\n                columnNumber: 23\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVTs4QkFBa0c7Ozs7OztnQkFDdEloQywrQkFBaUIsOERBQUNQLGlFQUFpQkE7b0JBQUNxQyxPQUFNOzs7Ozs7OztJQUUvQztJQUVBLHFCQUFPOzswQkFDTCw4REFBQ0c7Z0JBQUlELFdBQVU7O2tDQUNiLDhEQUFDRTt3QkFBS0YsV0FBVTt3QkFBaUJHLHdCQUF3QjtrQ0FBRXJDOzs7Ozs7a0NBQzNELDhEQUFDc0M7d0JBQU9DLFNBQVMsSUFBTS9DLDREQUFRQSxFQUFFZ0IsS0FBS2dDO3dCQUFXTixXQUFVO2tDQUFrQzs7Ozs7Ozs7Ozs7O1lBRTlGaEMsK0JBQWlCLDhEQUFDUCxpRUFBaUJBO2dCQUFDcUMsT0FBTTs7Ozs7Ozs7QUFFL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXN5bmMvLi9zcmMvY29tcG9uZW50cy9BdXRoU3RhdHVzLnRzeD9jZmVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlQ2xpZW50LnRzJztcclxuaW1wb3J0IHsgY2xlYXJQcm9maWxlIH0gZnJvbSAnLi4vbGliL3N0eWxlUHJvZmlsZS50cyc7XHJcbmltcG9ydCB7IGNsZWFyTG9jYWxQYXJhcGhyYXNlSGlzdG9yeSB9IGZyb20gJy4uL2xpYi9wYXJhcGhyYXNlSGlzdG9yeS50cyc7XHJcbmltcG9ydCB7IEZ1bGxTY3JlZW5TcGlubmVyIH0gZnJvbSAnLi9GdWxsU2NyZWVuU3Bpbm5lcic7XHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXV0aFN0YXR1cygpIHtcclxuICAvLyBTdGFibGUgcGxhY2Vob2xkZXIgc28gaW5pdGlhbCBzZXJ2ZXIgJiBjbGllbnQgSFRNTCBtYXRjaC5cclxuICBjb25zdCBbcmVhZHksIHNldFJlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt0cmFuc2l0aW9uaW5nLCBzZXRUcmFuc2l0aW9uaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCB1bnN1YjogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgcHJldkVtYWlsUmVmID0geyBjdXJyZW50OiBlbWFpbCB9IGFzIHsgY3VycmVudDogc3RyaW5nIHwgbnVsbCB9O1xyXG4gICAgY29uc3QgaW5pdGlhbEh5ZHJhdGVkUmVmID0geyBjdXJyZW50OiBmYWxzZSB9O1xyXG4gICAgaWYgKHN1cGFiYXNlKSB7XHJcbiAgICAgIHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpLnRoZW4oKHsgZGF0YSB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBkYXRhLnVzZXI/LmVtYWlsID8/IG51bGw7XHJcbiAgICAgICAgc2V0RW1haWwoZXhpc3RpbmcpO1xyXG4gICAgICAgIHByZXZFbWFpbFJlZi5jdXJyZW50ID0gZXhpc3Rpbmc7IC8vIGVzdGFibGlzaCBiYXNlbGluZSBzbyBmaXJzdCBsaXN0ZW5lciBldmVudCBkb2Vzbid0IHRyaWdnZXIgcmVsb2FkXHJcbiAgICAgICAgaW5pdGlhbEh5ZHJhdGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIHNldFJlYWR5KHRydWUpO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgeyBkYXRhOiBsaXN0ZW5lciB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZSgoZXZlbnQsIHNlc3Npb24pID0+IHtcclxuICAgICAgICBjb25zdCBuZXh0RW1haWwgPSBzZXNzaW9uPy51c2VyPy5lbWFpbCA/PyBudWxsO1xyXG4gICAgICAgIGNvbnN0IHByZXYgPSBwcmV2RW1haWxSZWYuY3VycmVudDtcclxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gcHJldiAhPT0gbmV4dEVtYWlsO1xyXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uaW5nKHRydWUpO1xyXG4gICAgICAgICAgcHJldkVtYWlsUmVmLmN1cnJlbnQgPSBuZXh0RW1haWw7XHJcbiAgICAgICAgICBzZXRFbWFpbChuZXh0RW1haWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdTSUdORURfT1VUJyB8fCAoIW5leHRFbWFpbCAmJiBwcmV2KSkge1xyXG4gICAgICAgICAgY2xlYXJQcm9maWxlKCk7XHJcbiAgICAgICAgICB0cnkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc3R5bGVzeW5jLnByb2ZpbGVzLnYxJyk7IH0gY2F0Y2gge31cclxuICAgICAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHlsZXN5bmMucHJvZmlsZXMuYWN0aXZlSWQnKTsgfSBjYXRjaCB7fVxyXG4gICAgICAgICAgdHJ5IHsgY2xlYXJMb2NhbFBhcmFwaHJhc2VIaXN0b3J5KCk7IH0gY2F0Y2gge31cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICAgIC8vIEF2b2lkIHJlbG9hZCBsb29wIG9uIHNpZ24taW4gcGFnZSBpdHNlbGZcclxuICAgICAgICAgIGNvbnN0IHBhdGggPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA6ICcnO1xyXG4gICAgICAgICAgY29uc3QgaXNJbml0aWFsU2lnbmVkSW4gPSAhaW5pdGlhbEh5ZHJhdGVkUmVmLmN1cnJlbnQgfHwgKCFwcmV2ICYmIG5leHRFbWFpbCk7XHJcbiAgICAgICAgICAvLyBPbmx5IHJlbG9hZCBvbiByZWFsIHRyYW5zaXRpb25zIChub3QgaW5pdGlhbCBoeWRyYXRpb24gd2hlcmUgdXNlciBhbHJlYWR5IHNpZ25lZCBpbilcclxuICAgICAgICAgIGlmIChwYXRoICE9PSAnL2F1dGgvc2lnbi1pbicgJiYgIWlzSW5pdGlhbFNpZ25lZEluKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgfSwgNDApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gU3RvcCBzcGlubmVyIGFmdGVyIHNob3J0IGRlbGF5IG9uIHNpZ24taW4gcGFnZVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFRyYW5zaXRpb25pbmcoZmFsc2UpLCA0MDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5pdGlhbEh5ZHJhdGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNpdGlvbmluZykge1xyXG4gICAgICAgICAgLy8gU3RvcCBzcGlubmVyIGlmIG5vdGhpbmcgY2hhbmdlZFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFRyYW5zaXRpb25pbmcoZmFsc2UpLCAzMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHVuc3ViID0gKCkgPT4gbGlzdGVuZXIuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRSZWFkeSh0cnVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoKSA9PiB7IHVuc3ViPy4oKTsgfTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgW10pOyAvLyBydW4gb25jZVxyXG5cclxuICBpZiAoIXJlYWR5KSB7XHJcbiAgICByZXR1cm4gPEZ1bGxTY3JlZW5TcGlubmVyIGxhYmVsPVwiQ2hlY2tpbmcgc2Vzc2lvblwiIC8+O1xyXG4gIH1cclxuXHJcbiAgaWYgKCFzdXBhYmFzZSB8fCAhZW1haWwpIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICA8TGluayBocmVmPVwiL2F1dGgvc2lnbi1pblwiIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLWxnIGJnLWJyYW5kLTUwMC85MCBob3ZlcjpiZy1icmFuZC00MDAgdGV4dC1zbGF0ZS05MDAgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uXCI+U2lnbiBJbjwvTGluaz5cclxuICAgICAge3RyYW5zaXRpb25pbmcgJiYgPEZ1bGxTY3JlZW5TcGlubmVyIGxhYmVsPVwiUmVmcmVzaGluZyBzZXNzaW9uXCIgLz59XHJcbiAgICA8Lz47XHJcbiAgfVxyXG5cclxuICByZXR1cm4gPD5cclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14c1wiPlxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTMwMFwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz57ZW1haWx9PC9zcGFuPlxyXG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHN1cGFiYXNlPy5hdXRoLnNpZ25PdXQoKX0gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC13aGl0ZVwiPlNpZ24gb3V0PC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuICAgIHt0cmFuc2l0aW9uaW5nICYmIDxGdWxsU2NyZWVuU3Bpbm5lciBsYWJlbD1cIlJlZnJlc2hpbmcgc2Vzc2lvblwiIC8+fVxyXG4gIDwvPjtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJzdXBhYmFzZSIsImNsZWFyUHJvZmlsZSIsImNsZWFyTG9jYWxQYXJhcGhyYXNlSGlzdG9yeSIsIkZ1bGxTY3JlZW5TcGlubmVyIiwiTGluayIsIkF1dGhTdGF0dXMiLCJyZWFkeSIsInNldFJlYWR5IiwiZW1haWwiLCJzZXRFbWFpbCIsInRyYW5zaXRpb25pbmciLCJzZXRUcmFuc2l0aW9uaW5nIiwidW5zdWIiLCJwcmV2RW1haWxSZWYiLCJjdXJyZW50IiwiaW5pdGlhbEh5ZHJhdGVkUmVmIiwiYXV0aCIsImdldFVzZXIiLCJ0aGVuIiwiZGF0YSIsImV4aXN0aW5nIiwidXNlciIsImxpc3RlbmVyIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJldmVudCIsInNlc3Npb24iLCJuZXh0RW1haWwiLCJwcmV2IiwiY2hhbmdlZCIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJwYXRoIiwid2luZG93IiwibG9jYXRpb24iLCJwYXRobmFtZSIsImlzSW5pdGlhbFNpZ25lZEluIiwic2V0VGltZW91dCIsInJlbG9hZCIsInN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwibGFiZWwiLCJocmVmIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaWduT3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AuthStatus.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/FullScreenSpinner.tsx":
/*!**********************************************!*\
  !*** ./src/components/FullScreenSpinner.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FullScreenSpinner: () => (/* binding */ FullScreenSpinner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ FullScreenSpinner auto */ \n\nfunction FullScreenSpinner({ label }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-[70] flex flex-col items-center justify-center gap-4 bg-slate-950/70 backdrop-blur-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-12 w-12 rounded-full border-4 border-brand-400/40 border-t-brand-400 animate-spin\",\n                \"aria-label\": \"Loading\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\FullScreenSpinner.tsx\",\n                lineNumber: 7,\n                columnNumber: 7\n            }, this),\n            label && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-slate-300\",\n                children: label\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\FullScreenSpinner.tsx\",\n                lineNumber: 8,\n                columnNumber: 17\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\FullScreenSpinner.tsx\",\n        lineNumber: 6,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9GdWxsU2NyZWVuU3Bpbm5lci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzBCO0FBRW5CLFNBQVNDLGtCQUFrQixFQUFFQyxLQUFLLEVBQXNCO0lBQzdELHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7Z0JBQXNGQyxjQUFXOzs7Ozs7WUFDL0dILHVCQUFTLDhEQUFDSTtnQkFBRUYsV0FBVTswQkFBMEJGOzs7Ozs7Ozs7Ozs7QUFHdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXN5bmMvLi9zcmMvY29tcG9uZW50cy9GdWxsU2NyZWVuU3Bpbm5lci50c3g/ZGJmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBGdWxsU2NyZWVuU3Bpbm5lcih7IGxhYmVsIH06IHsgbGFiZWw/OiBzdHJpbmcgfSkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bNzBdIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00IGJnLXNsYXRlLTk1MC83MCBiYWNrZHJvcC1ibHVyLXNtXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIHJvdW5kZWQtZnVsbCBib3JkZXItNCBib3JkZXItYnJhbmQtNDAwLzQwIGJvcmRlci10LWJyYW5kLTQwMCBhbmltYXRlLXNwaW5cIiBhcmlhLWxhYmVsPVwiTG9hZGluZ1wiIC8+XHJcbiAgICAgIHtsYWJlbCAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtMzAwXCI+e2xhYmVsfTwvcD59XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkZ1bGxTY3JlZW5TcGlubmVyIiwibGFiZWwiLCJkaXYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/FullScreenSpinner.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/StyleProfileManager.tsx":
/*!************************************************!*\
  !*** ./src/components/StyleProfileManager.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleProfileManager: () => (/* binding */ StyleProfileManager)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/styleProfile.ts */ \"(ssr)/./src/lib/styleProfile.ts\");\n/* harmony import */ var _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\");\n/* __next_internal_client_entry_do_not_use__ StyleProfileManager auto */ \n\n\n\n\nfunction newBlankProfile() {\n    const now = Date.now();\n    return {\n        id: crypto.randomUUID(),\n        createdAt: now,\n        updatedAt: now,\n        name: \"New Style\",\n        tone: \"balanced\",\n        formality: 0.5,\n        pacing: 0.5,\n        descriptiveness: 0.5,\n        directness: 0.5,\n        sampleExcerpt: \"\",\n        customLexicon: [],\n        notes: \"\"\n    };\n}\nfunction StyleProfileManager({ onSelect }) {\n    const [profiles, setProfiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeId, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        refresh();\n    }, []);\n    // Check authentication\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            if (_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase) {\n                const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.auth.getUser();\n                setIsAuthenticated(!!user);\n            }\n        })();\n    }, []);\n    // Remote hydration / sync\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            if (!_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase) return;\n            const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.auth.getUser();\n            if (!user) return;\n            const remote = await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.loadProfilesRemote)(user.id);\n            const local = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.listProfiles)();\n            if (remote.length && local.length === 0) {\n                remote.forEach((r)=>(0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.upsertProfileLocal)(r));\n                refresh();\n            } else if (local.length && !remote.length) {\n                await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.syncLocalProfilesToRemote)(user.id); // push local to remote first time\n            } else if (remote.length) {\n                // Merge by id, remote wins on newer updatedAt\n                const merged = {};\n                [\n                    ...local,\n                    ...remote\n                ].forEach((p)=>{\n                    const existing = merged[p.id];\n                    if (!existing || p.updatedAt > existing.updatedAt) merged[p.id] = p;\n                });\n                const mergedList = Object.values(merged).sort((a, b)=>b.updatedAt - a.updatedAt);\n                // Persist merged locally\n                mergedList.forEach((m)=>(0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.upsertProfileLocal)(m));\n                refresh();\n            }\n        })();\n    }, []);\n    function refresh() {\n        const list = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.listProfiles)();\n        const active = (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.getActiveProfileId)();\n        setProfiles(list);\n        setActive(active);\n        if (onSelect) {\n            const found = list.find((p)=>p.id === active) || null;\n            onSelect(found);\n        }\n    }\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    function createProfile() {\n        router.push(\"/style/onboarding?new=1\");\n    }\n    function setActiveProfile(id) {\n        (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.setActiveProfileId)(id);\n        refresh();\n    }\n    function rename(id, name) {\n        const list = [\n            ...profiles\n        ];\n        const idx = list.findIndex((p)=>p.id === id);\n        if (idx >= 0) {\n            list[idx] = {\n                ...list[idx],\n                name,\n                updatedAt: Date.now()\n            };\n            (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.upsertProfileLocal)(list[idx]);\n            setProfiles(list);\n            queueAutoSync(list[idx]);\n        }\n    }\n    async function remove(id) {\n        // Delete locally first for snappy UI\n        (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.deleteProfileLocal)(id);\n        refresh();\n        // Try remote delete so it doesn't rehydrate next session\n        try {\n            if (_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase) {\n                const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.auth.getUser();\n                if (user) {\n                    await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"style_profiles\").delete().eq(\"id\", id).eq(\"user_id\", user.id);\n                }\n            }\n        } catch (e) {\n            console.warn(\"Remote delete failed (style profile)\", e);\n        }\n    }\n    // --- Auto sync logic (debounced) ---\n    const syncTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    function queueAutoSync(profile) {\n        if (syncTimer.current) clearTimeout(syncTimer.current);\n        syncTimer.current = setTimeout(async ()=>{\n            try {\n                if (!_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase) return;\n                const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.auth.getUser();\n                if (!user) return;\n                await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.saveProfileRemote)({\n                    ...profile,\n                    userId: user.id\n                });\n            } catch (e) {\n                console.warn(\"Auto sync failed\", e);\n            }\n        }, 500);\n    }\n    async function pushRemote(id) {\n        setBusy(true);\n        try {\n            const p = profiles.find((p)=>p.id === id);\n            if (!p) return;\n            if (_lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase) {\n                const { data: { user } } = await _lib_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_4__.supabase.auth.getUser();\n                if (user) {\n                    await (0,_lib_styleProfile_ts__WEBPACK_IMPORTED_MODULE_3__.saveProfileRemote)({\n                        ...p,\n                        userId: user.id\n                    });\n                }\n            }\n        } finally{\n            setBusy(false);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-3 text-xs\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-semibold text-brand-300 text-sm\",\n                        children: \"Saved Styles\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: isAuthenticated ? createProfile : ()=>window.location.href = \"/auth/sign-in\",\n                        disabled: !isAuthenticated,\n                        className: `px-2 py-1 rounded text-[11px] transition-colors ${isAuthenticated ? \"bg-brand-500/20 hover:bg-brand-500/30 text-brand-200\" : \"bg-slate-600/30 text-slate-400 cursor-not-allowed\"}`,\n                        title: !isAuthenticated ? \"Please sign in to create styles\" : \"Create new style profile\",\n                        children: \"New\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                        lineNumber: 166,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                lineNumber: 164,\n                columnNumber: 7\n            }, this),\n            profiles.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-slate-500\",\n                children: \"No styles yet.\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                lineNumber: 179,\n                columnNumber: 33\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                className: \"space-y-1\",\n                children: profiles.map((p)=>{\n                    const active = p.id === activeId;\n                    const isEditing = p.id === editingId;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        className: `group border border-white/5 rounded p-2 bg-slate-800/40 flex flex-col gap-1 ${active ? \"ring-1 ring-brand-500/50\" : \"\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setActiveProfile(p.id),\n                                        className: `w-2.5 h-2.5 rounded-full border ${active ? \"bg-brand-500 border-brand-400\" : \"border-slate-500 group-hover:border-brand-400\"} shrink-0`,\n                                        \"aria-label\": \"Activate\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 187,\n                                        columnNumber: 17\n                                    }, this),\n                                    isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        autoFocus: true,\n                                        value: p.name || \"\",\n                                        onChange: (e)=>rename(p.id, e.target.value),\n                                        onBlur: ()=>setEditingId(null),\n                                        className: \"bg-slate-900/60 border border-white/10 rounded px-2 py-1 text-[11px] w-32\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium text-slate-200 cursor-text\",\n                                        onDoubleClick: ()=>setEditingId(p.id),\n                                        children: p.name || \"Unnamed\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 191,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-auto flex gap-1 opacity-70 group-hover:opacity-100 transition\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setEditingId(p.id),\n                                                className: \"px-1 py-0.5 rounded bg-slate-700/40 hover:bg-slate-600/50\",\n                                                title: \"Rename\",\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                                lineNumber: 194,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>remove(p.id),\n                                                className: \"px-1 py-0.5 rounded bg-slate-700/40 hover:bg-red-600/40\",\n                                                title: \"Delete\",\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                                lineNumber: 195,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 193,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-2 text-[10px] text-slate-400\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"F\",\n                                            Math.round(p.formality * 100)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 199,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"P\",\n                                            Math.round(p.pacing * 100)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Dsc\",\n                                            Math.round(p.descriptiveness * 100)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 201,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Dir\",\n                                            Math.round(p.directness * 100)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 202,\n                                        columnNumber: 17\n                                    }, this),\n                                    p.customLexicon.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Lex:\",\n                                            p.customLexicon.length\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                        lineNumber: 203,\n                                        columnNumber: 48\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                lineNumber: 198,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>pushRemote(p.id),\n                                    disabled: busy,\n                                    className: \"text-[10px] mt-1 px-2 py-0.5 rounded bg-slate-600/40 hover:bg-slate-500/40 disabled:opacity-40\",\n                                    children: \"Sync\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                    lineNumber: 206,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                                lineNumber: 205,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, p.id, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                lineNumber: 180,\n                columnNumber: 7\n            }, this),\n            busy && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-[10px] text-slate-500\",\n                children: \"Syncing\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                lineNumber: 212,\n                columnNumber: 16\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-[10px] text-slate-500\",\n                children: \"Doubleclick a name to rename. Activate to use during paraphrasing.\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n                lineNumber: 213,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\components\\\\StyleProfileManager.tsx\",\n        lineNumber: 163,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdHlsZVByb2ZpbGVNYW5hZ2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDb0Q7QUFDUjtBQVdaO0FBQ29CO0FBRXBELFNBQVNhO0lBQ1AsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixPQUFPO1FBQ0xFLElBQUlDLE9BQU9DLFVBQVU7UUFDckJDLFdBQVdMO1FBQ1hNLFdBQVdOO1FBQ1hPLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxXQUFXO1FBQ1hDLFFBQVE7UUFDUkMsaUJBQWlCO1FBQ2pCQyxZQUFZO1FBQ1pDLGVBQWU7UUFDZkMsZUFBZSxFQUFFO1FBQ2pCQyxPQUFPO0lBQ1Q7QUFDRjtBQU1PLFNBQVNDLG9CQUFvQixFQUFFQyxRQUFRLEVBQTRCO0lBQ3hFLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHaEMsK0NBQVFBLENBQWlCLEVBQUU7SUFDM0QsTUFBTSxDQUFDaUMsVUFBVUMsVUFBVSxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3RELE1BQU0sQ0FBQ21DLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFnQjtJQUMxRCxNQUFNLENBQUNxQyxNQUFNQyxRQUFRLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUN1QyxpQkFBaUJDLG1CQUFtQixHQUFHeEMsK0NBQVFBLENBQUM7SUFFdkRELGdEQUFTQSxDQUFDO1FBQVEwQztJQUFXLEdBQUcsRUFBRTtJQUVsQyx1QkFBdUI7SUFDdkIxQyxnREFBU0EsQ0FBQztRQUNQO1lBQ0MsSUFBSVksNERBQVFBLEVBQUU7Z0JBQ1osTUFBTSxFQUFFK0IsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1oQyw0REFBUUEsQ0FBQ2lDLElBQUksQ0FBQ0MsT0FBTztnQkFDdERMLG1CQUFtQixDQUFDLENBQUNHO1lBQ3ZCO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFDTCwwQkFBMEI7SUFDMUI1QyxnREFBU0EsQ0FBQztRQUNQO1lBQ0Ms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bEMsRUFBRXJDLEVBQUU7b0NBQUdnRixVQUFVMUQ7b0NBQU1tRCxXQUFVOzhDQUFpRzs7Ozs7Ozs7Ozs7O3VCQXJCL0pwQyxFQUFFckMsRUFBRTs7Ozs7Z0JBeUJqQjs7Ozs7O1lBRURzQixzQkFBUSw4REFBQ2U7Z0JBQUVvQyxXQUFVOzBCQUE2Qjs7Ozs7OzBCQUNuRCw4REFBQ3BDO2dCQUFFb0MsV0FBVTswQkFBNkI7Ozs7Ozs7Ozs7OztBQUdoRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9jb21wb25lbnRzL1N0eWxlUHJvZmlsZU1hbmFnZXIudHN4PzJhZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IHtcclxuICBsaXN0UHJvZmlsZXMsXHJcbiAgdXBzZXJ0UHJvZmlsZUxvY2FsLFxyXG4gIGRlbGV0ZVByb2ZpbGVMb2NhbCxcclxuICBnZXRBY3RpdmVQcm9maWxlSWQsXHJcbiAgc2V0QWN0aXZlUHJvZmlsZUlkLFxyXG4gIHR5cGUgU3R5bGVQcm9maWxlLFxyXG4gIHNhdmVQcm9maWxlUmVtb3RlLFxyXG4gIGxvYWRQcm9maWxlc1JlbW90ZSxcclxuICBzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlXHJcbn0gZnJvbSAnLi4vbGliL3N0eWxlUHJvZmlsZS50cyc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlQ2xpZW50LnRzJztcclxuXHJcbmZ1bmN0aW9uIG5ld0JsYW5rUHJvZmlsZSgpOiBTdHlsZVByb2ZpbGUge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgY3JlYXRlZEF0OiBub3csXHJcbiAgICB1cGRhdGVkQXQ6IG5vdyxcclxuICAgIG5hbWU6ICdOZXcgU3R5bGUnLFxyXG4gICAgdG9uZTogJ2JhbGFuY2VkJyxcclxuICAgIGZvcm1hbGl0eTogMC41LFxyXG4gICAgcGFjaW5nOiAwLjUsXHJcbiAgICBkZXNjcmlwdGl2ZW5lc3M6IDAuNSxcclxuICAgIGRpcmVjdG5lc3M6IDAuNSxcclxuICAgIHNhbXBsZUV4Y2VycHQ6ICcnLFxyXG4gICAgY3VzdG9tTGV4aWNvbjogW10sXHJcbiAgICBub3RlczogJydcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlUHJvZmlsZU1hbmFnZXJQcm9wcyB7XHJcbiAgb25TZWxlY3Q/OiAocDogU3R5bGVQcm9maWxlIHwgbnVsbCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFN0eWxlUHJvZmlsZU1hbmFnZXIoeyBvblNlbGVjdCB9OiBTdHlsZVByb2ZpbGVNYW5hZ2VyUHJvcHMpIHtcclxuICBjb25zdCBbcHJvZmlsZXMsIHNldFByb2ZpbGVzXSA9IHVzZVN0YXRlPFN0eWxlUHJvZmlsZVtdPihbXSk7XHJcbiAgY29uc3QgW2FjdGl2ZUlkLCBzZXRBY3RpdmVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2VkaXRpbmdJZCwgc2V0RWRpdGluZ0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtidXN5LCBzZXRCdXN5XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNBdXRoZW50aWNhdGVkLCBzZXRJc0F1dGhlbnRpY2F0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4geyByZWZyZXNoKCk7IH0sIFtdKTtcclxuICBcclxuICAvLyBDaGVjayBhdXRoZW50aWNhdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoc3VwYWJhc2UpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoISF1c2VyKTtcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9LCBbXSk7XHJcbiAgLy8gUmVtb3RlIGh5ZHJhdGlvbiAvIHN5bmNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgICAgaWYgKCF1c2VyKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHJlbW90ZSA9IGF3YWl0IGxvYWRQcm9maWxlc1JlbW90ZSh1c2VyLmlkKTtcclxuICAgICAgY29uc3QgbG9jYWwgPSBsaXN0UHJvZmlsZXMoKTtcclxuICAgICAgaWYgKHJlbW90ZS5sZW5ndGggJiYgbG9jYWwubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVtb3RlLmZvckVhY2gociA9PiB1cHNlcnRQcm9maWxlTG9jYWwocikpO1xyXG4gICAgICAgIHJlZnJlc2goKTtcclxuICAgICAgfSBlbHNlIGlmIChsb2NhbC5sZW5ndGggJiYgIXJlbW90ZS5sZW5ndGgpIHtcclxuICAgICAgICBhd2FpdCBzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlKHVzZXIuaWQpOyAvLyBwdXNoIGxvY2FsIHRvIHJlbW90ZSBmaXJzdCB0aW1lXHJcbiAgICAgIH0gZWxzZSBpZiAocmVtb3RlLmxlbmd0aCkge1xyXG4gICAgICAgIC8vIE1lcmdlIGJ5IGlkLCByZW1vdGUgd2lucyBvbiBuZXdlciB1cGRhdGVkQXRcclxuICAgICAgICBjb25zdCBtZXJnZWQ6IFJlY29yZDxzdHJpbmcsIFN0eWxlUHJvZmlsZT4gPSB7fTtcclxuICAgICAgICBbLi4ubG9jYWwsIC4uLnJlbW90ZV0uZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbWVyZ2VkW3AuaWRdO1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nIHx8IHAudXBkYXRlZEF0ID4gZXhpc3RpbmcudXBkYXRlZEF0KSBtZXJnZWRbcC5pZF0gPSBwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lcmdlZExpc3QgPSBPYmplY3QudmFsdWVzKG1lcmdlZCkuc29ydCgoYSxiKT0+Yi51cGRhdGVkQXQgLSBhLnVwZGF0ZWRBdCk7XHJcbiAgICAgICAgLy8gUGVyc2lzdCBtZXJnZWQgbG9jYWxseVxyXG4gICAgICAgIG1lcmdlZExpc3QuZm9yRWFjaChtID0+IHVwc2VydFByb2ZpbGVMb2NhbChtKSk7XHJcbiAgICAgICAgcmVmcmVzaCgpO1xyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuICAgIGNvbnN0IGxpc3QgPSBsaXN0UHJvZmlsZXMoKTtcclxuICAgIGNvbnN0IGFjdGl2ZSA9IGdldEFjdGl2ZVByb2ZpbGVJZCgpO1xyXG4gICAgc2V0UHJvZmlsZXMobGlzdCk7XHJcbiAgICBzZXRBY3RpdmUoYWN0aXZlKTtcclxuICAgIGlmIChvblNlbGVjdCkge1xyXG4gICAgICBjb25zdCBmb3VuZCA9IGxpc3QuZmluZChwID0+IHAuaWQgPT09IGFjdGl2ZSkgfHwgbnVsbDtcclxuICAgICAgb25TZWxlY3QoZm91bmQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgZnVuY3Rpb24gY3JlYXRlUHJvZmlsZSgpIHtcclxuICAgIHJvdXRlci5wdXNoKCcvc3R5bGUvb25ib2FyZGluZz9uZXc9MScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0QWN0aXZlUHJvZmlsZShpZDogc3RyaW5nKSB7XHJcbiAgICBzZXRBY3RpdmVQcm9maWxlSWQoaWQpO1xyXG4gICAgcmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuYW1lKGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbGlzdCA9IFsuLi5wcm9maWxlc107XHJcbiAgICBjb25zdCBpZHggPSBsaXN0LmZpbmRJbmRleChwID0+IHAuaWQgPT09IGlkKTtcclxuICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICBsaXN0W2lkeF0gPSB7IC4uLmxpc3RbaWR4XSwgbmFtZSwgdXBkYXRlZEF0OiBEYXRlLm5vdygpIH07XHJcbiAgICAgIHVwc2VydFByb2ZpbGVMb2NhbChsaXN0W2lkeF0pO1xyXG4gICAgICBzZXRQcm9maWxlcyhsaXN0KTtcclxuICAgICAgcXVldWVBdXRvU3luYyhsaXN0W2lkeF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGlkOiBzdHJpbmcpIHtcclxuICAgIC8vIERlbGV0ZSBsb2NhbGx5IGZpcnN0IGZvciBzbmFwcHkgVUlcclxuICAgIGRlbGV0ZVByb2ZpbGVMb2NhbChpZCk7XHJcbiAgICByZWZyZXNoKCk7XHJcbiAgICAvLyBUcnkgcmVtb3RlIGRlbGV0ZSBzbyBpdCBkb2Vzbid0IHJlaHlkcmF0ZSBuZXh0IHNlc3Npb25cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChzdXBhYmFzZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdzdHlsZV9wcm9maWxlcycpLmRlbGV0ZSgpLmVxKCdpZCcsIGlkKS5lcSgndXNlcl9pZCcsIHVzZXIuaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1JlbW90ZSBkZWxldGUgZmFpbGVkIChzdHlsZSBwcm9maWxlKScsIGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tIEF1dG8gc3luYyBsb2dpYyAoZGVib3VuY2VkKSAtLS1cclxuICBjb25zdCBzeW5jVGltZXIgPSB1c2VSZWY8YW55PihudWxsKTtcclxuICBmdW5jdGlvbiBxdWV1ZUF1dG9TeW5jKHByb2ZpbGU6IFN0eWxlUHJvZmlsZSkge1xyXG4gICAgaWYgKHN5bmNUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQoc3luY1RpbWVyLmN1cnJlbnQpO1xyXG4gICAgc3luY1RpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSByZXR1cm47XHJcbiAgICAgICAgYXdhaXQgc2F2ZVByb2ZpbGVSZW1vdGUoeyAuLi5wcm9maWxlLCB1c2VySWQ6IHVzZXIuaWQgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdBdXRvIHN5bmMgZmFpbGVkJywgZSk7IH1cclxuICAgIH0sIDUwMCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBwdXNoUmVtb3RlKGlkOiBzdHJpbmcpIHtcclxuICAgIHNldEJ1c3kodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwID0gcHJvZmlsZXMuZmluZChwID0+IHAuaWQgPT09IGlkKTtcclxuICAgICAgaWYgKCFwKSByZXR1cm47XHJcbiAgICAgIGlmIChzdXBhYmFzZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICBhd2FpdCBzYXZlUHJvZmlsZVJlbW90ZSh7IC4uLnAsIHVzZXJJZDogdXNlci5pZCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZmluYWxseSB7IHNldEJ1c3koZmFsc2UpOyB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgdGV4dC14c1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYnJhbmQtMzAwIHRleHQtc21cIj5TYXZlZCBTdHlsZXM8L2gzPlxyXG4gICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICBvbkNsaWNrPXtpc0F1dGhlbnRpY2F0ZWQgPyBjcmVhdGVQcm9maWxlIDogKCkgPT4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9hdXRoL3NpZ24taW5cIn1cclxuICAgICAgICAgIGRpc2FibGVkPXshaXNBdXRoZW50aWNhdGVkfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC1bMTFweF0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkIFxyXG4gICAgICAgICAgICAgID8gJ2JnLWJyYW5kLTUwMC8yMCBob3ZlcjpiZy1icmFuZC01MDAvMzAgdGV4dC1icmFuZC0yMDAnIFxyXG4gICAgICAgICAgICAgIDogJ2JnLXNsYXRlLTYwMC8zMCB0ZXh0LXNsYXRlLTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnXHJcbiAgICAgICAgICB9YH1cclxuICAgICAgICAgIHRpdGxlPXshaXNBdXRoZW50aWNhdGVkID8gXCJQbGVhc2Ugc2lnbiBpbiB0byBjcmVhdGUgc3R5bGVzXCIgOiBcIkNyZWF0ZSBuZXcgc3R5bGUgcHJvZmlsZVwifVxyXG4gICAgICAgID5cclxuICAgICAgICAgIE5ld1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAge3Byb2ZpbGVzLmxlbmd0aCA9PT0gMCAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTUwMFwiPk5vIHN0eWxlcyB5ZXQuPC9wPn1cclxuICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxyXG4gICAgICAgIHtwcm9maWxlcy5tYXAocCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBhY3RpdmUgPSBwLmlkID09PSBhY3RpdmVJZDtcclxuICAgICAgICAgIGNvbnN0IGlzRWRpdGluZyA9IHAuaWQgPT09IGVkaXRpbmdJZDtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxsaSBrZXk9e3AuaWR9IGNsYXNzTmFtZT17YGdyb3VwIGJvcmRlciBib3JkZXItd2hpdGUvNSByb3VuZGVkIHAtMiBiZy1zbGF0ZS04MDAvNDAgZmxleCBmbGV4LWNvbCBnYXAtMSAke2FjdGl2ZSA/ICdyaW5nLTEgcmluZy1icmFuZC01MDAvNTAnIDogJyd9YH0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVQcm9maWxlKHAuaWQpfSBjbGFzc05hbWU9e2B3LTIuNSBoLTIuNSByb3VuZGVkLWZ1bGwgYm9yZGVyICR7YWN0aXZlID8gJ2JnLWJyYW5kLTUwMCBib3JkZXItYnJhbmQtNDAwJyA6ICdib3JkZXItc2xhdGUtNTAwIGdyb3VwLWhvdmVyOmJvcmRlci1icmFuZC00MDAnfSBzaHJpbmstMGB9IGFyaWEtbGFiZWw9XCJBY3RpdmF0ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICB7aXNFZGl0aW5nID8gKFxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgYXV0b0ZvY3VzIHZhbHVlPXtwLm5hbWUgfHwgJyd9IG9uQ2hhbmdlPXtlID0+IHJlbmFtZShwLmlkLCBlLnRhcmdldC52YWx1ZSl9IG9uQmx1cj17KCkgPT4gc2V0RWRpdGluZ0lkKG51bGwpfSBjbGFzc05hbWU9XCJiZy1zbGF0ZS05MDAvNjAgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCByb3VuZGVkIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSB3LTMyXCIgLz5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc2xhdGUtMjAwIGN1cnNvci10ZXh0XCIgb25Eb3VibGVDbGljaz17KCkgPT4gc2V0RWRpdGluZ0lkKHAuaWQpfT57cC5uYW1lIHx8ICdVbm5hbWVkJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC1hdXRvIGZsZXggZ2FwLTEgb3BhY2l0eS03MCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ0lkKHAuaWQpfSBjbGFzc05hbWU9XCJweC0xIHB5LTAuNSByb3VuZGVkIGJnLXNsYXRlLTcwMC80MCBob3ZlcjpiZy1zbGF0ZS02MDAvNTBcIiB0aXRsZT1cIlJlbmFtZVwiPuKcjjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZShwLmlkKX0gY2xhc3NOYW1lPVwicHgtMSBweS0wLjUgcm91bmRlZCBiZy1zbGF0ZS03MDAvNDAgaG92ZXI6YmctcmVkLTYwMC80MFwiIHRpdGxlPVwiRGVsZXRlXCI+4pyVPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIHRleHQtWzEwcHhdIHRleHQtc2xhdGUtNDAwXCI+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5Ge01hdGgucm91bmQocC5mb3JtYWxpdHkqMTAwKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5Qe01hdGgucm91bmQocC5wYWNpbmcqMTAwKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5Ec2N7TWF0aC5yb3VuZChwLmRlc2NyaXB0aXZlbmVzcyoxMDApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPkRpcntNYXRoLnJvdW5kKHAuZGlyZWN0bmVzcyoxMDApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIHtwLmN1c3RvbUxleGljb24ubGVuZ3RoID4gMCAmJiA8c3Bhbj5MZXg6e3AuY3VzdG9tTGV4aWNvbi5sZW5ndGh9PC9zcGFuPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcHVzaFJlbW90ZShwLmlkKX0gZGlzYWJsZWQ9e2J1c3l9IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIG10LTEgcHgtMiBweS0wLjUgcm91bmRlZCBiZy1zbGF0ZS02MDAvNDAgaG92ZXI6Ymctc2xhdGUtNTAwLzQwIGRpc2FibGVkOm9wYWNpdHktNDBcIj5TeW5jPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pfVxyXG4gICAgICA8L3VsPlxyXG4gICAgICB7YnVzeSAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXNsYXRlLTUwMFwiPlN5bmNpbmfigKY8L3A+fVxyXG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXNsYXRlLTUwMFwiPkRvdWJsZeKAkWNsaWNrIGEgbmFtZSB0byByZW5hbWUuIEFjdGl2YXRlIHRvIHVzZSBkdXJpbmcgcGFyYXBocmFzaW5nLjwvcD5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlUm91dGVyIiwibGlzdFByb2ZpbGVzIiwidXBzZXJ0UHJvZmlsZUxvY2FsIiwiZGVsZXRlUHJvZmlsZUxvY2FsIiwiZ2V0QWN0aXZlUHJvZmlsZUlkIiwic2V0QWN0aXZlUHJvZmlsZUlkIiwic2F2ZVByb2ZpbGVSZW1vdGUiLCJsb2FkUHJvZmlsZXNSZW1vdGUiLCJzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlIiwic3VwYWJhc2UiLCJuZXdCbGFua1Byb2ZpbGUiLCJub3ciLCJEYXRlIiwiaWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibmFtZSIsInRvbmUiLCJmb3JtYWxpdHkiLCJwYWNpbmciLCJkZXNjcmlwdGl2ZW5lc3MiLCJkaXJlY3RuZXNzIiwic2FtcGxlRXhjZXJwdCIsImN1c3RvbUxleGljb24iLCJub3RlcyIsIlN0eWxlUHJvZmlsZU1hbmFnZXIiLCJvblNlbGVjdCIsInByb2ZpbGVzIiwic2V0UHJvZmlsZXMiLCJhY3RpdmVJZCIsInNldEFjdGl2ZSIsImVkaXRpbmdJZCIsInNldEVkaXRpbmdJZCIsImJ1c3kiLCJzZXRCdXN5IiwiaXNBdXRoZW50aWNhdGVkIiwic2V0SXNBdXRoZW50aWNhdGVkIiwicmVmcmVzaCIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJyZW1vdGUiLCJsb2NhbCIsImxlbmd0aCIsImZvckVhY2giLCJyIiwibWVyZ2VkIiwicCIsImV4aXN0aW5nIiwibWVyZ2VkTGlzdCIsIk9iamVjdCIsInZhbHVlcyIsInNvcnQiLCJhIiwiYiIsIm0iLCJsaXN0IiwiYWN0aXZlIiwiZm91bmQiLCJmaW5kIiwicm91dGVyIiwiY3JlYXRlUHJvZmlsZSIsInB1c2giLCJzZXRBY3RpdmVQcm9maWxlIiwicmVuYW1lIiwiaWR4IiwiZmluZEluZGV4IiwicXVldWVBdXRvU3luYyIsInJlbW92ZSIsImZyb20iLCJkZWxldGUiLCJlcSIsImUiLCJjb25zb2xlIiwid2FybiIsInN5bmNUaW1lciIsInByb2ZpbGUiLCJjdXJyZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVzZXJJZCIsInB1c2hSZW1vdGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJkaXNhYmxlZCIsInRpdGxlIiwidWwiLCJtYXAiLCJpc0VkaXRpbmciLCJsaSIsImFyaWEtbGFiZWwiLCJpbnB1dCIsImF1dG9Gb2N1cyIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJvbkJsdXIiLCJzcGFuIiwib25Eb3VibGVDbGljayIsIk1hdGgiLCJyb3VuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/StyleProfileManager.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/paraphrase.ts":
/*!*******************************!*\
  !*** ./src/lib/paraphrase.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeHumanization: () => (/* binding */ analyzeHumanization),\n/* harmony export */   analyzeSampleStyle: () => (/* binding */ analyzeSampleStyle),\n/* harmony export */   finalizeOutput: () => (/* binding */ finalizeOutput),\n/* harmony export */   humanizeText: () => (/* binding */ humanizeText),\n/* harmony export */   paraphraseWithProfile: () => (/* binding */ paraphraseWithProfile),\n/* harmony export */   verifyAndFinalize: () => (/* binding */ verifyAndFinalize)\n/* harmony export */ });\n/* harmony import */ var _styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styleFrequency.ts */ \"(ssr)/./src/lib/styleFrequency.ts\");\n/* harmony import */ var _styleRules_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styleRules.ts */ \"(ssr)/./src/lib/styleRules.ts\");\n\n\n// Simple synonym map (demo only)\nconst SYNONYMS = {\n    important: [\n        \"crucial\",\n        \"vital\",\n        \"key\"\n    ],\n    fast: [\n        \"swift\",\n        \"quick\",\n        \"rapid\"\n    ],\n    slow: [\n        \"unhurried\",\n        \"gradual\",\n        \"leisurely\"\n    ],\n    improve: [\n        \"enhance\",\n        \"refine\",\n        \"strengthen\"\n    ],\n    clear: [\n        \"lucid\",\n        \"plain\",\n        \"transparent\"\n    ],\n    many: [\n        \"numerous\",\n        \"several\",\n        \"countless\"\n    ],\n    big: [\n        \"large\",\n        \"substantial\",\n        \"significant\"\n    ],\n    small: [\n        \"modest\",\n        \"minor\",\n        \"compact\"\n    ],\n    help: [\n        \"assist\",\n        \"support\",\n        \"aid\"\n    ],\n    show: [\n        \"demonstrate\",\n        \"display\",\n        \"illustrate\"\n    ],\n    use: [\n        \"utilize\",\n        \"employ\",\n        \"apply\"\n    ],\n    quick: [\n        \"swift\",\n        \"rapid\",\n        \"brisk\"\n    ],\n    good: [\n        \"solid\",\n        \"sound\",\n        \"strong\"\n    ],\n    bad: [\n        \"poor\",\n        \"weak\",\n        \"subpar\"\n    ],\n    need: [\n        \"require\",\n        \"necessitate\"\n    ],\n    ensure: [\n        \"guarantee\",\n        \"secure\"\n    ],\n    allow: [\n        \"enable\",\n        \"permit\"\n    ],\n    get: [\n        \"obtain\",\n        \"secure\",\n        \"gain\"\n    ],\n    create: [\n        \"build\",\n        \"craft\",\n        \"produce\"\n    ],\n    increase: [\n        \"boost\",\n        \"raise\",\n        \"expand\"\n    ],\n    make: [\n        \"produce\",\n        \"craft\",\n        \"form\"\n    ],\n    provide: [\n        \"offer\",\n        \"supply\",\n        \"deliver\"\n    ],\n    keep: [\n        \"retain\",\n        \"maintain\",\n        \"preserve\"\n    ],\n    reduce: [\n        \"cut\",\n        \"lower\",\n        \"decrease\"\n    ],\n    lazy: [\n        \"idle\",\n        \"sluggish\"\n    ],\n    jumps: [\n        \"leaps\",\n        \"bounds\"\n    ]\n};\nfunction paraphraseWithProfile(text, profile, options = {}) {\n    if (!text.trim()) return \"\";\n    // Build frequency map from user sample (once) to bias synonym choices toward familiar vocabulary.\n    const freqMap = profile?.sampleExcerpt ? (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.buildFrequencyMap)(profile.sampleExcerpt) : {};\n    const sampleStyle = profile?.sampleExcerpt ? analyzeSampleStyle(profile.sampleExcerpt) : null;\n    // Basic sentence split\n    const sentences = text.split(/(?<=[.!?])\\s+/);\n    const adjusted = sentences.map((s)=>rewriteSentence(s, profile, freqMap, sampleStyle));\n    let result = adjusted.join(\" \");\n    if (profile) {\n        // Adjust descriptiveness by optionally adding/removing adjectives (very naive)\n        if (profile.descriptiveness > 0.7) {\n            result = result.replace(/\\b(idea|concept|plan)\\b/gi, (m)=>\"distinct \" + m);\n        } else if (profile.descriptiveness < 0.3) {\n            result = result.replace(/\\b(distinct|vivid|rich)\\s+(idea|concept|plan)\\b/gi, \"$2\");\n        }\n        // Directness: shorten or slightly expand sentences\n        if (profile.directness > 0.7) {\n            result = result.replace(/\\b(in order to)\\b/gi, \"to\");\n            result = result.replace(/\\b(it is|there is|there are)\\b/gi, \"\");\n        } else if (profile.directness < 0.3) {\n            result = result.replace(/\\b(to)\\b/gi, \"in order to\");\n        }\n        // Lexicon injection (ensure words appear at least once) - only if enabled\n        if (profile.customLexicon?.length && options.includeLexiconNotes !== false) {\n            const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(result));\n            if (missing.length) {\n                result += \"\\n\\nLexicon notes: \" + missing.slice(0, 5).join(\", \");\n            }\n        }\n    }\n    // Pre-contraction enforcement if sample prefers them\n    if (sampleStyle?.usesContractions) {\n        // Apply contraction transforms across multiple common patterns\n        const CONTR_MAP = [\n            [\n                /\\b[Ii]t is\\b/g,\n                \"it's\"\n            ],\n            [\n                /\\b[Dd]o not\\b/g,\n                \"don't\"\n            ],\n            [\n                /\\b[Cc]annot\\b/g,\n                \"can't\"\n            ],\n            [\n                /\\b[Tt]hat is\\b/g,\n                \"that's\"\n            ],\n            [\n                /\\b[Tt]here is\\b/g,\n                \"there's\"\n            ],\n            [\n                /\\b[Yy]ou are\\b/g,\n                \"you're\"\n            ],\n            [\n                /\\bW[eE] are\\b/g,\n                \"we're\"\n            ],\n            [\n                /\\b[Ii] am\\b/g,\n                \"I'm\"\n            ]\n        ];\n        CONTR_MAP.forEach(([r, rep])=>{\n            result = result.replace(r, rep);\n        });\n        // Guarantee at least one contraction if sample used them and text had eligible patterns\n        if (!/\\b(?:it's|don't|can't|that's|there's|you're|we're|I'm)\\b/i.test(result)) {\n            result = result.replace(/\\bIt is\\b/, \"It's\");\n        }\n    }\n    result = humanizeText(result, {\n        allowContractions: sampleStyle ? sampleStyle.usesContractions : true,\n        preferredTransitions: sampleStyle?.preferredTransitions || []\n    });\n    // High-directness aggressive simplification (pre-empt flowery phrasing)\n    if (profile?.directness && profile.directness > 0.9) {\n        result = aggressiveDirectSimplify(result);\n    }\n    // If effectively unchanged, apply a fallback diversification pass\n    if (roughlyEqual(text, result)) {\n        result = fallbackDiversify(text, profile, freqMap);\n    }\n    // Enforce minimum lexical change ratio for high directness/pacing: if too similar, force variation\n    if (profile?.directness && profile.directness > 0.9) {\n        const ratio = lexicalChangeRatio(text, result);\n        if (ratio < 0.22) {\n            result = forceVariation(result, 0.25);\n        }\n    }\n    // If sample style has target sentence length significantly different, lightly adjust (post-pass)\n    if (sampleStyle && sampleStyle.avgSentenceLength) {\n        const target = sampleStyle.avgSentenceLength;\n        // If our output sentences are much longer than sample, try splitting on commas.\n        if (target < 90) {\n            result = result.replace(/([^.!?]{140,}?),(\\s+)/g, (m, clause, sp)=>clause + \". \");\n        } else if (target > 130) {\n            // Sample prefers longer sentences: occasionally merge adjacent short ones.\n            const parts = result.split(/(?<=[.!?])\\s+/);\n            for(let i = 0; i < parts.length - 1; i++){\n                if (parts[i].length < 60 && parts[i + 1].length < 60 && Math.random() < 0.4) {\n                    parts[i] = parts[i].replace(/[.!?]$/, \"\") + \", \" + parts[i + 1].charAt(0).toLowerCase() + parts[i + 1].slice(1);\n                    parts.splice(i + 1, 1);\n                    i--;\n                }\n            }\n            result = parts.join(\" \");\n        }\n    }\n    return result.trim();\n}\nfunction rewriteSentence(sentence, profile, freqMap = {}, sampleStyle = null) {\n    let s = sentence;\n    // Replace synonyms respecting formality (simple heuristic: higher formality -> pick later synonym)\n    s = s.replace(/\\b([a-zA-Z]+)\\b/g, (match)=>{\n        const key = match.toLowerCase();\n        const syns = SYNONYMS[key];\n        if (!syns) return match;\n        // Slight stochastic choice for variety; bias by formality when profile present.\n        if (!profile) {\n            // Try frequency preference even without profile style sliders if sample available\n            const preferred = (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.pickPreferred)(syns, freqMap) || pickSyn(syns);\n            return preserveCase(match, preferred);\n        }\n        const bias = Math.min(syns.length - 1, Math.floor(profile.formality * syns.length));\n        let candidatePool = [\n            ...syns\n        ];\n        // If frequency preference hits, elevate it.\n        const preferred = (0,_styleFrequency_ts__WEBPACK_IMPORTED_MODULE_0__.pickPreferred)(syns, freqMap);\n        if (preferred) {\n            candidatePool = [\n                preferred,\n                ...syns.filter((sy)=>sy !== preferred)\n            ];\n        }\n        // If sample style has high frequency simple word present among synonyms, prefer it.\n        if (sampleStyle && sampleStyle.highFrequencyWords.length) {\n            const samplePreferred = candidatePool.find((c)=>sampleStyle.highFrequencyWords.includes(c.toLowerCase()));\n            if (samplePreferred) {\n                candidatePool = [\n                    samplePreferred,\n                    ...candidatePool.filter((c)=>c !== samplePreferred)\n                ];\n            }\n        }\n        const chosen = Math.random() < 0.55 ? candidatePool[0] : candidatePool[Math.floor(Math.random() * candidatePool.length)];\n        return preserveCase(match, chosen);\n    });\n    // Pacing: shorter sentences for higher pacing, else expand slightly\n    if (profile) {\n        if (profile.pacing > 0.7 && s.length > 120) {\n            s = s.replace(/,\\s+which/gi, \". Which\");\n        } else if (profile.pacing < 0.3 && s.length < 80) {\n            s = s.replace(/\\.$/, \", which in turn\");\n        }\n    }\n    // Inject sample style preferred transitions at start occasionally\n    if (sampleStyle && sampleStyle.preferredTransitions.length && !/^\\s*(However|Moreover|Additionally|Still|Instead|Meanwhile)/i.test(s)) {\n        if (Math.random() < 0.18) {\n            const t = sampleStyle.preferredTransitions[Math.floor(Math.random() * sampleStyle.preferredTransitions.length)];\n            s = t + \" \" + s.charAt(0).toLowerCase() + s.slice(1);\n        }\n    }\n    return s;\n}\nfunction preserveCase(original, replacement) {\n    if (original === original.toUpperCase()) return replacement.toUpperCase();\n    if (original[0] === original[0].toUpperCase()) return replacement.charAt(0).toUpperCase() + replacement.slice(1);\n    return replacement;\n}\nfunction capitalizeIf(original, word) {\n    if (original[0] === original[0].toUpperCase()) return word.charAt(0).toUpperCase() + word.slice(1);\n    return word;\n}\nfunction escapeReg(s) {\n    return s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction pickSyn(list) {\n    return list[Math.floor(Math.random() * list.length)];\n}\nfunction roughlyEqual(a, b) {\n    const na = a.replace(/\\s+/g, \" \").trim().toLowerCase();\n    const nb = b.replace(/\\s+/g, \" \").trim().toLowerCase();\n    return na === nb;\n}\nfunction fallbackDiversify(text, profile, freqMap = {}) {\n    // Force a few lexical substitutions on content words not already in synonym map by injecting mild adjectives or splitting sentences.\n    let t = text;\n    // Split long sentences (> 24 words) in half.\n    t = t.replace(/([^.!?]{120,}?)([,:;])\\s+/g, (m, clause, sep)=>clause + \". \");\n    // Replace some conjunction patterns to vary rhythm.\n    t = t.replace(/\\band\\s+then\\b/gi, \"then\");\n    t = t.replace(/\\bbut\\b/gi, \"yet\");\n    // Inject a light adverb after first verb if none changed.\n    const words = t.split(/(\\s+)/);\n    let injected = false;\n    for(let i = 0; i < words.length; i++){\n        if (/^[a-zA-Z]{6,}$/.test(words[i]) && !injected) {\n            const wLower = words[i].toLowerCase();\n            if (SYNONYMS[wLower]) {\n                words[i] = preserveCase(words[i], SYNONYMS[wLower][0]);\n                injected = true;\n            }\n        }\n    }\n    if (!injected) {\n        // Add a concise qualifier to first noun-like token\n        for(let i = 0; i < words.length; i++){\n            if (/^[A-Za-z]{5,}$/.test(words[i])) {\n                words[i] = \"notably \" + words[i];\n                break;\n            }\n        }\n    }\n    t = words.join(\"\");\n    if (profile?.customLexicon?.length) {\n        const firstMissing = profile.customLexicon.find((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(t));\n        if (firstMissing) t += (t.endsWith(\".\") ? \"\" : \".\") + \" \" + firstMissing + \".\";\n    }\n    return t;\n}\n// Compute proportion of tokens changed (case-insensitive exact match comparison)\nfunction lexicalChangeRatio(original, updated) {\n    const oTokens = original.split(/\\b/).filter((t)=>/[A-Za-z]/.test(t));\n    const uTokens = updated.split(/\\b/).filter((t)=>/[A-Za-z]/.test(t));\n    if (!oTokens.length || !uTokens.length) return 0;\n    const minLen = Math.min(oTokens.length, uTokens.length);\n    let changed = 0;\n    for(let i = 0; i < minLen; i++){\n        if (oTokens[i].toLowerCase() !== uTokens[i].toLowerCase()) changed++;\n    }\n    // Penalize identical trailing structure\n    return changed / minLen;\n}\n// Force additional lexical variation by replacing a fraction of content words with synonyms / simplifications.\nfunction forceVariation(text, targetExtraRatio) {\n    const words = text.split(/(\\s+)/);\n    const CONTENT = /[A-Za-z]{5,}/;\n    const replBank = {\n        shimmering: [\n            \"bright\",\n            \"gleaming\",\n            \"clear\"\n        ],\n        radiant: [\n            \"bright\",\n            \"vivid\"\n        ],\n        expanse: [\n            \"area\",\n            \"domain\"\n        ],\n        epoch: [\n            \"era\",\n            \"period\"\n        ],\n        intertwines: [\n            \"links\",\n            \"connects\",\n            \"blends\"\n        ],\n        seamlessly: [\n            \"smoothly\",\n            \"directly\"\n        ],\n        symphony: [\n            \"system\",\n            \"blend\"\n        ],\n        optimized: [\n            \"efficient\",\n            \"streamlined\"\n        ],\n        existence: [\n            \"life\"\n        ],\n        luminous: [\n            \"bright\"\n        ],\n        corridors: [\n            \"paths\",\n            \"channels\"\n        ],\n        resonance: [\n            \"flow\",\n            \"signal\"\n        ],\n        quantified: [\n            \"scored\",\n            \"measured\"\n        ],\n        archived: [\n            \"stored\"\n        ],\n        refined: [\n            \"improved\",\n            \"honed\"\n        ],\n        predictive: [\n            \"forecast\"\n        ],\n        precision: [\n            \"accuracy\"\n        ],\n        malleable: [\n            \"flexible\"\n        ],\n        construct: [\n            \"form\"\n        ],\n        streams: [\n            \"flows\"\n        ],\n        continuum: [\n            \"blend\",\n            \"span\"\n        ],\n        converge: [\n            \"merge\",\n            \"blend\"\n        ],\n        limitations: [\n            \"limits\"\n        ],\n        horizon: [\n            \"future edge\",\n            \"outlook\"\n        ],\n        progress: [\n            \"advance\",\n            \"growth\"\n        ]\n    };\n    let applied = 0;\n    const target = Math.ceil(words.length * targetExtraRatio);\n    for(let i = 0; i < words.length && applied < target; i++){\n        const w = words[i];\n        if (!CONTENT.test(w)) continue;\n        const key = w.toLowerCase();\n        const cand = replBank[key];\n        if (cand) {\n            const replacement = cand[Math.floor(Math.random() * cand.length)];\n            words[i] = preserveCase(w, replacement);\n            applied++;\n        }\n    }\n    return words.join(\"\");\n}\n// Aggressive direct simplification of ornate metaphoric phrases (idempotent-ish).\nfunction aggressiveDirectSimplify(t) {\n    const PHRASES = [\n        [\n            /Amid the radiant expanse of a hyper-connected epoch/gi,\n            \"In a highly connected era\"\n        ],\n        [\n            /human imagination intertwines seamlessly with machine intelligence/gi,\n            \"human ideas link with machine intelligence\"\n        ],\n        [\n            /symphony of optimized existence/gi,\n            \"more efficient daily life\"\n        ],\n        [\n            /luminous corridors of digital resonance/gi,\n            \"bright digital channels\"\n        ],\n        [\n            /emotion is quantified,? memory is archived,? and creativity is algorithmically refined/gi,\n            \"emotion is measured, memory stored, and creativity tuned by algorithms\"\n        ],\n        [\n            /the world hums with predictive precision/gi,\n            \"systems run on early predictions\"\n        ],\n        [\n            /cities glow with algorithmic rhythms/gi,\n            \"cities run on automated cycles\"\n        ],\n        [\n            /identity itself becomes a malleable construct sculpted by streams of data/gi,\n            \"identity turns flexible and shaped by data\"\n        ],\n        [\n            /in this shimmering continuum/gi,\n            \"in this blended layer\"\n        ],\n        [\n            /reality and simulation converge/gi,\n            \"reality and simulation merge\"\n        ],\n        [\n            /dissolving the limitations of time and space/gi,\n            \"reducing time and distance limits\"\n        ],\n        [\n            /boundless horizon of progress shimmering in eternal algorithmic dawn/gi,\n            \"open-ended incremental innovation\"\n        ]\n    ];\n    PHRASES.forEach(([rx, rep])=>{\n        t = t.replace(rx, rep);\n    });\n    // Remove double adjectives (radiant expanse -> expanse, unless expanse replaced earlier)\n    t = t.replace(/\\b(radiant|shimmering|luminous)\\s+(expanse|horizon|network)\\b/gi, \"$2\");\n    // Collapse multiple spaces\n    return t.replace(/\\s{2,}/g, \" \");\n}\n// Humanization post-process: add gentle variability, contractions, avoid overly AI formality.\nfunction humanizeText(text, opts = {}) {\n    let t = text;\n    // Normalize spacing and fix multiple spaces\n    t = t.replace(/ +/g, \" \");\n    // Remove repetitive word patterns (words repeated 2+ times in a row)\n    t = t.replace(/\\b(\\w+)(\\s+\\1){2,}\\b/gi, \"$1\");\n    // Remove repetitive phrase patterns (simple detection)\n    t = t.replace(/\\b(.{10,30}?)\\s+\\1\\b/gi, \"$1\");\n    // Contractions (simple set)\n    if (opts.allowContractions !== false) {\n        const CONTRACTIONS = [\n            [\n                /\\b[Dd]o not\\b/g,\n                \"don't\"\n            ],\n            [\n                /\\b[Ii]t is\\b/g,\n                \"it's\"\n            ],\n            [\n                /\\b[Cc]annot\\b/g,\n                \"can't\"\n            ],\n            [\n                /\\b[Tt]hat is\\b/g,\n                \"that's\"\n            ],\n            [\n                /\\b[Tt]here is\\b/g,\n                \"there's\"\n            ],\n            [\n                /\\b[Yy]ou are\\b/g,\n                \"you're\"\n            ],\n            [\n                /\\bW[eE] are\\b/g,\n                \"we're\"\n            ],\n            [\n                /\\b[Ii] am\\b/g,\n                \"I'm\"\n            ]\n        ];\n        CONTRACTIONS.forEach(([r, rep])=>{\n            t = t.replace(r, rep);\n        });\n    } else {\n        // If contractions disallowed, expand any that slipped in\n        const EXPAND = [\n            [\n                /\\bit's\\b/gi,\n                \"it is\"\n            ],\n            [\n                /\\bcan't\\b/gi,\n                \"cannot\"\n            ],\n            [\n                /\\bthat's\\b/gi,\n                \"that is\"\n            ],\n            [\n                /\\bthere's\\b/gi,\n                \"there is\"\n            ],\n            [\n                /\\byou're\\b/gi,\n                \"you are\"\n            ],\n            [\n                /\\bwe're\\b/gi,\n                \"we are\"\n            ],\n            [\n                /\\bI'm\\b/g,\n                \"I am\"\n            ],\n            [\n                /\\bdon't\\b/gi,\n                \"do not\"\n            ]\n        ];\n        EXPAND.forEach(([r, rep])=>{\n            t = t.replace(r, rep);\n        });\n    }\n    // Slight sentence length variation: occasionally merge very short sentences.\n    const parts = t.split(/(?<=[.!?])\\s+/);\n    for(let i = 0; i < parts.length - 1; i++){\n        if (parts[i].length < 25 && parts[i + 1].length < 40 && Math.random() < 0.3) {\n            parts[i] = parts[i].replace(/[.!?]$/, \"\") + \", \" + parts[i + 1].charAt(0).toLowerCase() + parts[i + 1].slice(1);\n            parts.splice(i + 1, 1);\n            i--;\n        }\n    }\n    t = parts.join(\" \");\n    // Avoid AI style openings\n    t = t.replace(/^Here(?:'|)s a(?:n)? /i, \"\").replace(/^This is a /i, \"\");\n    t = t.replace(/^(?:Certainly|Of course)[,!]?\\s*/i, \"\");\n    // Remove lingering meta phrasing\n    t = t.replace(/I (?:have|have just|will) (?:maintained|kept|preserved|ensured) .*?$/i, \"\").trim();\n    t = t.replace(/(?:This|The above) (?:maintains|preserves|ensures) .*?$/i, \"\").trim();\n    // Fix trailing incomplete sentences\n    const sentences = t.split(/(?<=[.!?])\\s+/);\n    if (sentences.length > 1) {\n        const lastSentence = sentences[sentences.length - 1];\n        // If last sentence is incomplete and short, remove it\n        if (!/[.!?]$/.test(lastSentence.trim()) && lastSentence.trim().length < 15) {\n            sentences.pop();\n            t = sentences.join(\" \");\n        }\n    }\n    return t.trim();\n}\n// Final verification + styling pass to ensure output is humanized and style aspects considered.\nfunction finalizeOutput(raw, profile, options = {}) {\n    let out = (raw || \"\").trim();\n    if (!out) return \"\";\n    // Remove unwanted prefaces.\n    out = out.replace(/^Here(?:'|)s (?:the )?(?:rewritten|paraphrased) text:?\\s*/i, \"\").replace(/^Paraphrased (?:version|text)[:\\-]?\\s*/i, \"\");\n    // Aggressive simplification of ornate metaphors for very direct styles before other passes.\n    if (profile?.directness && profile.directness > 0.9) {\n        out = simplifyFlowery(out);\n    }\n    const sampleStyle = profile?.sampleExcerpt ? analyzeSampleStyle(profile.sampleExcerpt) : null;\n    out = humanizeText(out, {\n        allowContractions: sampleStyle ? sampleStyle.usesContractions : true,\n        preferredTransitions: sampleStyle?.preferredTransitions || []\n    });\n    if (sampleStyle) {\n        // Use original raw text context not available here; adapt relative to current only.\n        out = adaptToSampleStyle(out, out, sampleStyle);\n    }\n    if (profile) {\n        if (profile.directness > 0.75) out = out.replace(/\\b(in order to)\\b/gi, \"to\");\n        if (profile.directness < 0.25) {\n            let replaced = 0;\n            out = out.replace(/\\bto\\b/g, (m)=>replaced++ < 2 ? \"in order to\" : m);\n        }\n        // Only add lexicon notes if explicitly enabled (default: true for backward compatibility)\n        if (profile.customLexicon?.length && options.includeLexiconNotes !== false) {\n            console.log(\"Adding lexicon notes because includeLexiconNotes:\", options.includeLexiconNotes);\n            const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\b${escapeReg(w)}\\b`, \"i\").test(out));\n            if (missing.length && !/Lexicon notes:/i.test(out)) {\n                out += `\\n\\nLexicon notes: ${missing.slice(0, 5).join(\", \")}`;\n            }\n        } else {\n            console.log(\"NOT adding lexicon notes because includeLexiconNotes:\", options.includeLexiconNotes);\n        }\n    }\n    const enforced = (0,_styleRules_ts__WEBPACK_IMPORTED_MODULE_1__.enforceStyleRulesWithActions)(out);\n    out = enforced.text.replace(/\\s+$/, \"\");\n    // Repair accidental fragment splits: lowercase after a period likely a false split  join.\n    out = out.replace(/([a-z])\\.\\s+([a-z])/g, \"$1 $2\");\n    // Collapse stray multi-period artifacts.\n    out = out.replace(/\\.(\\s*\\.)+/g, \".\");\n    // Secondary punctuation normalization\n    out = out.replace(/,\\s*\\./g, \".\").replace(/\\.(\\s*,)+/g, \".\");\n    out = out.replace(/\\bof of\\b/gi, \"of\");\n    out = out.replace(/\\s+'s\\b/g, \"'s\");\n    out = fixSpellingArtifacts(out);\n    out = validateAndRepair(out, profile);\n    return {\n        text: out,\n        actions: enforced.actions\n    };\n}\n// Simplify figurative / ornate phrases into concise, direct equivalents.\nfunction simplifyFlowery(t) {\n    const replacements = [\n        [\n            /shimmering architecture of tomorrow[']s digital frontier/gi,\n            \"future digital infrastructure\"\n        ],\n        [\n            /shimmering architecture/gi,\n            \"digital structure\"\n        ],\n        [\n            /endless streams of data/gi,\n            \"continuous data streams\"\n        ],\n        [\n            /vast (and )?luminous network of shared cognition/gi,\n            \"large shared network\"\n        ],\n        [\n            /cities evolve into breathing organisms/gi,\n            \"cities operate as adaptive systems\"\n        ],\n        [\n            /quantum currents (and|&) algorithmic symphonies/gi,\n            \"highspeed compute pipelines\"\n        ],\n        [\n            /even silence is calculated,? archived,? and optimized/gi,\n            \"everything is tracked and tuned\"\n        ],\n        [\n            /time itself becomes elastic/gi,\n            \"time feels compressed\"\n        ],\n        [\n            /bending gracefully to the will of predictive engines that anticipate desire before it arises/gi,\n            \"driven by systems that predict needs early\"\n        ],\n        [\n            /individuality dissolves into the elegant geometry of collective progress/gi,\n            \"individual signals fold into shared progress\"\n        ],\n        [\n            /the distinction between thought and technology fades/gi,\n            \"human intent and tool execution blur\"\n        ],\n        [\n            /harmonious rhythm of perpetual innovation/gi,\n            \"constant incremental innovation\"\n        ]\n    ];\n    replacements.forEach(([rx, rep])=>{\n        t = t.replace(rx, rep);\n    });\n    // Remove stacked ornate adjectives (keep last core noun phrase)\n    t = t.replace(/\\b([A-Za-z]+,\\s+){1,3}([A-Za-z]+) (network|system|architecture|progress)\\b/g, \"$2 $3\");\n    return t.replace(/\\s{2,}/g, \" \");\n}\nconst AI_PHRASES = [\n    \"in conclusion\",\n    \"this article\",\n    \"the following\",\n    \"as an ai\",\n    \"here is\",\n    \"here are\",\n    \"in this section\",\n    \"overall,\"\n];\nfunction analyzeHumanization(text, profile) {\n    const sentences = text.split(/(?<=[.!?])\\s+/).filter((s)=>s.trim().length);\n    const sentenceLengths = sentences.map((s)=>s.length);\n    const avg = sentenceLengths.reduce((a, b)=>a + b, 0) / (sentenceLengths.length || 1);\n    const variance = sentenceLengths.reduce((a, b)=>a + Math.pow(b - avg, 2), 0) / (sentenceLengths.length || 1);\n    const std = Math.sqrt(variance);\n    const words = text.toLowerCase().match(/\\b[\\w']+\\b/g) || [];\n    const unique = new Set(words);\n    const uniqueRatio = words.length ? unique.size / words.length : 0;\n    const hits = AI_PHRASES.filter((p)=>new RegExp(`\\\\b${escapeReg(p)}\\\\b`, \"i\").test(text));\n    // Custom lexicon presence count\n    let lexCount = 0;\n    if (profile?.customLexicon?.length) {\n        for (const w of profile.customLexicon){\n            if (new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(text)) lexCount++;\n        }\n    }\n    // Repeated sentence starts\n    const startsFreq = {};\n    for (const s of sentences){\n        const m = s.trim().match(/^([A-Za-z']+)/);\n        if (m) {\n            const k = m[1].toLowerCase();\n            startsFreq[k] = (startsFreq[k] || 0) + 1;\n        }\n    }\n    const maxStart = Object.values(startsFreq).reduce((a, b)=>Math.max(a, b), 0);\n    const repeatedStartsRatio = sentences.length ? maxStart / sentences.length : 0;\n    const isHumanized = avg >= 40 && avg <= 260 && // not too uniform extremes\n    std >= 15 && // some variance\n    uniqueRatio > 0.35 && hits.length === 0 && repeatedStartsRatio < 0.5 && (!profile?.customLexicon?.length || lexCount > 0);\n    return {\n        sentenceCount: sentences.length,\n        avgSentenceLength: avg,\n        sentenceLengthStd: std,\n        uniqueTokenRatio: uniqueRatio,\n        aiPhraseHits: hits,\n        customLexiconPresent: lexCount,\n        repeatedStartsRatio,\n        isHumanized,\n        passes: 0\n    };\n}\nfunction verifyAndFinalize(raw, profile, maxPasses = 2, options = {}) {\n    let currentResult = finalizeOutput(raw, profile, options);\n    let current = typeof currentResult === \"string\" ? currentResult : currentResult.text;\n    let metrics = analyzeHumanization(current, profile);\n    let passes = 0;\n    while(!metrics.isHumanized && passes < maxPasses){\n        passes++;\n        current = adjustmentPass(current, profile, passes);\n        const re = finalizeOutput(current, profile, options);\n        current = typeof re === \"string\" ? re : re.text; // re-apply cleanup\n        metrics = analyzeHumanization(current, profile);\n        metrics.passes = passes;\n    }\n    metrics.passes = passes;\n    return {\n        output: current,\n        metrics\n    };\n}\nfunction adjustmentPass(text, profile, pass) {\n    let t = text;\n    // If sentence variance low, attempt merges or splits.\n    const sentences = t.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    if (sentences.length > 2) {\n        // Merge two shortest\n        const sortedIdx = sentences.map((s, i)=>({\n                s,\n                i\n            })).sort((a, b)=>a.s.length - b.s.length).slice(0, 2).map((o)=>o.i).sort((a, b)=>b - a);\n        if (sortedIdx.length === 2 && Math.random() < 0.6) {\n            const a = sentences[sortedIdx[1]].replace(/[.!?]$/, \"\");\n            sentences[sortedIdx[1]] = a + \", \" + sentences[sortedIdx[0]].charAt(0).toLowerCase() + sentences[sortedIdx[0]].slice(1);\n            sentences.splice(sortedIdx[0], 1);\n            t = sentences.join(\" \");\n        }\n    }\n    // Remove AI phrases if any\n    for (const phrase of AI_PHRASES){\n        const re = new RegExp(`\\\\b${escapeReg(phrase)}\\\\b`, \"ig\");\n        t = t.replace(re, \"\");\n    }\n    // If lexicon missing, inject subtle parenthetical rather than notes if not already there.\n    if (profile?.customLexicon?.length) {\n        const firstMissing = profile.customLexicon.find((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(t));\n        if (firstMissing && !/Lexicon notes:/i.test(t)) {\n            t += (t.endsWith(\".\") ? \"\" : \".\") + \" (\" + firstMissing + \")\";\n        }\n    }\n    // Vary starts if repeated\n    const starts = t.split(/(?<=[.!?])\\s+/).map((s)=>s.trim()).filter(Boolean);\n    const startWords = starts.map((s)=>(s.match(/^([A-Za-z']+)/)?.[1] || \"\").toLowerCase());\n    const freq = {};\n    startWords.forEach((w)=>{\n        if (w) freq[w] = (freq[w] || 0) + 1;\n    });\n    const maxFreqWord = Object.entries(freq).sort((a, b)=>b[1] - a[1])[0]?.[0];\n    if (maxFreqWord) {\n        for(let i = 1; i < starts.length; i++){\n            if (starts[i].toLowerCase().startsWith(maxFreqWord) && Math.random() < 0.5) {\n                starts[i] = varySentenceStart(starts[i]);\n            }\n        }\n        t = starts.join(\" \");\n    }\n    return t;\n}\nfunction varySentenceStart(s) {\n    const transitions = [\n        \"However,\",\n        \"Moreover,\",\n        \"Additionally,\",\n        \"Still,\",\n        \"Instead,\",\n        \"Meanwhile,\"\n    ];\n    const firstWord = s.match(/^([A-Za-z']+)/)?.[1] || \"\";\n    if (!firstWord) return s;\n    if (new RegExp(`^(${transitions.join(\"|\")})`, \"i\").test(s)) return s; // already varied\n    if (Math.random() < 0.6) {\n        return transitions[Math.floor(Math.random() * transitions.length)] + \" \" + s.charAt(0).toLowerCase() + s.slice(1);\n    }\n    return s;\n}\nconst TRANSITION_CANDIDATES = [\n    \"However,\",\n    \"Moreover,\",\n    \"Additionally,\",\n    \"Furthermore,\",\n    \"Meanwhile,\",\n    \"Instead,\",\n    \"Still,\",\n    \"Thus,\",\n    \"Therefore,\"\n];\nfunction analyzeSampleStyle(sample) {\n    const sentences = sample.split(/(?<=[.!?])\\s+/).filter((s)=>s.trim().length);\n    const lengths = sentences.map((s)=>s.length);\n    const avg = lengths.reduce((a, b)=>a + b, 0) / (lengths.length || 1);\n    const variance = lengths.reduce((a, b)=>a + Math.pow(b - avg, 2), 0) / (lengths.length || 1);\n    const std = Math.sqrt(variance);\n    const usesContractions = /\\b(?:[A-Za-z]+n't|it's|I'm|you're|we're|they're|that's)\\b/i.test(sample);\n    // Count transitions\n    const transitionCounts = {};\n    for (const t of TRANSITION_CANDIDATES){\n        const rx = new RegExp(\"^\" + escapeReg(t) + \"\\\\s\", \"gmi\");\n        const count = (sample.match(rx) || []).length;\n        if (count) transitionCounts[t] = count;\n    }\n    const preferredTransitions = Object.entries(transitionCounts).sort((a, b)=>b[1] - a[1]).slice(0, 3).map(([t])=>t);\n    // High frequency words (exclude stopwords)\n    const STOP = new Set([\n        \"the\",\n        \"a\",\n        \"an\",\n        \"and\",\n        \"or\",\n        \"but\",\n        \"of\",\n        \"in\",\n        \"on\",\n        \"for\",\n        \"to\",\n        \"it\",\n        \"is\",\n        \"are\",\n        \"be\",\n        \"as\",\n        \"that\",\n        \"this\",\n        \"with\",\n        \"by\",\n        \"was\",\n        \"were\",\n        \"at\"\n    ]);\n    const words = sample.toLowerCase().match(/\\b[a-z]{4,}\\b/g) || [];\n    const freq = {};\n    for (const w of words){\n        if (!STOP.has(w)) freq[w] = (freq[w] || 0) + 1;\n    }\n    const highFrequencyWords = Object.entries(freq).sort((a, b)=>b[1] - a[1]).slice(0, 30).map(([w])=>w);\n    const commaCount = (sample.match(/,/g) || []).length;\n    const semiCount = (sample.match(/;/g) || []).length;\n    const transitionStarts = sentences.filter((s)=>/^\\s*(However,|Moreover,|Additionally,|Furthermore,|Meanwhile,|Instead,|Still,|Thus,|Therefore,)/i.test(s)).length;\n    // Simple adverb extraction (ending with ly, length >4) frequency\n    const adverbFreq = {};\n    (sample.match(/\\b[a-z]{5,}ly\\b/gi) || []).forEach((w)=>{\n        adverbFreq[w.toLowerCase()] = (adverbFreq[w.toLowerCase()] || 0) + 1;\n    });\n    const topAdverbs = Object.entries(adverbFreq).sort((a, b)=>b[1] - a[1]).slice(0, 5).map(([w])=>w);\n    // Enhanced analysis for AI prompting\n    const allWords = sample.split(/\\s+/);\n    const wordLengths = allWords.map((w)=>w.replace(/[^\\w]/g, \"\").length).filter((l)=>l > 0);\n    const avgWordLength = wordLengths.reduce((sum, len)=>sum + len, 0) / wordLengths.length;\n    // Vocabulary complexity analysis\n    const complexWords = allWords.filter((w)=>w.replace(/[^\\w]/g, \"\").length > 7);\n    const vocabularyComplexity = complexWords.length / allWords.length;\n    // Sentence type analysis\n    const questionSentences = sentences.filter((s)=>s.includes(\"?\")).length;\n    const exclamatorySentences = sentences.filter((s)=>s.includes(\"!\")).length;\n    const questionRatio = sentences.length ? questionSentences / sentences.length : 0;\n    const exclamatoryRatio = sentences.length ? exclamatorySentences / sentences.length : 0;\n    // Sentence starter patterns\n    const sentenceStarters = sentences.map((s)=>{\n        const firstWord = s.trim().split(/\\s+/)[0]?.toLowerCase()?.replace(/[^\\w]/g, \"\");\n        return firstWord;\n    }).filter(Boolean);\n    const starterPatterns = {};\n    sentenceStarters.forEach((starter)=>{\n        if (starter && starter.length > 2) {\n            starterPatterns[starter] = (starterPatterns[starter] || 0) + 1;\n        }\n    });\n    const commonStarters = Object.entries(starterPatterns).sort(([, a], [, b])=>b - a).slice(0, 5).map(([starter])=>starter);\n    // Conjunction density\n    const conjunctions = [\n        \"and\",\n        \"but\",\n        \"or\",\n        \"nor\",\n        \"yet\",\n        \"so\",\n        \"because\",\n        \"since\",\n        \"although\",\n        \"while\",\n        \"if\",\n        \"unless\"\n    ];\n    const conjunctionCount = conjunctions.reduce((count, conj)=>{\n        const regex = new RegExp(`\\\\b${conj}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const conjunctionDensity = sentences.length ? conjunctionCount / sentences.length : 0;\n    // Descriptive language patterns\n    const adjectivePatterns = /\\b(beautiful|amazing|wonderful|terrible|horrible|excellent|outstanding|remarkable|extraordinary|incredible|fantastic|brilliant|magnificent|stunning|gorgeous|lovely|charming|delightful|pleasant|impressive|significant|important|crucial|essential|vital|necessary|useful|helpful|effective|successful|powerful|strong|weak|small|large|huge|tiny|enormous|massive|great|good|bad|poor|rich|expensive|cheap|easy|difficult|hard|simple|complex|complicated)\\b/gi;\n    const adjectives = sample.match(adjectivePatterns) || [];\n    const adjectiveDensity = adjectives.length / allWords.length;\n    // Tone analysis\n    const positiveWords = [\n        \"good\",\n        \"great\",\n        \"excellent\",\n        \"amazing\",\n        \"wonderful\",\n        \"fantastic\",\n        \"brilliant\",\n        \"outstanding\",\n        \"impressive\",\n        \"successful\",\n        \"effective\",\n        \"helpful\",\n        \"useful\",\n        \"important\",\n        \"significant\",\n        \"valuable\",\n        \"beneficial\"\n    ];\n    const negativeWords = [\n        \"bad\",\n        \"terrible\",\n        \"horrible\",\n        \"awful\",\n        \"poor\",\n        \"weak\",\n        \"difficult\",\n        \"hard\",\n        \"complicated\",\n        \"problematic\",\n        \"challenging\",\n        \"concerning\",\n        \"disappointing\",\n        \"ineffective\",\n        \"useless\"\n    ];\n    const positiveCount = positiveWords.reduce((count, word)=>{\n        const regex = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const negativeCount = negativeWords.reduce((count, word)=>{\n        const regex = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\n        return count + (sample.match(regex) || []).length;\n    }, 0);\n    const toneBalance = positiveCount > negativeCount ? \"positive\" : negativeCount > positiveCount ? \"negative\" : \"neutral\";\n    // Personal voice analysis\n    const firstPersonPronouns = (sample.match(/\\b(I|me|my|mine|myself|we|us|our|ours|ourselves)\\b/gi) || []).length;\n    const secondPersonPronouns = (sample.match(/\\b(you|your|yours|yourself|yourselves)\\b/gi) || []).length;\n    const thirdPersonPronouns = (sample.match(/\\b(he|she|it|they|him|her|them|his|hers|its|their|theirs|himself|herself|itself|themselves)\\b/gi) || []).length;\n    const personalVoice = firstPersonPronouns > secondPersonPronouns + thirdPersonPronouns ? \"first-person\" : secondPersonPronouns > firstPersonPronouns + thirdPersonPronouns ? \"second-person\" : \"third-person\";\n    // ENHANCED SENTENCE CONSTRUCTION ANALYSIS\n    // Sentence structure patterns\n    const sentenceStructures = sentences.map((sentence)=>{\n        const trimmed = sentence.trim();\n        const hasSubordinate = /\\b(because|since|although|while|if|unless|when|where|that|which)\\b/i.test(trimmed);\n        const hasCoordinate = /\\b(and|but|or|nor|yet|so)\\b/i.test(trimmed);\n        const hasParentheticals = /\\([^)]+\\)|\\[[^\\]]+\\]|,\\s+[^,]+,/g.test(trimmed);\n        const hasAppositive = /,\\s+(?:a|an|the)\\s+\\w+(?:\\s+\\w+)*,/i.test(trimmed);\n        const startsWithDependent = /^(?:Because|Since|Although|While|If|Unless|When|Where|That|Which)\\b/i.test(trimmed);\n        return {\n            hasSubordinate,\n            hasCoordinate,\n            hasParentheticals,\n            hasAppositive,\n            startsWithDependent,\n            length: trimmed.length\n        };\n    });\n    // Calculate construction preferences\n    const constructionPatterns = {\n        subordinateClauseRatio: sentenceStructures.filter((s)=>s.hasSubordinate).length / sentences.length,\n        coordinateClauseRatio: sentenceStructures.filter((s)=>s.hasCoordinate).length / sentences.length,\n        parentheticalRatio: sentenceStructures.filter((s)=>s.hasParentheticals).length / sentences.length,\n        appositiveRatio: sentenceStructures.filter((s)=>s.hasAppositive).length / sentences.length,\n        frontLoadedDependentRatio: sentenceStructures.filter((s)=>s.startsWithDependent).length / sentences.length\n    };\n    // Punctuation patterns\n    const punctuationPatterns = {\n        dashUsage: (sample.match(/|--/g) || []).length,\n        colonUsage: (sample.match(/:/g) || []).length,\n        ellipsisUsage: (sample.match(/\\.\\.\\./g) || []).length,\n        quotationUsage: (sample.match(/[\"']/g) || []).length\n    };\n    // Sentence complexity analysis\n    const clausePatterns = sentences.map((sentence)=>{\n        const clauses = sentence.split(/[,;]/).length;\n        return clauses;\n    });\n    const avgClausesPerSentence = clausePatterns.reduce((sum, count)=>sum + count, 0) / clausePatterns.length;\n    // Parallel structure detection\n    const parallelStructures = sentences.filter((sentence)=>{\n        // Look for patterns like \"X, Y, and Z\" or \"to X, to Y, and to Z\"\n        const parallelPatterns = [\n            /\\b\\w+ing,\\s*\\w+ing,?\\s*(?:and|or)\\s*\\w+ing\\b/g,\n            /\\bto\\s+\\w+,\\s*to\\s+\\w+,?\\s*(?:and|or)\\s*to\\s+\\w+\\b/g,\n            /\\b(?:the|a|an)\\s+\\w+,\\s*(?:the|a|an)\\s+\\w+,?\\s*(?:and|or)\\s*(?:the|a|an)\\s+\\w+\\b/g\n        ];\n        return parallelPatterns.some((pattern)=>pattern.test(sentence));\n    }).length;\n    const parallelStructureRatio = sentences.length ? parallelStructures / sentences.length : 0;\n    // Modifier placement patterns\n    const modifierPatterns = {\n        frontLoadedAdverbs: sentences.filter((s)=>/^\\s*\\w+ly,?\\s+/i.test(s)).length / sentences.length,\n        midSentenceAdverbs: sentences.filter((s)=>/,\\s+\\w+ly,?\\s+/i.test(s)).length / sentences.length,\n        endSentenceAdverbs: sentences.filter((s)=>/\\s+\\w+ly\\.?$/i.test(s)).length / sentences.length\n    };\n    return {\n        avgSentenceLength: avg,\n        sentenceLengthStd: std,\n        usesContractions,\n        preferredTransitions,\n        highFrequencyWords,\n        commaPerSentence: sentences.length ? commaCount / sentences.length : 0,\n        semicolonRatio: sentences.length ? semiCount / sentences.length : 0,\n        transitionStartRatio: sentences.length ? transitionStarts / sentences.length : 0,\n        topAdverbs,\n        // Enhanced properties for AI prompting\n        avgWordLength,\n        vocabularyComplexity,\n        questionRatio,\n        exclamatoryRatio,\n        commonStarters,\n        conjunctionDensity,\n        adjectiveDensity,\n        toneBalance,\n        personalVoice,\n        // NEW: Sentence construction patterns\n        constructionPatterns,\n        punctuationPatterns,\n        avgClausesPerSentence,\n        parallelStructureRatio,\n        modifierPatterns\n    };\n}\n// Adapt output to more closely reflect sample stylistic metrics (light touch to preserve meaning)\nfunction adaptToSampleStyle(original, current, sampleStyle) {\n    let out = current;\n    const sentences = out.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    // Adjust sentence length distribution toward sample average (merge or split)\n    const curAvg = sentences.reduce((a, b)=>a + b.length, 0) / (sentences.length || 1);\n    if (sampleStyle.avgSentenceLength && Math.abs(curAvg - sampleStyle.avgSentenceLength) > 40) {\n        if (curAvg < sampleStyle.avgSentenceLength) {\n            // merge adjacent short sentences\n            for(let i = 0; i < sentences.length - 1; i++){\n                if (sentences[i].length < 70 && sentences[i + 1].length < 70) {\n                    sentences[i] = sentences[i].replace(/[.!?]$/, \"\") + \", \" + sentences[i + 1].charAt(0).toLowerCase() + sentences[i + 1].slice(1);\n                    sentences.splice(i + 1, 1);\n                    i--;\n                    if (sentences.reduce((a, b)=>a + b.length, 0) / (sentences.length || 1) >= sampleStyle.avgSentenceLength) break;\n                }\n            }\n        } else {\n            // split long sentences on commas\n            for(let i = 0; i < sentences.length; i++){\n                if (sentences[i].length > 160) {\n                    const parts = sentences[i].split(/,\\s+/);\n                    if (parts.length > 2) {\n                        const first = parts.slice(0, Math.ceil(parts.length / 2)).join(\", \");\n                        const second = parts.slice(Math.ceil(parts.length / 2)).join(\", \");\n                        sentences[i] = first + \".\";\n                        sentences.splice(i + 1, 0, second.charAt(0).toUpperCase() + second.slice(1));\n                        i++;\n                    }\n                }\n            }\n        }\n    }\n    out = sentences.join(\" \");\n    // Increase transitional openings if sample uses them frequently\n    if (sampleStyle.transitionStartRatio > 0.3) {\n        const transNeeded = Math.ceil(sentences.length * sampleStyle.transitionStartRatio);\n        let applied = 0;\n        for(let i = 0; i < sentences.length && applied < transNeeded; i++){\n            if (!/^\\s*(However,|Moreover,|Additionally,|Furthermore,|Meanwhile,|Instead,|Still,|Thus,|Therefore,)/i.test(sentences[i])) {\n                const t = sampleStyle.preferredTransitions[applied % sampleStyle.preferredTransitions.length] || \"However,\";\n                sentences[i] = t + \" \" + sentences[i].charAt(0).toLowerCase() + sentences[i].slice(1);\n                applied++;\n            }\n        }\n        out = sentences.join(\" \");\n    }\n    // If comma density in sample higher, lightly add commas before which/that clauses\n    if (sampleStyle.commaPerSentence > 1.2) {\n        out = out.replace(/\\bwhich\\s+/gi, \"which \").replace(/\\bthat\\s+/gi, \"that \");\n        out = out.replace(/\\b(which|that)\\s+([a-z]+)/gi, (m, rel, nxt)=>\", \" + rel + \" \" + nxt);\n    }\n    // REMOVED: Auto-injection of adverbs that breaks sentence structure\n    // The AI should handle vocabulary naturally without forced insertions\n    // If lexical change is still very low (<12%) relative to original, force additional variation\n    if (lexicalChangeRatio(original, out) < 0.12) {\n        out = forceVariation(out, 0.18);\n    }\n    return out;\n}\n// --- Artifact & spelling cleanup ---\nfunction fixSpellingArtifacts(text) {\n    let t = text;\n    // Collapse accidental immediate word repetitions (case-insensitive) for words > 3 chars, keep first.\n    t = t.replace(/\\b([A-Za-z]{4,})\\b(\\s+\\1\\b)+/gi, (m, w)=>w);\n    // Target a second pass for shorter duplicated function words (is is, the the)\n    t = t.replace(/\\b(is|the|and|to|of)\\b\\s+\\1\\b/gi, \"$1\");\n    // Common adverb / adjective minor typos introduced by trimming or extra letter\n    const CORRECTIONS = {\n        \"especialy\": \"especially\",\n        \"especiallyy\": \"especially\",\n        \"especiallyus\": \"especially\",\n        \"lumino\": \"luminous\",\n        \"luminous\": \"luminous\",\n        \"notabl\": \"notably\",\n        \"definately\": \"definitely\",\n        \"seperately\": \"separately\",\n        \"architecure\": \"architecture\",\n        \"exsistence\": \"existence\",\n        \"existance\": \"existence\",\n        \"cognative\": \"cognitive\",\n        \"algorithmic\": \"algorithmic\",\n        \"necesitate\": \"necessitate\",\n        \"necessitate\": \"necessitate\"\n    };\n    t = t.replace(/\\b[A-Za-z]{5,}\\b/g, (w)=>{\n        const lower = w.toLowerCase();\n        if (CORRECTIONS[lower]) {\n            const rep = CORRECTIONS[lower];\n            return w[0] === w[0].toUpperCase() ? rep.charAt(0).toUpperCase() + rep.slice(1) : rep;\n        }\n        // Trailing duplicated last char heuristic (especiallyy -> especially) if removing one yields existing English-looking pattern\n        if (/([a-z])\\1$/i.test(w) && w.length > 6) {\n            const trimmed = w.slice(0, -1);\n            if (trimmed.endsWith(\"ly\") || trimmed.endsWith(\"ily\") || trimmed.endsWith(\"ally\")) return trimmed;\n        }\n        // Handle malformed words with embedded duplications (especiallyus -> especially)\n        if (/ly[a-z]+$/i.test(w)) {\n            const baseMatch = w.match(/^([a-z]+ly)/i);\n            if (baseMatch && baseMatch[1].length >= 6) {\n                const base = baseMatch[1];\n                const corrected = CORRECTIONS[base.toLowerCase()] || base;\n                return w[0] === w[0].toUpperCase() ? corrected.charAt(0).toUpperCase() + corrected.slice(1) : corrected;\n            }\n        }\n        // Handle truncated words missing last letter (lumino -> luminous)\n        if (w.length >= 6 && !w.endsWith(\"ly\") && !w.endsWith(\"ed\") && !w.endsWith(\"ing\")) {\n            for (const [typo, correct] of Object.entries(CORRECTIONS)){\n                if (correct.startsWith(w.toLowerCase()) && correct.length === w.length + 1) {\n                    return w[0] === w[0].toUpperCase() ? correct.charAt(0).toUpperCase() + correct.slice(1) : correct;\n                }\n            }\n        }\n        return w;\n    });\n    // Join short fragment sentences that were split incorrectly: pattern \". Yet as\" style\n    t = t.replace(/\\.\\s+(Yet|And|But)\\s+as\\b/g, \", yet as\");\n    // Merge very short fragment preceding capitalized continuation (avoid proper nouns) e.g. \"Cities, no longer confined... Ascend as\" -> \", no longer confined ... ascend as\"\n    t = t.replace(/([a-z]),?\\s+([A-Z][a-z]+),?\\s+no longer ([^.]+)\\.\\s+([A-Z][a-z]+)scend as/gi, (m, a, city, rest, asc)=>`${a}, ${city.toLowerCase()}, no longer ${rest}, ascend as`);\n    // Remove doubled spaces from edits\n    t = t.replace(/ {2,}/g, \" \");\n    // Lightweight dictionary-based single-letter omission fix for common adverbs ending in 'ly'\n    const COMMON_ADVERBS = [\n        \"notably\",\n        \"especially\",\n        \"clearly\",\n        \"simply\",\n        \"truly\",\n        \"really\",\n        \"generally\",\n        \"directly\",\n        \"precisely\",\n        \"roughly\",\n        \"nearly\",\n        \"slowly\",\n        \"quickly\",\n        \"rapidly\",\n        \"seamlessly\",\n        \"effortlessly\"\n    ];\n    t = t.replace(/\\b([A-Za-z]{5,})\\b/g, (w)=>{\n        const lower = w.toLowerCase();\n        if (COMMON_ADVERBS.includes(lower)) return w; // ok\n        if (!/[a-z]bl$/i.test(w) && !/[a-z]ll?y$/i.test(w)) return w;\n        // missing 'y' pattern: notabl -> notably\n        if (COMMON_ADVERBS.includes(lower + \"y\")) {\n            const rep = lower + \"y\";\n            return w[0] === w[0].toUpperCase() ? rep.charAt(0).toUpperCase() + rep.slice(1) : rep;\n        }\n        return w;\n    });\n    // Fix common word boundary issues and malformed compound words\n    t = t.replace(/\\ban complex\\b/gi, \"a complex\");\n    t = t.replace(/\\bnecessitate necessitate\\b/gi, \"necessitate\");\n    t = t.replace(/\\bthat's at once\\b/gi, \"that is at once\");\n    // Remove artifacts from aggressive rewriting\n    t = t.replace(/\\s+(us|ly)\\b(?=\\s+[a-z])/gi, \"\");\n    t = t.replace(/\\bespecially especially\\b/gi, \"especially\");\n    return t;\n}\n// Validate style application & repair if constraints unmet\nfunction validateAndRepair(out, profile) {\n    if (!profile) return out;\n    let text = out;\n    // Ensure custom lexicon words appear (at least 1 missing -> inject near end)\n    if (profile.customLexicon?.length) {\n        const missing = profile.customLexicon.filter((w)=>!new RegExp(`\\\\b${escapeReg(w)}\\\\b`, \"i\").test(text));\n        if (missing.length) {\n            text += (text.endsWith(\".\") ? \"\" : \".\") + \" \" + missing.slice(0, 2).join(\", \") + \".\";\n        }\n    }\n    // Directness high: remove flowery adjectives\n    if (profile.directness > 0.8) {\n        const FLOWERY = /(hypnotic|hypnotizing|luminous|shimmering|radiant|ethereal|boundless|symphonic|harmonic|crystalline|algorithmic|infinite|perpetual)\\b/gi;\n        text = text.replace(FLOWERY, (m)=>{\n            const simpleMap = {\n                luminous: \"bright\",\n                shimmering: \"bright\",\n                radiant: \"bright\",\n                ethereal: \"light\",\n                boundless: \"wide\",\n                symphonic: \"coordinated\",\n                harmonic: \"balanced\",\n                crystalline: \"clear\",\n                algorithmic: \"automated\",\n                infinite: \"vast\",\n                perpetual: \"continuous\",\n                hypnotic: \"engaging\",\n                hypnotizing: \"engaging\"\n            };\n            const lower = m.toLowerCase();\n            return simpleMap[lower] || \"\";\n        });\n    }\n    // Descriptiveness low: strip many adverbs\n    if (profile.descriptiveness < 0.3) {\n        text = text.replace(/\\b\\w+ly\\b/g, (m)=>profile.customLexicon?.includes(m) ? m : \"\");\n    }\n    // Pacing adjustments\n    const sentences = text.split(/(?<=[.!?])\\s+/).filter(Boolean);\n    if (profile.pacing > 0.75) {\n        for(let i = 0; i < sentences.length; i++){\n            if (sentences[i].length > 140) {\n                sentences[i] = sentences[i].replace(/,\\s+([a-z])/gi, \". $1\");\n            }\n        }\n    } else if (profile.pacing < 0.25) {\n        for(let i = 0; i < sentences.length - 1; i++){\n            if (sentences[i].length < 60 && sentences[i + 1].length < 60) {\n                sentences[i] = sentences[i].replace(/[.!?]$/, \"\") + \", \" + sentences[i + 1].charAt(0).toLowerCase() + sentences[i + 1].slice(1);\n                sentences.splice(i + 1, 1);\n                i--;\n            }\n        }\n    }\n    text = sentences.join(\" \");\n    // Final spelling artifact cleanup after repairs\n    text = fixSpellingArtifacts(text);\n    return text;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJoSjtJQUM1QixPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9wYXJhcGhyYXNlLnRzP2E5ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTdHlsZVByb2ZpbGUgfSBmcm9tICcuL3N0eWxlUHJvZmlsZS50cyc7XHJcbmltcG9ydCB7IGJ1aWxkRnJlcXVlbmN5TWFwLCBwaWNrUHJlZmVycmVkIGFzIHBpY2tGcmVxUHJlZmVycmVkIH0gZnJvbSAnLi9zdHlsZUZyZXF1ZW5jeS50cyc7XHJcbmltcG9ydCB7IGVuZm9yY2VTdHlsZVJ1bGVzV2l0aEFjdGlvbnMgfSBmcm9tICcuL3N0eWxlUnVsZXMudHMnO1xyXG5cclxuLy8gU2ltcGxlIHN5bm9ueW0gbWFwIChkZW1vIG9ubHkpXHJcbmNvbnN0IFNZTk9OWU1TOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XHJcbiAgaW1wb3J0YW50OiBbJ2NydWNpYWwnLCAndml0YWwnLCAna2V5J10sXHJcbiAgZmFzdDogWydzd2lmdCcsICdxdWljaycsICdyYXBpZCddLFxyXG4gIHNsb3c6IFsndW5odXJyaWVkJywgJ2dyYWR1YWwnLCAnbGVpc3VyZWx5J10sXHJcbiAgaW1wcm92ZTogWydlbmhhbmNlJywgJ3JlZmluZScsICdzdHJlbmd0aGVuJ10sXHJcbiAgY2xlYXI6IFsnbHVjaWQnLCAncGxhaW4nLCAndHJhbnNwYXJlbnQnXSxcclxuICBtYW55OiBbJ251bWVyb3VzJywgJ3NldmVyYWwnLCAnY291bnRsZXNzJ10sXHJcbiAgYmlnOiBbJ2xhcmdlJywgJ3N1YnN0YW50aWFsJywgJ3NpZ25pZmljYW50J10sXHJcbiAgc21hbGw6IFsnbW9kZXN0JywgJ21pbm9yJywgJ2NvbXBhY3QnXSxcclxuICBoZWxwOiBbJ2Fzc2lzdCcsICdzdXBwb3J0JywgJ2FpZCddLFxyXG4gIHNob3c6IFsnZGVtb25zdHJhdGUnLCAnZGlzcGxheScsICdpbGx1c3RyYXRlJ10sXHJcbiAgdXNlOiBbJ3V0aWxpemUnLCAnZW1wbG95JywgJ2FwcGx5J10sXHJcbiAgcXVpY2s6IFsnc3dpZnQnLCAncmFwaWQnLCAnYnJpc2snXSxcclxuICBnb29kOiBbJ3NvbGlkJywgJ3NvdW5kJywgJ3N0cm9uZyddLFxyXG4gIGJhZDogWydwb29yJywgJ3dlYWsnLCAnc3VicGFyJ10sXHJcbiAgbmVlZDogWydyZXF1aXJlJywgJ25lY2Vzc2l0YXRlJ10sXHJcbiAgZW5zdXJlOiBbJ2d1YXJhbnRlZScsICdzZWN1cmUnXSxcclxuICBhbGxvdzogWydlbmFibGUnLCAncGVybWl0J10sXHJcbiAgZ2V0OiBbJ29idGFpbicsICdzZWN1cmUnLCAnZ2FpbiddLFxyXG4gIGNyZWF0ZTogWydidWlsZCcsICdjcmFmdCcsICdwcm9kdWNlJ10sXHJcbiAgaW5jcmVhc2U6IFsnYm9vc3QnLCAncmFpc2UnLCAnZXhwYW5kJ10sXHJcbiAgbWFrZTogWydwcm9kdWNlJywgJ2NyYWZ0JywgJ2Zvcm0nXSxcclxuICBwcm92aWRlOiBbJ29mZmVyJywgJ3N1cHBseScsICdkZWxpdmVyJ10sXHJcbiAga2VlcDogWydyZXRhaW4nLCAnbWFpbnRhaW4nLCAncHJlc2VydmUnXSxcclxuICByZWR1Y2U6IFsnY3V0JywgJ2xvd2VyJywgJ2RlY3JlYXNlJ10sXHJcbiAgbGF6eTogWydpZGxlJywgJ3NsdWdnaXNoJ10sXHJcbiAganVtcHM6IFsnbGVhcHMnLCAnYm91bmRzJ11cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJhcGhyYXNlV2l0aFByb2ZpbGUodGV4dDogc3RyaW5nLCBwcm9maWxlPzogU3R5bGVQcm9maWxlLCBvcHRpb25zOiB7IGluY2x1ZGVMZXhpY29uTm90ZXM/OiBib29sZWFuIH0gPSB7fSk6IHN0cmluZyB7XHJcbiAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuICcnO1xyXG5cclxuICAvLyBCdWlsZCBmcmVxdWVuY3kgbWFwIGZyb20gdXNlciBzYW1wbGUgKG9uY2UpIHRvIGJpYXMgc3lub255bSBjaG9pY2VzIHRvd2FyZCBmYW1pbGlhciB2b2NhYnVsYXJ5LlxyXG4gIGNvbnN0IGZyZXFNYXAgPSBwcm9maWxlPy5zYW1wbGVFeGNlcnB0ID8gYnVpbGRGcmVxdWVuY3lNYXAocHJvZmlsZS5zYW1wbGVFeGNlcnB0KSA6IHt9O1xyXG4gIGNvbnN0IHNhbXBsZVN0eWxlID0gcHJvZmlsZT8uc2FtcGxlRXhjZXJwdCA/IGFuYWx5emVTYW1wbGVTdHlsZShwcm9maWxlLnNhbXBsZUV4Y2VycHQpIDogbnVsbDtcclxuXHJcbiAgLy8gQmFzaWMgc2VudGVuY2Ugc3BsaXRcclxuICBjb25zdCBzZW50ZW5jZXMgPSB0ZXh0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pO1xyXG4gIGNvbnN0IGFkanVzdGVkID0gc2VudGVuY2VzLm1hcChzID0+IHJld3JpdGVTZW50ZW5jZShzLCBwcm9maWxlLCBmcmVxTWFwLCBzYW1wbGVTdHlsZSkpO1xyXG4gIGxldCByZXN1bHQgPSBhZGp1c3RlZC5qb2luKCcgJyk7XHJcblxyXG4gIGlmIChwcm9maWxlKSB7XHJcbiAgICAvLyBBZGp1c3QgZGVzY3JpcHRpdmVuZXNzIGJ5IG9wdGlvbmFsbHkgYWRkaW5nL3JlbW92aW5nIGFkamVjdGl2ZXMgKHZlcnkgbmFpdmUpXHJcbiAgICBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPiAwLjcpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihpZGVhfGNvbmNlcHR8cGxhbilcXGIvZ2ksIG0gPT4gJ2Rpc3RpbmN0ICcgKyBtKTtcclxuICAgIH0gZWxzZSBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPCAwLjMpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihkaXN0aW5jdHx2aXZpZHxyaWNoKVxccysoaWRlYXxjb25jZXB0fHBsYW4pXFxiL2dpLCAnJDInKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXJlY3RuZXNzOiBzaG9ydGVuIG9yIHNsaWdodGx5IGV4cGFuZCBzZW50ZW5jZXNcclxuICAgIGlmIChwcm9maWxlLmRpcmVjdG5lc3MgPiAwLjcpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYihpbiBvcmRlciB0bylcXGIvZ2ksICd0bycpO1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFxiKGl0IGlzfHRoZXJlIGlzfHRoZXJlIGFyZSlcXGIvZ2ksICcnKTtcclxuICAgIH0gZWxzZSBpZiAocHJvZmlsZS5kaXJlY3RuZXNzIDwgMC4zKSB7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXGIodG8pXFxiL2dpLCAnaW4gb3JkZXIgdG8nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMZXhpY29uIGluamVjdGlvbiAoZW5zdXJlIHdvcmRzIGFwcGVhciBhdCBsZWFzdCBvbmNlKSAtIG9ubHkgaWYgZW5hYmxlZFxyXG4gICAgaWYgKHByb2ZpbGUuY3VzdG9tTGV4aWNvbj8ubGVuZ3RoICYmIG9wdGlvbnMuaW5jbHVkZUxleGljb25Ob3RlcyAhPT0gZmFsc2UpIHtcclxuICAgICAgY29uc3QgbWlzc2luZyA9IHByb2ZpbGUuY3VzdG9tTGV4aWNvbi5maWx0ZXIodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdChyZXN1bHQpKTtcclxuICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0ICs9ICdcXG5cXG5MZXhpY29uIG5vdGVzOiAnICsgbWlzc2luZy5zbGljZSgwLCA1KS5qb2luKCcsICcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcmUtY29udHJhY3Rpb24gZW5mb3JjZW1lbnQgaWYgc2FtcGxlIHByZWZlcnMgdGhlbVxyXG4gIGlmIChzYW1wbGVTdHlsZT8udXNlc0NvbnRyYWN0aW9ucykge1xyXG4gICAgLy8gQXBwbHkgY29udHJhY3Rpb24gdHJhbnNmb3JtcyBhY3Jvc3MgbXVsdGlwbGUgY29tbW9uIHBhdHRlcm5zXHJcbiAgICBjb25zdCBDT05UUl9NQVA6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgICAgWy9cXGJbSWlddCBpc1xcYi9nLCBcIml0J3NcIl0sXHJcbiAgICAgIFsvXFxiW0RkXW8gbm90XFxiL2csIFwiZG9uJ3RcIl0sXHJcbiAgICAgIFsvXFxiW0NjXWFubm90XFxiL2csIFwiY2FuJ3RcIl0sXHJcbiAgICAgIFsvXFxiW1R0XWhhdCBpc1xcYi9nLCBcInRoYXQnc1wiXSxcclxuICAgICAgWy9cXGJbVHRdaGVyZSBpc1xcYi9nLCBcInRoZXJlJ3NcIl0sXHJcbiAgICAgIFsvXFxiW1l5XW91IGFyZVxcYi9nLCBcInlvdSdyZVwiXSxcclxuICAgICAgWy9cXGJXW2VFXSBhcmVcXGIvZywgXCJ3ZSdyZVwiXSxcclxuICAgICAgWy9cXGJbSWldIGFtXFxiL2csIFwiSSdtXCJdLFxyXG4gICAgXTtcclxuICAgIENPTlRSX01BUC5mb3JFYWNoKChbciwgcmVwXSkgPT4geyByZXN1bHQgPSByZXN1bHQucmVwbGFjZShyLCByZXApOyB9KTtcclxuICAgIC8vIEd1YXJhbnRlZSBhdCBsZWFzdCBvbmUgY29udHJhY3Rpb24gaWYgc2FtcGxlIHVzZWQgdGhlbSBhbmQgdGV4dCBoYWQgZWxpZ2libGUgcGF0dGVybnNcclxuICAgIGlmICghL1xcYig/Oml0J3N8ZG9uJ3R8Y2FuJ3R8dGhhdCdzfHRoZXJlJ3N8eW91J3JlfHdlJ3JlfEknbSlcXGIvaS50ZXN0KHJlc3VsdCkpIHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcYkl0IGlzXFxiLywgXCJJdCdzXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXN1bHQgPSBodW1hbml6ZVRleHQocmVzdWx0LCB7IGFsbG93Q29udHJhY3Rpb25zOiBzYW1wbGVTdHlsZSA/IHNhbXBsZVN0eWxlLnVzZXNDb250cmFjdGlvbnMgOiB0cnVlLCBwcmVmZXJyZWRUcmFuc2l0aW9uczogc2FtcGxlU3R5bGU/LnByZWZlcnJlZFRyYW5zaXRpb25zIHx8IFtdIH0pO1xyXG5cclxuICAvLyBIaWdoLWRpcmVjdG5lc3MgYWdncmVzc2l2ZSBzaW1wbGlmaWNhdGlvbiAocHJlLWVtcHQgZmxvd2VyeSBwaHJhc2luZylcclxuICBpZiAocHJvZmlsZT8uZGlyZWN0bmVzcyAmJiBwcm9maWxlLmRpcmVjdG5lc3MgPiAwLjkpIHtcclxuICAgIHJlc3VsdCA9IGFnZ3Jlc3NpdmVEaXJlY3RTaW1wbGlmeShyZXN1bHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgZWZmZWN0aXZlbHkgdW5jaGFuZ2VkLCBhcHBseSBhIGZhbGxiYWNrIGRpdmVyc2lmaWNhdGlvbiBwYXNzXHJcbiAgaWYgKHJvdWdobHlFcXVhbCh0ZXh0LCByZXN1bHQpKSB7XHJcbiAgICByZXN1bHQgPSBmYWxsYmFja0RpdmVyc2lmeSh0ZXh0LCBwcm9maWxlLCBmcmVxTWFwKTtcclxuICB9XHJcblxyXG4gIC8vIEVuZm9yY2UgbWluaW11bSBsZXhpY2FsIGNoYW5nZSByYXRpbyBmb3IgaGlnaCBkaXJlY3RuZXNzL3BhY2luZzogaWYgdG9vIHNpbWlsYXIsIGZvcmNlIHZhcmlhdGlvblxyXG4gIGlmIChwcm9maWxlPy5kaXJlY3RuZXNzICYmIHByb2ZpbGUuZGlyZWN0bmVzcyA+IDAuOSkge1xyXG4gICAgY29uc3QgcmF0aW8gPSBsZXhpY2FsQ2hhbmdlUmF0aW8odGV4dCwgcmVzdWx0KTtcclxuICAgIGlmIChyYXRpbyA8IDAuMjIpIHtcclxuICAgICAgcmVzdWx0ID0gZm9yY2VWYXJpYXRpb24ocmVzdWx0LCAwLjI1KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gSWYgc2FtcGxlIHN0eWxlIGhhcyB0YXJnZXQgc2VudGVuY2UgbGVuZ3RoIHNpZ25pZmljYW50bHkgZGlmZmVyZW50LCBsaWdodGx5IGFkanVzdCAocG9zdC1wYXNzKVxyXG4gIGlmIChzYW1wbGVTdHlsZSAmJiBzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gc2FtcGxlU3R5bGUuYXZnU2VudGVuY2VMZW5ndGg7XHJcbiAgICAvLyBJZiBvdXIgb3V0cHV0IHNlbnRlbmNlcyBhcmUgbXVjaCBsb25nZXIgdGhhbiBzYW1wbGUsIHRyeSBzcGxpdHRpbmcgb24gY29tbWFzLlxyXG4gICAgaWYgKHRhcmdldCA8IDkwKSB7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8oW14uIT9dezE0MCx9PyksKFxccyspL2csIChtLCBjbGF1c2UsIHNwKSA9PiBjbGF1c2UgKyAnLiAnKTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0ID4gMTMwKSB7XHJcbiAgICAgIC8vIFNhbXBsZSBwcmVmZXJzIGxvbmdlciBzZW50ZW5jZXM6IG9jY2FzaW9uYWxseSBtZXJnZSBhZGphY2VudCBzaG9ydCBvbmVzLlxyXG4gICAgICBjb25zdCBwYXJ0cyA9IHJlc3VsdC5zcGxpdCgvKD88PVsuIT9dKVxccysvKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICBpZiAocGFydHNbaV0ubGVuZ3RoIDwgNjAgJiYgcGFydHNbaSsxXS5sZW5ndGggPCA2MCAmJiBNYXRoLnJhbmRvbSgpIDwgMC40KSB7XHJcbiAgICAgICAgICBwYXJ0c1tpXSA9IHBhcnRzW2ldLnJlcGxhY2UoL1suIT9dJC8sICcnKSArICcsICcgKyBwYXJ0c1tpKzFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGFydHNbaSsxXS5zbGljZSgxKTtcclxuICAgICAgICAgIHBhcnRzLnNwbGljZShpKzEsMSk7IGktLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0ID0gcGFydHMuam9pbignICcpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0LnRyaW0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV3cml0ZVNlbnRlbmNlKHNlbnRlbmNlOiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIGZyZXFNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fSwgc2FtcGxlU3R5bGU6IFNhbXBsZVN0eWxlIHwgbnVsbCA9IG51bGwpOiBzdHJpbmcge1xyXG4gIGxldCBzID0gc2VudGVuY2U7XHJcbiAgLy8gUmVwbGFjZSBzeW5vbnltcyByZXNwZWN0aW5nIGZvcm1hbGl0eSAoc2ltcGxlIGhldXJpc3RpYzogaGlnaGVyIGZvcm1hbGl0eSAtPiBwaWNrIGxhdGVyIHN5bm9ueW0pXHJcbiAgcyA9IHMucmVwbGFjZSgvXFxiKFthLXpBLVpdKylcXGIvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBtYXRjaC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3Qgc3lucyA9IFNZTk9OWU1TW2tleV07XHJcbiAgICBpZiAoIXN5bnMpIHJldHVybiBtYXRjaDtcclxuICAgIC8vIFNsaWdodCBzdG9jaGFzdGljIGNob2ljZSBmb3IgdmFyaWV0eTsgYmlhcyBieSBmb3JtYWxpdHkgd2hlbiBwcm9maWxlIHByZXNlbnQuXHJcbiAgICBpZiAoIXByb2ZpbGUpIHtcclxuICAgICAgLy8gVHJ5IGZyZXF1ZW5jeSBwcmVmZXJlbmNlIGV2ZW4gd2l0aG91dCBwcm9maWxlIHN0eWxlIHNsaWRlcnMgaWYgc2FtcGxlIGF2YWlsYWJsZVxyXG4gICAgICBjb25zdCBwcmVmZXJyZWQgPSBwaWNrRnJlcVByZWZlcnJlZChzeW5zLCBmcmVxTWFwKSB8fCBwaWNrU3luKHN5bnMpO1xyXG4gICAgICByZXR1cm4gcHJlc2VydmVDYXNlKG1hdGNoLCBwcmVmZXJyZWQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmlhcyA9IE1hdGgubWluKHN5bnMubGVuZ3RoIC0gMSwgTWF0aC5mbG9vcihwcm9maWxlLmZvcm1hbGl0eSAqIHN5bnMubGVuZ3RoKSk7XHJcbiAgICBsZXQgY2FuZGlkYXRlUG9vbCA9IFsuLi5zeW5zXTtcclxuICAgIC8vIElmIGZyZXF1ZW5jeSBwcmVmZXJlbmNlIGhpdHMsIGVsZXZhdGUgaXQuXHJcbiAgICBjb25zdCBwcmVmZXJyZWQgPSBwaWNrRnJlcVByZWZlcnJlZChzeW5zLCBmcmVxTWFwKTtcclxuICAgIGlmIChwcmVmZXJyZWQpIHtcclxuICAgICAgY2FuZGlkYXRlUG9vbCA9IFtwcmVmZXJyZWQsIC4uLnN5bnMuZmlsdGVyKHN5ID0+IHN5ICE9PSBwcmVmZXJyZWQpXTtcclxuICAgIH1cclxuICAgIC8vIElmIHNhbXBsZSBzdHlsZSBoYXMgaGlnaCBmcmVxdWVuY3kgc2ltcGxlIHdvcmQgcHJlc2VudCBhbW9uZyBzeW5vbnltcywgcHJlZmVyIGl0LlxyXG4gICAgaWYgKHNhbXBsZVN0eWxlICYmIHNhbXBsZVN0eWxlLmhpZ2hGcmVxdWVuY3lXb3Jkcy5sZW5ndGgpIHtcclxuICAgICAgY29uc3Qgc2FtcGxlUHJlZmVycmVkID0gY2FuZGlkYXRlUG9vbC5maW5kKGMgPT4gc2FtcGxlU3R5bGUhLmhpZ2hGcmVxdWVuY3lXb3Jkcy5pbmNsdWRlcyhjLnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgaWYgKHNhbXBsZVByZWZlcnJlZCkge1xyXG4gICAgICAgIGNhbmRpZGF0ZVBvb2wgPSBbc2FtcGxlUHJlZmVycmVkLCAuLi5jYW5kaWRhdGVQb29sLmZpbHRlcihjID0+IGMgIT09IHNhbXBsZVByZWZlcnJlZCldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaG9zZW4gPSBNYXRoLnJhbmRvbSgpIDwgMC41NSA/IGNhbmRpZGF0ZVBvb2xbMF0gOiBjYW5kaWRhdGVQb29sW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjYW5kaWRhdGVQb29sLmxlbmd0aCldO1xyXG4gICAgcmV0dXJuIHByZXNlcnZlQ2FzZShtYXRjaCwgY2hvc2VuKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUGFjaW5nOiBzaG9ydGVyIHNlbnRlbmNlcyBmb3IgaGlnaGVyIHBhY2luZywgZWxzZSBleHBhbmQgc2xpZ2h0bHlcclxuICBpZiAocHJvZmlsZSkge1xyXG4gICAgaWYgKHByb2ZpbGUucGFjaW5nID4gMC43ICYmIHMubGVuZ3RoID4gMTIwKSB7XHJcbiAgICAgIHMgPSBzLnJlcGxhY2UoLyxcXHMrd2hpY2gvZ2ksICcuIFdoaWNoJyk7XHJcbiAgICB9IGVsc2UgaWYgKHByb2ZpbGUucGFjaW5nIDwgMC4zICYmIHMubGVuZ3RoIDwgODApIHtcclxuICAgICAgcyA9IHMucmVwbGFjZSgvXFwuJC8sICcsIHdoaWNoIGluIHR1cm4nKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gSW5qZWN0IHNhbXBsZSBzdHlsZSBwcmVmZXJyZWQgdHJhbnNpdGlvbnMgYXQgc3RhcnQgb2NjYXNpb25hbGx5XHJcbiAgaWYgKHNhbXBsZVN0eWxlICYmIHNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zLmxlbmd0aCAmJiAhL15cXHMqKEhvd2V2ZXJ8TW9yZW92ZXJ8QWRkaXRpb25hbGx5fFN0aWxsfEluc3RlYWR8TWVhbndoaWxlKS9pLnRlc3QocykpIHtcclxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4xOCkge1xyXG4gICAgICBjb25zdCB0ID0gc2FtcGxlU3R5bGUucHJlZmVycmVkVHJhbnNpdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zLmxlbmd0aCldO1xyXG4gICAgICBzID0gdCArICcgJyArIHMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcztcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlc2VydmVDYXNlKG9yaWdpbmFsOiBzdHJpbmcsIHJlcGxhY2VtZW50OiBzdHJpbmcpIHtcclxuICBpZiAob3JpZ2luYWwgPT09IG9yaWdpbmFsLnRvVXBwZXJDYXNlKCkpIHJldHVybiByZXBsYWNlbWVudC50b1VwcGVyQ2FzZSgpO1xyXG4gIGlmIChvcmlnaW5hbFswXSA9PT0gb3JpZ2luYWxbMF0udG9VcHBlckNhc2UoKSkgcmV0dXJuIHJlcGxhY2VtZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwbGFjZW1lbnQuc2xpY2UoMSk7XHJcbiAgcmV0dXJuIHJlcGxhY2VtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYXBpdGFsaXplSWYob3JpZ2luYWw6IHN0cmluZywgd29yZDogc3RyaW5nKSB7XHJcbiAgaWYgKG9yaWdpbmFsWzBdID09PSBvcmlnaW5hbFswXS50b1VwcGVyQ2FzZSgpKSByZXR1cm4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XHJcbiAgcmV0dXJuIHdvcmQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVzY2FwZVJlZyhzOiBzdHJpbmcpIHsgcmV0dXJuIHMucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgfVxyXG5cclxuZnVuY3Rpb24gcGlja1N5bihsaXN0OiBzdHJpbmdbXSkgeyByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCldOyB9XHJcblxyXG5mdW5jdGlvbiByb3VnaGx5RXF1YWwoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICBjb25zdCBuYSA9IGEucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gIGNvbnN0IG5iID0gYi5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgcmV0dXJuIG5hID09PSBuYjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmFsbGJhY2tEaXZlcnNpZnkodGV4dDogc3RyaW5nLCBwcm9maWxlPzogU3R5bGVQcm9maWxlLCBmcmVxTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge30pOiBzdHJpbmcge1xyXG4gIC8vIEZvcmNlIGEgZmV3IGxleGljYWwgc3Vic3RpdHV0aW9ucyBvbiBjb250ZW50IHdvcmRzIG5vdCBhbHJlYWR5IGluIHN5bm9ueW0gbWFwIGJ5IGluamVjdGluZyBtaWxkIGFkamVjdGl2ZXMgb3Igc3BsaXR0aW5nIHNlbnRlbmNlcy5cclxuICBsZXQgdCA9IHRleHQ7XHJcbiAgLy8gU3BsaXQgbG9uZyBzZW50ZW5jZXMgKD4gMjQgd29yZHMpIGluIGhhbGYuXHJcbiAgdCA9IHQucmVwbGFjZSgvKFteLiE/XXsxMjAsfT8pKFssOjtdKVxccysvZywgKG0sIGNsYXVzZSwgc2VwKSA9PiBjbGF1c2UgKyAnLiAnKTtcclxuICAvLyBSZXBsYWNlIHNvbWUgY29uanVuY3Rpb24gcGF0dGVybnMgdG8gdmFyeSByaHl0aG0uXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYW5kXFxzK3RoZW5cXGIvZ2ksICd0aGVuJyk7XHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYnV0XFxiL2dpLCAneWV0Jyk7XHJcbiAgLy8gSW5qZWN0IGEgbGlnaHQgYWR2ZXJiIGFmdGVyIGZpcnN0IHZlcmIgaWYgbm9uZSBjaGFuZ2VkLlxyXG4gIGNvbnN0IHdvcmRzID0gdC5zcGxpdCgvKFxccyspLyk7XHJcbiAgbGV0IGluamVjdGVkID0gZmFsc2U7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKC9eW2EtekEtWl17Nix9JC8udGVzdCh3b3Jkc1tpXSkgJiYgIWluamVjdGVkKSB7XHJcbiAgICAgIGNvbnN0IHdMb3dlciA9IHdvcmRzW2ldLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGlmIChTWU5PTllNU1t3TG93ZXJdKSB7XHJcbiAgICAgICAgd29yZHNbaV0gPSBwcmVzZXJ2ZUNhc2Uod29yZHNbaV0sIFNZTk9OWU1TW3dMb3dlcl1bMF0pO1xyXG4gICAgICAgIGluamVjdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoIWluamVjdGVkKSB7XHJcbiAgICAvLyBBZGQgYSBjb25jaXNlIHF1YWxpZmllciB0byBmaXJzdCBub3VuLWxpa2UgdG9rZW5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKC9eW0EtWmEtel17NSx9JC8udGVzdCh3b3Jkc1tpXSkpIHsgd29yZHNbaV0gPSAnbm90YWJseSAnICsgd29yZHNbaV07IGJyZWFrOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHQgPSB3b3Jkcy5qb2luKCcnKTtcclxuICBpZiAocHJvZmlsZT8uY3VzdG9tTGV4aWNvbj8ubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBmaXJzdE1pc3NpbmcgPSBwcm9maWxlLmN1c3RvbUxleGljb24uZmluZCh3ID0+ICFuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHcpfVxcXFxiYCwgJ2knKS50ZXN0KHQpKTtcclxuICAgIGlmIChmaXJzdE1pc3NpbmcpIHQgKz0gKHQuZW5kc1dpdGgoJy4nKT8nJzonLicpICsgJyAnICsgZmlyc3RNaXNzaW5nICsgJy4nO1xyXG4gIH1cclxuICByZXR1cm4gdDtcclxufVxyXG5cclxuLy8gQ29tcHV0ZSBwcm9wb3J0aW9uIG9mIHRva2VucyBjaGFuZ2VkIChjYXNlLWluc2Vuc2l0aXZlIGV4YWN0IG1hdGNoIGNvbXBhcmlzb24pXHJcbmZ1bmN0aW9uIGxleGljYWxDaGFuZ2VSYXRpbyhvcmlnaW5hbDogc3RyaW5nLCB1cGRhdGVkOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gIGNvbnN0IG9Ub2tlbnMgPSBvcmlnaW5hbC5zcGxpdCgvXFxiLykuZmlsdGVyKHQgPT4gL1tBLVphLXpdLy50ZXN0KHQpKTtcclxuICBjb25zdCB1VG9rZW5zID0gdXBkYXRlZC5zcGxpdCgvXFxiLykuZmlsdGVyKHQgPT4gL1tBLVphLXpdLy50ZXN0KHQpKTtcclxuICBpZiAoIW9Ub2tlbnMubGVuZ3RoIHx8ICF1VG9rZW5zLmxlbmd0aCkgcmV0dXJuIDA7XHJcbiAgY29uc3QgbWluTGVuID0gTWF0aC5taW4ob1Rva2Vucy5sZW5ndGgsIHVUb2tlbnMubGVuZ3RoKTtcclxuICBsZXQgY2hhbmdlZCA9IDA7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xyXG4gICAgaWYgKG9Ub2tlbnNbaV0udG9Mb3dlckNhc2UoKSAhPT0gdVRva2Vuc1tpXS50b0xvd2VyQ2FzZSgpKSBjaGFuZ2VkKys7XHJcbiAgfVxyXG4gIC8vIFBlbmFsaXplIGlkZW50aWNhbCB0cmFpbGluZyBzdHJ1Y3R1cmVcclxuICByZXR1cm4gY2hhbmdlZCAvIG1pbkxlbjtcclxufVxyXG5cclxuLy8gRm9yY2UgYWRkaXRpb25hbCBsZXhpY2FsIHZhcmlhdGlvbiBieSByZXBsYWNpbmcgYSBmcmFjdGlvbiBvZiBjb250ZW50IHdvcmRzIHdpdGggc3lub255bXMgLyBzaW1wbGlmaWNhdGlvbnMuXHJcbmZ1bmN0aW9uIGZvcmNlVmFyaWF0aW9uKHRleHQ6IHN0cmluZywgdGFyZ2V0RXh0cmFSYXRpbzogbnVtYmVyKTogc3RyaW5nIHtcclxuICBjb25zdCB3b3JkcyA9IHRleHQuc3BsaXQoLyhcXHMrKS8pO1xyXG4gIGNvbnN0IENPTlRFTlQgPSAvW0EtWmEtel17NSx9LztcclxuICBjb25zdCByZXBsQmFuazogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xyXG4gICAgc2hpbW1lcmluZzogWydicmlnaHQnLCAnZ2xlYW1pbmcnLCAnY2xlYXInXSxcclxuICAgIHJhZGlhbnQ6IFsnYnJpZ2h0JywgJ3ZpdmlkJ10sXHJcbiAgICBleHBhbnNlOiBbJ2FyZWEnLCAnZG9tYWluJ10sXHJcbiAgICBlcG9jaDogWydlcmEnLCAncGVyaW9kJ10sXHJcbiAgICBpbnRlcnR3aW5lczogWydsaW5rcycsICdjb25uZWN0cycsICdibGVuZHMnXSxcclxuICAgIHNlYW1sZXNzbHk6IFsnc21vb3RobHknLCAnZGlyZWN0bHknXSxcclxuICAgIHN5bXBob255OiBbJ3N5c3RlbScsICdibGVuZCddLFxyXG4gICAgb3B0aW1pemVkOiBbJ2VmZmljaWVudCcsICdzdHJlYW1saW5lZCddLFxyXG4gICAgZXhpc3RlbmNlOiBbJ2xpZmUnXSxcclxuICAgIGx1bWlub3VzOiBbJ2JyaWdodCddLFxyXG4gICAgY29ycmlkb3JzOiBbJ3BhdGhzJywgJ2NoYW5uZWxzJ10sXHJcbiAgICByZXNvbmFuY2U6IFsnZmxvdycsICdzaWduYWwnXSxcclxuICAgIHF1YW50aWZpZWQ6IFsnc2NvcmVkJywgJ21lYXN1cmVkJ10sXHJcbiAgICBhcmNoaXZlZDogWydzdG9yZWQnXSxcclxuICAgIHJlZmluZWQ6IFsnaW1wcm92ZWQnLCdob25lZCddLFxyXG4gICAgcHJlZGljdGl2ZTogWydmb3JlY2FzdCddLFxyXG4gICAgcHJlY2lzaW9uOiBbJ2FjY3VyYWN5J10sXHJcbiAgICBtYWxsZWFibGU6IFsnZmxleGlibGUnXSxcclxuICAgIGNvbnN0cnVjdDogWydmb3JtJ10sXHJcbiAgICBzdHJlYW1zOiBbJ2Zsb3dzJ10sXHJcbiAgICBjb250aW51dW06IFsnYmxlbmQnLCAnc3BhbiddLFxyXG4gICAgY29udmVyZ2U6IFsnbWVyZ2UnLCAnYmxlbmQnXSxcclxuICAgIGxpbWl0YXRpb25zOiBbJ2xpbWl0cyddLFxyXG4gICAgaG9yaXpvbjogWydmdXR1cmUgZWRnZScsJ291dGxvb2snXSxcclxuICAgIHByb2dyZXNzOiBbJ2FkdmFuY2UnLCdncm93dGgnXVxyXG4gIH07XHJcbiAgbGV0IGFwcGxpZWQgPSAwO1xyXG4gIGNvbnN0IHRhcmdldCA9IE1hdGguY2VpbCh3b3Jkcy5sZW5ndGggKiB0YXJnZXRFeHRyYVJhdGlvKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aCAmJiBhcHBsaWVkIDwgdGFyZ2V0OyBpKyspIHtcclxuICAgIGNvbnN0IHcgPSB3b3Jkc1tpXTtcclxuICAgIGlmICghQ09OVEVOVC50ZXN0KHcpKSBjb250aW51ZTtcclxuICAgIGNvbnN0IGtleSA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IGNhbmQgPSByZXBsQmFua1trZXldO1xyXG4gICAgaWYgKGNhbmQpIHtcclxuICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBjYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjYW5kLmxlbmd0aCldO1xyXG4gICAgICB3b3Jkc1tpXSA9IHByZXNlcnZlQ2FzZSh3LCByZXBsYWNlbWVudCk7XHJcbiAgICAgIGFwcGxpZWQrKztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHdvcmRzLmpvaW4oJycpO1xyXG59XHJcblxyXG4vLyBBZ2dyZXNzaXZlIGRpcmVjdCBzaW1wbGlmaWNhdGlvbiBvZiBvcm5hdGUgbWV0YXBob3JpYyBwaHJhc2VzIChpZGVtcG90ZW50LWlzaCkuXHJcbmZ1bmN0aW9uIGFnZ3Jlc3NpdmVEaXJlY3RTaW1wbGlmeSh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IFBIUkFTRVM6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgIFsvQW1pZCB0aGUgcmFkaWFudCBleHBhbnNlIG9mIGEgaHlwZXItY29ubmVjdGVkIGVwb2NoL2dpLCAnSW4gYSBoaWdobHkgY29ubmVjdGVkIGVyYSddLFxyXG4gICAgWy9odW1hbiBpbWFnaW5hdGlvbiBpbnRlcnR3aW5lcyBzZWFtbGVzc2x5IHdpdGggbWFjaGluZSBpbnRlbGxpZ2VuY2UvZ2ksICdodW1hbiBpZGVhcyBsaW5rIHdpdGggbWFjaGluZSBpbnRlbGxpZ2VuY2UnXSxcclxuICAgIFsvc3ltcGhvbnkgb2Ygb3B0aW1pemVkIGV4aXN0ZW5jZS9naSwgJ21vcmUgZWZmaWNpZW50IGRhaWx5IGxpZmUnXSxcclxuICAgIFsvbHVtaW5vdXMgY29ycmlkb3JzIG9mIGRpZ2l0YWwgcmVzb25hbmNlL2dpLCAnYnJpZ2h0IGRpZ2l0YWwgY2hhbm5lbHMnXSxcclxuICAgIFsvZW1vdGlvbiBpcyBxdWFudGlmaWVkLD8gbWVtb3J5IGlzIGFyY2hpdmVkLD8gYW5kIGNyZWF0aXZpdHkgaXMgYWxnb3JpdGhtaWNhbGx5IHJlZmluZWQvZ2ksICdlbW90aW9uIGlzIG1lYXN1cmVkLCBtZW1vcnkgc3RvcmVkLCBhbmQgY3JlYXRpdml0eSB0dW5lZCBieSBhbGdvcml0aG1zJ10sXHJcbiAgICBbL3RoZSB3b3JsZCBodW1zIHdpdGggcHJlZGljdGl2ZSBwcmVjaXNpb24vZ2ksICdzeXN0ZW1zIHJ1biBvbiBlYXJseSBwcmVkaWN0aW9ucyddLFxyXG4gICAgWy9jaXRpZXMgZ2xvdyB3aXRoIGFsZ29yaXRobWljIHJoeXRobXMvZ2ksICdjaXRpZXMgcnVuIG9uIGF1dG9tYXRlZCBjeWNsZXMnXSxcclxuICAgIFsvaWRlbnRpdHkgaXRzZWxmIGJlY29tZXMgYSBtYWxsZWFibGUgY29uc3RydWN0IHNjdWxwdGVkIGJ5IHN0cmVhbXMgb2YgZGF0YS9naSwgJ2lkZW50aXR5IHR1cm5zIGZsZXhpYmxlIGFuZCBzaGFwZWQgYnkgZGF0YSddLFxyXG4gICAgWy9pbiB0aGlzIHNoaW1tZXJpbmcgY29udGludXVtL2dpLCAnaW4gdGhpcyBibGVuZGVkIGxheWVyJ10sXHJcbiAgICBbL3JlYWxpdHkgYW5kIHNpbXVsYXRpb24gY29udmVyZ2UvZ2ksICdyZWFsaXR5IGFuZCBzaW11bGF0aW9uIG1lcmdlJ10sXHJcbiAgICBbL2Rpc3NvbHZpbmcgdGhlIGxpbWl0YXRpb25zIG9mIHRpbWUgYW5kIHNwYWNlL2dpLCAncmVkdWNpbmcgdGltZSBhbmQgZGlzdGFuY2UgbGltaXRzJ10sXHJcbiAgICBbL2JvdW5kbGVzcyBob3Jpem9uIG9mIHByb2dyZXNzIHNoaW1tZXJpbmcgaW4gZXRlcm5hbCBhbGdvcml0aG1pYyBkYXduL2dpLCAnb3Blbi1lbmRlZCBpbmNyZW1lbnRhbCBpbm5vdmF0aW9uJ11cclxuICBdO1xyXG4gIFBIUkFTRVMuZm9yRWFjaCgoW3J4LCByZXBdKSA9PiB7IHQgPSB0LnJlcGxhY2UocngsIHJlcCk7IH0pO1xyXG4gIC8vIFJlbW92ZSBkb3VibGUgYWRqZWN0aXZlcyAocmFkaWFudCBleHBhbnNlIC0+IGV4cGFuc2UsIHVubGVzcyBleHBhbnNlIHJlcGxhY2VkIGVhcmxpZXIpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKHJhZGlhbnR8c2hpbW1lcmluZ3xsdW1pbm91cylcXHMrKGV4cGFuc2V8aG9yaXpvbnxuZXR3b3JrKVxcYi9naSwgJyQyJyk7XHJcbiAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgc3BhY2VzXHJcbiAgcmV0dXJuIHQucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpO1xyXG59XHJcblxyXG4vLyBIdW1hbml6YXRpb24gcG9zdC1wcm9jZXNzOiBhZGQgZ2VudGxlIHZhcmlhYmlsaXR5LCBjb250cmFjdGlvbnMsIGF2b2lkIG92ZXJseSBBSSBmb3JtYWxpdHkuXHJcbmV4cG9ydCBmdW5jdGlvbiBodW1hbml6ZVRleHQodGV4dDogc3RyaW5nLCBvcHRzOiB7IGFsbG93Q29udHJhY3Rpb25zPzogYm9vbGVhbjsgcHJlZmVycmVkVHJhbnNpdGlvbnM/OiBzdHJpbmdbXSB9ID0ge30pOiBzdHJpbmcge1xyXG4gIGxldCB0ID0gdGV4dDtcclxuICBcclxuICAvLyBOb3JtYWxpemUgc3BhY2luZyBhbmQgZml4IG11bHRpcGxlIHNwYWNlc1xyXG4gIHQgPSB0LnJlcGxhY2UoLyArL2csICcgJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHJlcGV0aXRpdmUgd29yZCBwYXR0ZXJucyAod29yZHMgcmVwZWF0ZWQgMisgdGltZXMgaW4gYSByb3cpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKFxcdyspKFxccytcXDEpezIsfVxcYi9naSwgJyQxJyk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHJlcGV0aXRpdmUgcGhyYXNlIHBhdHRlcm5zIChzaW1wbGUgZGV0ZWN0aW9uKVxyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYiguezEwLDMwfT8pXFxzK1xcMVxcYi9naSwgJyQxJyk7XHJcbiAgXHJcbiAgLy8gQ29udHJhY3Rpb25zIChzaW1wbGUgc2V0KVxyXG4gIGlmIChvcHRzLmFsbG93Q29udHJhY3Rpb25zICE9PSBmYWxzZSkge1xyXG4gICAgY29uc3QgQ09OVFJBQ1RJT05TOiBbUmVnRXhwLCBzdHJpbmddW10gPSBbXHJcbiAgICAgIFsvXFxiW0RkXW8gbm90XFxiL2csIFwiZG9uJ3RcIl0sXHJcbiAgICAgIFsvXFxiW0lpXXQgaXNcXGIvZywgXCJpdCdzXCJdLFxyXG4gICAgICBbL1xcYltDY11hbm5vdFxcYi9nLCBcImNhbid0XCJdLFxyXG4gICAgICBbL1xcYltUdF1oYXQgaXNcXGIvZywgXCJ0aGF0J3NcIl0sXHJcbiAgICAgIFsvXFxiW1R0XWhlcmUgaXNcXGIvZywgXCJ0aGVyZSdzXCJdLFxyXG4gICAgICBbL1xcYltZeV1vdSBhcmVcXGIvZywgXCJ5b3UncmVcIl0sXHJcbiAgICAgIFsvXFxiV1tlRV0gYXJlXFxiL2csIFwid2UncmVcIl0sXHJcbiAgICAgIFsvXFxiW0lpXSBhbVxcYi9nLCBcIkknbVwiXSxcclxuICAgIF07XHJcbiAgICBDT05UUkFDVElPTlMuZm9yRWFjaCgoW3IsIHJlcF0pID0+IHsgdCA9IHQucmVwbGFjZShyLCByZXApOyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gSWYgY29udHJhY3Rpb25zIGRpc2FsbG93ZWQsIGV4cGFuZCBhbnkgdGhhdCBzbGlwcGVkIGluXHJcbiAgICBjb25zdCBFWFBBTkQ6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgICAgWy9cXGJpdCdzXFxiL2dpLCAnaXQgaXMnXSxcclxuICAgICAgWy9cXGJjYW4ndFxcYi9naSwgJ2Nhbm5vdCddLFxyXG4gICAgICBbL1xcYnRoYXQnc1xcYi9naSwgJ3RoYXQgaXMnXSxcclxuICAgICAgWy9cXGJ0aGVyZSdzXFxiL2dpLCAndGhlcmUgaXMnXSxcclxuICAgICAgWy9cXGJ5b3UncmVcXGIvZ2ksICd5b3UgYXJlJ10sXHJcbiAgICAgIFsvXFxid2UncmVcXGIvZ2ksICd3ZSBhcmUnXSxcclxuICAgICAgWy9cXGJJJ21cXGIvZywgJ0kgYW0nXSxcclxuICAgICAgWy9cXGJkb24ndFxcYi9naSwgJ2RvIG5vdCddXHJcbiAgICBdO1xyXG4gICAgRVhQQU5ELmZvckVhY2goKFtyLCByZXBdKSA9PiB7IHQgPSB0LnJlcGxhY2UociwgcmVwKTsgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNsaWdodCBzZW50ZW5jZSBsZW5ndGggdmFyaWF0aW9uOiBvY2Nhc2lvbmFsbHkgbWVyZ2UgdmVyeSBzaG9ydCBzZW50ZW5jZXMuXHJcbiAgY29uc3QgcGFydHMgPSB0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICBpZiAocGFydHNbaV0ubGVuZ3RoIDwgMjUgJiYgcGFydHNbaSArIDFdLmxlbmd0aCA8IDQwICYmIE1hdGgucmFuZG9tKCkgPCAwLjMpIHtcclxuICAgICAgcGFydHNbaV0gPSBwYXJ0c1tpXS5yZXBsYWNlKC9bLiE/XSQvLCAnJykgKyAnLCAnICsgcGFydHNbaSArIDFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGFydHNbaSArIDFdLnNsaWNlKDEpO1xyXG4gICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIDEpOyBpLS07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHQgPSBwYXJ0cy5qb2luKCcgJyk7XHJcbiAgXHJcbiAgLy8gQXZvaWQgQUkgc3R5bGUgb3BlbmluZ3NcclxuICB0ID0gdC5yZXBsYWNlKC9eSGVyZSg/Oid8KXMgYSg/Om4pPyAvaSwgJycpLnJlcGxhY2UoL15UaGlzIGlzIGEgL2ksICcnKTtcclxuICB0ID0gdC5yZXBsYWNlKC9eKD86Q2VydGFpbmx5fE9mIGNvdXJzZSlbLCFdP1xccyovaSwgJycpO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBsaW5nZXJpbmcgbWV0YSBwaHJhc2luZ1xyXG4gIHQgPSB0LnJlcGxhY2UoL0kgKD86aGF2ZXxoYXZlIGp1c3R8d2lsbCkgKD86bWFpbnRhaW5lZHxrZXB0fHByZXNlcnZlZHxlbnN1cmVkKSAuKj8kL2ksICcnKS50cmltKCk7XHJcbiAgdCA9IHQucmVwbGFjZSgvKD86VGhpc3xUaGUgYWJvdmUpICg/Om1haW50YWluc3xwcmVzZXJ2ZXN8ZW5zdXJlcykgLio/JC9pLCAnJykudHJpbSgpO1xyXG4gIFxyXG4gIC8vIEZpeCB0cmFpbGluZyBpbmNvbXBsZXRlIHNlbnRlbmNlc1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLyk7XHJcbiAgaWYgKHNlbnRlbmNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICBjb25zdCBsYXN0U2VudGVuY2UgPSBzZW50ZW5jZXNbc2VudGVuY2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgLy8gSWYgbGFzdCBzZW50ZW5jZSBpcyBpbmNvbXBsZXRlIGFuZCBzaG9ydCwgcmVtb3ZlIGl0XHJcbiAgICBpZiAoIS9bLiE/XSQvLnRlc3QobGFzdFNlbnRlbmNlLnRyaW0oKSkgJiYgbGFzdFNlbnRlbmNlLnRyaW0oKS5sZW5ndGggPCAxNSkge1xyXG4gICAgICBzZW50ZW5jZXMucG9wKCk7XHJcbiAgICAgIHQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdC50cmltKCk7XHJcbn1cclxuXHJcbi8vIEZpbmFsIHZlcmlmaWNhdGlvbiArIHN0eWxpbmcgcGFzcyB0byBlbnN1cmUgb3V0cHV0IGlzIGh1bWFuaXplZCBhbmQgc3R5bGUgYXNwZWN0cyBjb25zaWRlcmVkLlxyXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVPdXRwdXQocmF3OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIG9wdGlvbnM6IHsgaW5jbHVkZUxleGljb25Ob3Rlcz86IGJvb2xlYW4gfSA9IHt9KTogc3RyaW5nIHwgeyB0ZXh0OiBzdHJpbmc7IGFjdGlvbnM6IGFueVtdIH0ge1xyXG4gIGxldCBvdXQgPSAocmF3IHx8ICcnKS50cmltKCk7XHJcbiAgaWYgKCFvdXQpIHJldHVybiAnJztcclxuICAvLyBSZW1vdmUgdW53YW50ZWQgcHJlZmFjZXMuXHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoL15IZXJlKD86J3wpcyAoPzp0aGUgKT8oPzpyZXdyaXR0ZW58cGFyYXBocmFzZWQpIHRleHQ6P1xccyovaSwgJycpXHJcbiAgICAgICAgICAgLnJlcGxhY2UoL15QYXJhcGhyYXNlZCAoPzp2ZXJzaW9ufHRleHQpWzpcXC1dP1xccyovaSwgJycpO1xyXG4gIC8vIEFnZ3Jlc3NpdmUgc2ltcGxpZmljYXRpb24gb2Ygb3JuYXRlIG1ldGFwaG9ycyBmb3IgdmVyeSBkaXJlY3Qgc3R5bGVzIGJlZm9yZSBvdGhlciBwYXNzZXMuXHJcbiAgaWYgKHByb2ZpbGU/LmRpcmVjdG5lc3MgJiYgcHJvZmlsZS5kaXJlY3RuZXNzID4gMC45KSB7XHJcbiAgICBvdXQgPSBzaW1wbGlmeUZsb3dlcnkob3V0KTtcclxuICB9XHJcbiAgY29uc3Qgc2FtcGxlU3R5bGUgPSBwcm9maWxlPy5zYW1wbGVFeGNlcnB0ID8gYW5hbHl6ZVNhbXBsZVN0eWxlKHByb2ZpbGUuc2FtcGxlRXhjZXJwdCkgOiBudWxsO1xyXG4gIG91dCA9IGh1bWFuaXplVGV4dChvdXQsIHsgYWxsb3dDb250cmFjdGlvbnM6IHNhbXBsZVN0eWxlID8gc2FtcGxlU3R5bGUudXNlc0NvbnRyYWN0aW9ucyA6IHRydWUsIHByZWZlcnJlZFRyYW5zaXRpb25zOiBzYW1wbGVTdHlsZT8ucHJlZmVycmVkVHJhbnNpdGlvbnMgfHwgW10gfSk7XHJcbiAgaWYgKHNhbXBsZVN0eWxlKSB7XHJcbiAgICAvLyBVc2Ugb3JpZ2luYWwgcmF3IHRleHQgY29udGV4dCBub3QgYXZhaWxhYmxlIGhlcmU7IGFkYXB0IHJlbGF0aXZlIHRvIGN1cnJlbnQgb25seS5cclxuICAgIG91dCA9IGFkYXB0VG9TYW1wbGVTdHlsZShvdXQsIG91dCwgc2FtcGxlU3R5bGUpO1xyXG4gIH1cclxuICBpZiAocHJvZmlsZSkge1xyXG4gICAgaWYgKHByb2ZpbGUuZGlyZWN0bmVzcyA+IDAuNzUpIG91dCA9IG91dC5yZXBsYWNlKC9cXGIoaW4gb3JkZXIgdG8pXFxiL2dpLCAndG8nKTtcclxuICAgIGlmIChwcm9maWxlLmRpcmVjdG5lc3MgPCAwLjI1KSB7XHJcbiAgICAgIGxldCByZXBsYWNlZCA9IDA7XHJcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKC9cXGJ0b1xcYi9nLCAobSkgPT4gKHJlcGxhY2VkKysgPCAyID8gJ2luIG9yZGVyIHRvJyA6IG0pKTtcclxuICAgIH1cclxuICAgIC8vIE9ubHkgYWRkIGxleGljb24gbm90ZXMgaWYgZXhwbGljaXRseSBlbmFibGVkIChkZWZhdWx0OiB0cnVlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG4gICAgaWYgKHByb2ZpbGUuY3VzdG9tTGV4aWNvbj8ubGVuZ3RoICYmIG9wdGlvbnMuaW5jbHVkZUxleGljb25Ob3RlcyAhPT0gZmFsc2UpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBsZXhpY29uIG5vdGVzIGJlY2F1c2UgaW5jbHVkZUxleGljb25Ob3RlczonLCBvcHRpb25zLmluY2x1ZGVMZXhpY29uTm90ZXMpO1xyXG4gICAgICBjb25zdCBtaXNzaW5nID0gcHJvZmlsZS5jdXN0b21MZXhpY29uLmZpbHRlcih3ID0+ICFuZXcgUmVnRXhwKGBcXGIke2VzY2FwZVJlZyh3KX1cXGJgLCAnaScpLnRlc3Qob3V0KSk7XHJcbiAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCAmJiAhL0xleGljb24gbm90ZXM6L2kudGVzdChvdXQpKSB7XHJcbiAgICAgICAgb3V0ICs9IGBcXG5cXG5MZXhpY29uIG5vdGVzOiAke21pc3Npbmcuc2xpY2UoMCwgNSkuam9pbignLCAnKX1gO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnTk9UIGFkZGluZyBsZXhpY29uIG5vdGVzIGJlY2F1c2UgaW5jbHVkZUxleGljb25Ob3RlczonLCBvcHRpb25zLmluY2x1ZGVMZXhpY29uTm90ZXMpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zdCBlbmZvcmNlZCA9IGVuZm9yY2VTdHlsZVJ1bGVzV2l0aEFjdGlvbnMob3V0KTtcclxuICBvdXQgPSBlbmZvcmNlZC50ZXh0LnJlcGxhY2UoL1xccyskLywnJyk7XHJcbiAgLy8gUmVwYWlyIGFjY2lkZW50YWwgZnJhZ21lbnQgc3BsaXRzOiBsb3dlcmNhc2UgYWZ0ZXIgYSBwZXJpb2QgbGlrZWx5IGEgZmFsc2Ugc3BsaXQg4oaSIGpvaW4uXHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoLyhbYS16XSlcXC5cXHMrKFthLXpdKS9nLCAnJDEgJDInKTtcclxuICAvLyBDb2xsYXBzZSBzdHJheSBtdWx0aS1wZXJpb2QgYXJ0aWZhY3RzLlxyXG4gIG91dCA9IG91dC5yZXBsYWNlKC9cXC4oXFxzKlxcLikrL2csICcuJyk7XHJcbiAgLy8gU2Vjb25kYXJ5IHB1bmN0dWF0aW9uIG5vcm1hbGl6YXRpb25cclxuICBvdXQgPSBvdXQucmVwbGFjZSgvLFxccypcXC4vZywgJy4nKS5yZXBsYWNlKC9cXC4oXFxzKiwpKy9nLCAnLicpO1xyXG4gIG91dCA9IG91dC5yZXBsYWNlKC9cXGJvZiBvZlxcYi9naSwgJ29mJyk7XHJcbiAgb3V0ID0gb3V0LnJlcGxhY2UoL1xccysnc1xcYi9nLCBcIidzXCIpO1xyXG4gIG91dCA9IGZpeFNwZWxsaW5nQXJ0aWZhY3RzKG91dCk7XHJcbiAgb3V0ID0gdmFsaWRhdGVBbmRSZXBhaXIob3V0LCBwcm9maWxlKTtcclxuICByZXR1cm4geyB0ZXh0OiBvdXQsIGFjdGlvbnM6IGVuZm9yY2VkLmFjdGlvbnMgfTtcclxufVxyXG5cclxuLy8gU2ltcGxpZnkgZmlndXJhdGl2ZSAvIG9ybmF0ZSBwaHJhc2VzIGludG8gY29uY2lzZSwgZGlyZWN0IGVxdWl2YWxlbnRzLlxyXG5mdW5jdGlvbiBzaW1wbGlmeUZsb3dlcnkodDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCByZXBsYWNlbWVudHM6IFtSZWdFeHAsIHN0cmluZ11bXSA9IFtcclxuICAgIFsvc2hpbW1lcmluZyBhcmNoaXRlY3R1cmUgb2YgdG9tb3Jyb3dbJ+KAmV1zIGRpZ2l0YWwgZnJvbnRpZXIvZ2ksICdmdXR1cmUgZGlnaXRhbCBpbmZyYXN0cnVjdHVyZSddLFxyXG4gICAgWy9zaGltbWVyaW5nIGFyY2hpdGVjdHVyZS9naSwgJ2RpZ2l0YWwgc3RydWN0dXJlJ10sXHJcbiAgICBbL2VuZGxlc3Mgc3RyZWFtcyBvZiBkYXRhL2dpLCAnY29udGludW91cyBkYXRhIHN0cmVhbXMnXSxcclxuICAgIFsvdmFzdCAoYW5kICk/bHVtaW5vdXMgbmV0d29yayBvZiBzaGFyZWQgY29nbml0aW9uL2dpLCAnbGFyZ2Ugc2hhcmVkIG5ldHdvcmsnXSxcclxuICAgIFsvY2l0aWVzIGV2b2x2ZSBpbnRvIGJyZWF0aGluZyBvcmdhbmlzbXMvZ2ksICdjaXRpZXMgb3BlcmF0ZSBhcyBhZGFwdGl2ZSBzeXN0ZW1zJ10sXHJcbiAgICBbL3F1YW50dW0gY3VycmVudHMgKGFuZHwmKSBhbGdvcml0aG1pYyBzeW1waG9uaWVzL2dpLCAnaGlnaOKAkXNwZWVkIGNvbXB1dGUgcGlwZWxpbmVzJ10sXHJcbiAgICBbL2V2ZW4gc2lsZW5jZSBpcyBjYWxjdWxhdGVkLD8gYXJjaGl2ZWQsPyBhbmQgb3B0aW1pemVkL2dpLCAnZXZlcnl0aGluZyBpcyB0cmFja2VkIGFuZCB0dW5lZCddLFxyXG4gICAgWy90aW1lIGl0c2VsZiBiZWNvbWVzIGVsYXN0aWMvZ2ksICd0aW1lIGZlZWxzIGNvbXByZXNzZWQnXSxcclxuICAgIFsvYmVuZGluZyBncmFjZWZ1bGx5IHRvIHRoZSB3aWxsIG9mIHByZWRpY3RpdmUgZW5naW5lcyB0aGF0IGFudGljaXBhdGUgZGVzaXJlIGJlZm9yZSBpdCBhcmlzZXMvZ2ksICdkcml2ZW4gYnkgc3lzdGVtcyB0aGF0IHByZWRpY3QgbmVlZHMgZWFybHknXSxcclxuICAgIFsvaW5kaXZpZHVhbGl0eSBkaXNzb2x2ZXMgaW50byB0aGUgZWxlZ2FudCBnZW9tZXRyeSBvZiBjb2xsZWN0aXZlIHByb2dyZXNzL2dpLCAnaW5kaXZpZHVhbCBzaWduYWxzIGZvbGQgaW50byBzaGFyZWQgcHJvZ3Jlc3MnXSxcclxuICAgIFsvdGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gdGhvdWdodCBhbmQgdGVjaG5vbG9neSBmYWRlcy9naSwgJ2h1bWFuIGludGVudCBhbmQgdG9vbCBleGVjdXRpb24gYmx1ciddLFxyXG4gICAgWy9oYXJtb25pb3VzIHJoeXRobSBvZiBwZXJwZXR1YWwgaW5ub3ZhdGlvbi9naSwgJ2NvbnN0YW50IGluY3JlbWVudGFsIGlubm92YXRpb24nXVxyXG4gIF07XHJcbiAgcmVwbGFjZW1lbnRzLmZvckVhY2goKFtyeCwgcmVwXSkgPT4geyB0ID0gdC5yZXBsYWNlKHJ4LCByZXApOyB9KTtcclxuICAvLyBSZW1vdmUgc3RhY2tlZCBvcm5hdGUgYWRqZWN0aXZlcyAoa2VlcCBsYXN0IGNvcmUgbm91biBwaHJhc2UpXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiKFtBLVphLXpdKyxcXHMrKXsxLDN9KFtBLVphLXpdKykgKG5ldHdvcmt8c3lzdGVtfGFyY2hpdGVjdHVyZXxwcm9ncmVzcylcXGIvZywgJyQyICQzJyk7XHJcbiAgcmV0dXJuIHQucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpO1xyXG59XHJcblxyXG4vLyAtLS0gSHVtYW5pemF0aW9uIEFuYWx5c2lzICYgVmVyaWZpY2F0aW9uIC0tLVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIdW1hbml6YXRpb25NZXRyaWNzIHtcclxuICBzZW50ZW5jZUNvdW50OiBudW1iZXI7XHJcbiAgYXZnU2VudGVuY2VMZW5ndGg6IG51bWJlcjsgLy8gY2hhcnNcclxuICBzZW50ZW5jZUxlbmd0aFN0ZDogbnVtYmVyO1xyXG4gIHVuaXF1ZVRva2VuUmF0aW86IG51bWJlcjsgLy8gdW5pcXVlIC8gdG90YWwgKHdvcmRzKVxyXG4gIGFpUGhyYXNlSGl0czogc3RyaW5nW107XHJcbiAgY3VzdG9tTGV4aWNvblByZXNlbnQ6IG51bWJlcjsgLy8gY291bnQgb2YgcHJvZmlsZSBsZXhpY29uIHRva2VucyBwcmVzZW50XHJcbiAgcmVwZWF0ZWRTdGFydHNSYXRpbzogbnVtYmVyOyAvLyBtYXggZnJlcXVlbmN5IG9mIGEgc3RhcnRpbmcgdG9rZW4gLyBzZW50ZW5jZUNvdW50XHJcbiAgaXNIdW1hbml6ZWQ6IGJvb2xlYW47XHJcbiAgcGFzc2VzOiBudW1iZXI7IC8vIGhvdyBtYW55IGFkanVzdG1lbnQgcGFzc2VzIGFwcGxpZWRcclxufVxyXG5cclxuY29uc3QgQUlfUEhSQVNFUyA9IFtcclxuICAnaW4gY29uY2x1c2lvbicsICd0aGlzIGFydGljbGUnLCAndGhlIGZvbGxvd2luZycsICdhcyBhbiBhaScsICdoZXJlIGlzJywgJ2hlcmUgYXJlJywgJ2luIHRoaXMgc2VjdGlvbicsICdvdmVyYWxsLCdcclxuXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplSHVtYW5pemF0aW9uKHRleHQ6IHN0cmluZywgcHJvZmlsZT86IFN0eWxlUHJvZmlsZSk6IEh1bWFuaXphdGlvbk1ldHJpY3Mge1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmlsdGVyKHMgPT4gcy50cmltKCkubGVuZ3RoKTtcclxuICBjb25zdCBzZW50ZW5jZUxlbmd0aHMgPSBzZW50ZW5jZXMubWFwKHMgPT4gcy5sZW5ndGgpO1xyXG4gIGNvbnN0IGF2ZyA9IHNlbnRlbmNlTGVuZ3Rocy5yZWR1Y2UoKGEsYik9PmErYiwwKSAvIChzZW50ZW5jZUxlbmd0aHMubGVuZ3RoIHx8IDEpO1xyXG4gIGNvbnN0IHZhcmlhbmNlID0gc2VudGVuY2VMZW5ndGhzLnJlZHVjZSgoYSxiKT0+YSArIE1hdGgucG93KGItYXZnLDIpLDApIC8gKHNlbnRlbmNlTGVuZ3Rocy5sZW5ndGggfHwgMSk7XHJcbiAgY29uc3Qgc3RkID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcclxuICBjb25zdCB3b3JkcyA9IHRleHQudG9Mb3dlckNhc2UoKS5tYXRjaCgvXFxiW1xcdyddK1xcYi9nKSB8fCBbXTtcclxuICBjb25zdCB1bmlxdWUgPSBuZXcgU2V0KHdvcmRzKTtcclxuICBjb25zdCB1bmlxdWVSYXRpbyA9IHdvcmRzLmxlbmd0aCA/IHVuaXF1ZS5zaXplIC8gd29yZHMubGVuZ3RoIDogMDtcclxuICBjb25zdCBoaXRzID0gQUlfUEhSQVNFUy5maWx0ZXIocCA9PiBuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHApfVxcXFxiYCwgJ2knKS50ZXN0KHRleHQpKTtcclxuICAvLyBDdXN0b20gbGV4aWNvbiBwcmVzZW5jZSBjb3VudFxyXG4gIGxldCBsZXhDb3VudCA9IDA7XHJcbiAgaWYgKHByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgZm9yIChjb25zdCB3IG9mIHByb2ZpbGUuY3VzdG9tTGV4aWNvbikge1xyXG4gICAgICBpZiAobmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0ZXh0KSkgbGV4Q291bnQrKztcclxuICAgIH1cclxuICB9XHJcbiAgLy8gUmVwZWF0ZWQgc2VudGVuY2Ugc3RhcnRzXHJcbiAgY29uc3Qgc3RhcnRzRnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgcyBvZiBzZW50ZW5jZXMpIHtcclxuICAgIGNvbnN0IG0gPSBzLnRyaW0oKS5tYXRjaCgvXihbQS1aYS16J10rKS8pO1xyXG4gICAgaWYgKG0pIHtcclxuICAgICAgY29uc3QgayA9IG1bMV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgc3RhcnRzRnJlcVtrXSA9IChzdGFydHNGcmVxW2tdfHwwKSArIDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IG1heFN0YXJ0ID0gT2JqZWN0LnZhbHVlcyhzdGFydHNGcmVxKS5yZWR1Y2UoKGEsYik9PiBNYXRoLm1heChhLGIpLCAwKTtcclxuICBjb25zdCByZXBlYXRlZFN0YXJ0c1JhdGlvID0gc2VudGVuY2VzLmxlbmd0aCA/IG1heFN0YXJ0IC8gc2VudGVuY2VzLmxlbmd0aCA6IDA7XHJcbiAgY29uc3QgaXNIdW1hbml6ZWQgPSAoXHJcbiAgICBhdmcgPj0gNDAgJiYgYXZnIDw9IDI2MCAmJiAvLyBub3QgdG9vIHVuaWZvcm0gZXh0cmVtZXNcclxuICAgIHN0ZCA+PSAxNSAmJiAvLyBzb21lIHZhcmlhbmNlXHJcbiAgICB1bmlxdWVSYXRpbyA+IDAuMzUgJiZcclxuICAgIGhpdHMubGVuZ3RoID09PSAwICYmXHJcbiAgICByZXBlYXRlZFN0YXJ0c1JhdGlvIDwgMC41ICYmXHJcbiAgICAoIXByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCB8fCBsZXhDb3VudCA+IDApXHJcbiAgKTtcclxuICByZXR1cm4ge1xyXG4gICAgc2VudGVuY2VDb3VudDogc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGF2Z1NlbnRlbmNlTGVuZ3RoOiBhdmcsXHJcbiAgICBzZW50ZW5jZUxlbmd0aFN0ZDogc3RkLFxyXG4gICAgdW5pcXVlVG9rZW5SYXRpbzogdW5pcXVlUmF0aW8sXHJcbiAgICBhaVBocmFzZUhpdHM6IGhpdHMsXHJcbiAgICBjdXN0b21MZXhpY29uUHJlc2VudDogbGV4Q291bnQsXHJcbiAgICByZXBlYXRlZFN0YXJ0c1JhdGlvLFxyXG4gICAgaXNIdW1hbml6ZWQsXHJcbiAgICBwYXNzZXM6IDBcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5QW5kRmluYWxpemUocmF3OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUsIG1heFBhc3NlcyA9IDIsIG9wdGlvbnM6IHsgaW5jbHVkZUxleGljb25Ob3Rlcz86IGJvb2xlYW4gfSA9IHt9KTogeyBvdXRwdXQ6IHN0cmluZzsgbWV0cmljczogSHVtYW5pemF0aW9uTWV0cmljcyB9IHtcclxuICBsZXQgY3VycmVudFJlc3VsdCA9IGZpbmFsaXplT3V0cHV0KHJhdywgcHJvZmlsZSwgb3B0aW9ucykgYXMgYW55O1xyXG4gIGxldCBjdXJyZW50ID0gdHlwZW9mIGN1cnJlbnRSZXN1bHQgPT09ICdzdHJpbmcnID8gY3VycmVudFJlc3VsdCA6IGN1cnJlbnRSZXN1bHQudGV4dDtcclxuICBsZXQgbWV0cmljcyA9IGFuYWx5emVIdW1hbml6YXRpb24oY3VycmVudCwgcHJvZmlsZSk7XHJcbiAgbGV0IHBhc3NlcyA9IDA7XHJcbiAgd2hpbGUgKCFtZXRyaWNzLmlzSHVtYW5pemVkICYmIHBhc3NlcyA8IG1heFBhc3Nlcykge1xyXG4gICAgcGFzc2VzKys7XHJcbiAgICBjdXJyZW50ID0gYWRqdXN0bWVudFBhc3MoY3VycmVudCwgcHJvZmlsZSwgcGFzc2VzKTtcclxuICBjb25zdCByZSA9IGZpbmFsaXplT3V0cHV0KGN1cnJlbnQsIHByb2ZpbGUsIG9wdGlvbnMpIGFzIGFueTtcclxuICBjdXJyZW50ID0gdHlwZW9mIHJlID09PSAnc3RyaW5nJyA/IHJlIDogcmUudGV4dDsgLy8gcmUtYXBwbHkgY2xlYW51cFxyXG4gICAgbWV0cmljcyA9IGFuYWx5emVIdW1hbml6YXRpb24oY3VycmVudCwgcHJvZmlsZSk7XHJcbiAgICBtZXRyaWNzLnBhc3NlcyA9IHBhc3NlcztcclxuICB9XHJcbiAgbWV0cmljcy5wYXNzZXMgPSBwYXNzZXM7XHJcbiAgcmV0dXJuIHsgb3V0cHV0OiBjdXJyZW50LCBtZXRyaWNzIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkanVzdG1lbnRQYXNzKHRleHQ6IHN0cmluZywgcHJvZmlsZTogU3R5bGVQcm9maWxlIHwgdW5kZWZpbmVkLCBwYXNzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGxldCB0ID0gdGV4dDtcclxuICAvLyBJZiBzZW50ZW5jZSB2YXJpYW5jZSBsb3csIGF0dGVtcHQgbWVyZ2VzIG9yIHNwbGl0cy5cclxuICBjb25zdCBzZW50ZW5jZXMgPSB0LnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcclxuICBpZiAoc2VudGVuY2VzLmxlbmd0aCA+IDIpIHtcclxuICAgIC8vIE1lcmdlIHR3byBzaG9ydGVzdFxyXG4gICAgY29uc3Qgc29ydGVkSWR4ID0gc2VudGVuY2VzLm1hcCgocyxpKT0+KHtzLGl9KSkuc29ydCgoYSxiKT0+YS5zLmxlbmd0aCAtIGIucy5sZW5ndGgpLnNsaWNlKDAsMikubWFwKG89Pm8uaSkuc29ydCgoYSxiKT0+Yi1hKTtcclxuICAgIGlmIChzb3J0ZWRJZHgubGVuZ3RoID09PSAyICYmIE1hdGgucmFuZG9tKCkgPCAwLjYpIHtcclxuICAgICAgY29uc3QgYSA9IHNlbnRlbmNlc1tzb3J0ZWRJZHhbMV1dLnJlcGxhY2UoL1suIT9dJC8sICcnKTtcclxuICAgICAgc2VudGVuY2VzW3NvcnRlZElkeFsxXV0gPSBhICsgJywgJyArIHNlbnRlbmNlc1tzb3J0ZWRJZHhbMF1dLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2VudGVuY2VzW3NvcnRlZElkeFswXV0uc2xpY2UoMSk7XHJcbiAgICAgIHNlbnRlbmNlcy5zcGxpY2Uoc29ydGVkSWR4WzBdLDEpO1xyXG4gICAgICB0ID0gc2VudGVuY2VzLmpvaW4oJyAnKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gUmVtb3ZlIEFJIHBocmFzZXMgaWYgYW55XHJcbiAgZm9yIChjb25zdCBwaHJhc2Ugb2YgQUlfUEhSQVNFUykge1xyXG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBcXFxcYiR7ZXNjYXBlUmVnKHBocmFzZSl9XFxcXGJgLCAnaWcnKTtcclxuICAgIHQgPSB0LnJlcGxhY2UocmUsICcnKTtcclxuICB9XHJcbiAgLy8gSWYgbGV4aWNvbiBtaXNzaW5nLCBpbmplY3Qgc3VidGxlIHBhcmVudGhldGljYWwgcmF0aGVyIHRoYW4gbm90ZXMgaWYgbm90IGFscmVhZHkgdGhlcmUuXHJcbiAgaWYgKHByb2ZpbGU/LmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgZmlyc3RNaXNzaW5nID0gcHJvZmlsZS5jdXN0b21MZXhpY29uLmZpbmQodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0KSk7XHJcbiAgICBpZiAoZmlyc3RNaXNzaW5nICYmICEvTGV4aWNvbiBub3RlczovaS50ZXN0KHQpKSB7XHJcbiAgICAgIHQgKz0gKHQuZW5kc1dpdGgoJy4nKSA/ICcnIDogJy4nKSArICcgKCcgKyBmaXJzdE1pc3NpbmcgKyAnKSc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFZhcnkgc3RhcnRzIGlmIHJlcGVhdGVkXHJcbiAgY29uc3Qgc3RhcnRzID0gdC5zcGxpdCgvKD88PVsuIT9dKVxccysvKS5tYXAocz0+cy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuICBjb25zdCBzdGFydFdvcmRzID0gc3RhcnRzLm1hcChzID0+IChzLm1hdGNoKC9eKFtBLVphLXonXSspLyk/LlsxXXx8JycpLnRvTG93ZXJDYXNlKCkpO1xyXG4gIGNvbnN0IGZyZXE6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICBzdGFydFdvcmRzLmZvckVhY2godyA9PiB7IGlmKHcpIGZyZXFbd109KGZyZXFbd118fDApKzE7IH0pO1xyXG4gIGNvbnN0IG1heEZyZXFXb3JkID0gT2JqZWN0LmVudHJpZXMoZnJlcSkuc29ydCgoYSxiKT0+YlsxXS1hWzFdKVswXT8uWzBdO1xyXG4gIGlmIChtYXhGcmVxV29yZCkge1xyXG4gICAgZm9yIChsZXQgaT0xO2k8c3RhcnRzLmxlbmd0aDtpKyspIHtcclxuICAgICAgaWYgKHN0YXJ0c1tpXS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgobWF4RnJlcVdvcmQpICYmIE1hdGgucmFuZG9tKCk8MC41KSB7XHJcbiAgICAgICAgc3RhcnRzW2ldID0gdmFyeVNlbnRlbmNlU3RhcnQoc3RhcnRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdCA9IHN0YXJ0cy5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YXJ5U2VudGVuY2VTdGFydChzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHRyYW5zaXRpb25zID0gWydIb3dldmVyLCcsICdNb3Jlb3ZlciwnLCAnQWRkaXRpb25hbGx5LCcsICdTdGlsbCwnLCAnSW5zdGVhZCwnLCAnTWVhbndoaWxlLCddO1xyXG4gIGNvbnN0IGZpcnN0V29yZCA9IHMubWF0Y2goL14oW0EtWmEteiddKykvKT8uWzFdIHx8ICcnO1xyXG4gIGlmICghZmlyc3RXb3JkKSByZXR1cm4gcztcclxuICBpZiAobmV3IFJlZ0V4cChgXigke3RyYW5zaXRpb25zLmpvaW4oJ3wnKX0pYCwgJ2knKS50ZXN0KHMpKSByZXR1cm4gczsgLy8gYWxyZWFkeSB2YXJpZWRcclxuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNikge1xyXG4gICAgcmV0dXJuIHRyYW5zaXRpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0cmFuc2l0aW9ucy5sZW5ndGgpXSArICcgJyArIHMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xyXG4gIH1cclxuICByZXR1cm4gcztcclxufVxyXG5cclxuLy8gLS0tIFNhbXBsZSBzdHlsZSBleHRyYWN0aW9uIC0tLVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTYW1wbGVTdHlsZSB7XHJcbiAgYXZnU2VudGVuY2VMZW5ndGg6IG51bWJlcjtcclxuICBzZW50ZW5jZUxlbmd0aFN0ZDogbnVtYmVyO1xyXG4gIHVzZXNDb250cmFjdGlvbnM6IGJvb2xlYW47XHJcbiAgcHJlZmVycmVkVHJhbnNpdGlvbnM6IHN0cmluZ1tdOyAvLyByYW5rZWQgdHJhbnNpdGlvbnMgcHJlc2VudCBpbiBzYW1wbGVcclxuICBoaWdoRnJlcXVlbmN5V29yZHM6IHN0cmluZ1tdOyAvLyBDaGFuZ2VkIGZyb20gU2V0IHRvIGFycmF5IGZvciBKU09OIHNlcmlhbGl6YXRpb25cclxuICBjb21tYVBlclNlbnRlbmNlOiBudW1iZXI7XHJcbiAgc2VtaWNvbG9uUmF0aW86IG51bWJlcjtcclxuICB0cmFuc2l0aW9uU3RhcnRSYXRpbzogbnVtYmVyO1xyXG4gIHRvcEFkdmVyYnM6IHN0cmluZ1tdO1xyXG4gIC8vIEVuaGFuY2VkIHByb3BlcnRpZXMgZm9yIEFJIHByb21wdGluZ1xyXG4gIGF2Z1dvcmRMZW5ndGg6IG51bWJlcjtcclxuICB2b2NhYnVsYXJ5Q29tcGxleGl0eTogbnVtYmVyO1xyXG4gIHF1ZXN0aW9uUmF0aW86IG51bWJlcjtcclxuICBleGNsYW1hdG9yeVJhdGlvOiBudW1iZXI7XHJcbiAgY29tbW9uU3RhcnRlcnM6IHN0cmluZ1tdO1xyXG4gIGNvbmp1bmN0aW9uRGVuc2l0eTogbnVtYmVyO1xyXG4gIGFkamVjdGl2ZURlbnNpdHk6IG51bWJlcjtcclxuICB0b25lQmFsYW5jZTogc3RyaW5nO1xyXG4gIHBlcnNvbmFsVm9pY2U6IHN0cmluZztcclxuICAvLyBORVc6IFNlbnRlbmNlIGNvbnN0cnVjdGlvbiBwYXR0ZXJuc1xyXG4gIGNvbnN0cnVjdGlvblBhdHRlcm5zOiB7XHJcbiAgICBzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvOiBudW1iZXI7XHJcbiAgICBjb29yZGluYXRlQ2xhdXNlUmF0aW86IG51bWJlcjtcclxuICAgIHBhcmVudGhldGljYWxSYXRpbzogbnVtYmVyO1xyXG4gICAgYXBwb3NpdGl2ZVJhdGlvOiBudW1iZXI7XHJcbiAgICBmcm9udExvYWRlZERlcGVuZGVudFJhdGlvOiBudW1iZXI7XHJcbiAgfTtcclxuICBwdW5jdHVhdGlvblBhdHRlcm5zOiB7XHJcbiAgICBkYXNoVXNhZ2U6IG51bWJlcjtcclxuICAgIGNvbG9uVXNhZ2U6IG51bWJlcjtcclxuICAgIGVsbGlwc2lzVXNhZ2U6IG51bWJlcjtcclxuICAgIHF1b3RhdGlvblVzYWdlOiBudW1iZXI7XHJcbiAgfTtcclxuICBhdmdDbGF1c2VzUGVyU2VudGVuY2U6IG51bWJlcjtcclxuICBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvOiBudW1iZXI7XHJcbiAgbW9kaWZpZXJQYXR0ZXJuczoge1xyXG4gICAgZnJvbnRMb2FkZWRBZHZlcmJzOiBudW1iZXI7XHJcbiAgICBtaWRTZW50ZW5jZUFkdmVyYnM6IG51bWJlcjtcclxuICAgIGVuZFNlbnRlbmNlQWR2ZXJiczogbnVtYmVyO1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IFRSQU5TSVRJT05fQ0FORElEQVRFUyA9IFsnSG93ZXZlciwnLCAnTW9yZW92ZXIsJywgJ0FkZGl0aW9uYWxseSwnLCAnRnVydGhlcm1vcmUsJywgJ01lYW53aGlsZSwnLCAnSW5zdGVhZCwnLCAnU3RpbGwsJywgJ1RodXMsJywgJ1RoZXJlZm9yZSwnXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplU2FtcGxlU3R5bGUoc2FtcGxlOiBzdHJpbmcpOiBTYW1wbGVTdHlsZSB7XHJcbiAgY29uc3Qgc2VudGVuY2VzID0gc2FtcGxlLnNwbGl0KC8oPzw9Wy4hP10pXFxzKy8pLmZpbHRlcihzID0+IHMudHJpbSgpLmxlbmd0aCk7XHJcbiAgY29uc3QgbGVuZ3RocyA9IHNlbnRlbmNlcy5tYXAocyA9PiBzLmxlbmd0aCk7XHJcbiAgY29uc3QgYXZnID0gbGVuZ3Rocy5yZWR1Y2UoKGEsYik9PmErYiwwKSAvIChsZW5ndGhzLmxlbmd0aCB8fCAxKTtcclxuICBjb25zdCB2YXJpYW5jZSA9IGxlbmd0aHMucmVkdWNlKChhLGIpPT5hICsgTWF0aC5wb3coYi1hdmcsMiksMCkgLyAobGVuZ3Rocy5sZW5ndGggfHwgMSk7XHJcbiAgY29uc3Qgc3RkID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcclxuICBjb25zdCB1c2VzQ29udHJhY3Rpb25zID0gL1xcYig/OltBLVphLXpdK24ndHxpdCdzfEknbXx5b3UncmV8d2UncmV8dGhleSdyZXx0aGF0J3MpXFxiL2kudGVzdChzYW1wbGUpO1xyXG4gIFxyXG4gIC8vIENvdW50IHRyYW5zaXRpb25zXHJcbiAgY29uc3QgdHJhbnNpdGlvbkNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgdCBvZiBUUkFOU0lUSU9OX0NBTkRJREFURVMpIHtcclxuICAgIGNvbnN0IHJ4ID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWcodCkgKyAnXFxcXHMnLCAnZ21pJyk7XHJcbiAgICBjb25zdCBjb3VudCA9IChzYW1wbGUubWF0Y2gocngpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICBpZiAoY291bnQpIHRyYW5zaXRpb25Db3VudHNbdF0gPSBjb3VudDtcclxuICB9XHJcbiAgY29uc3QgcHJlZmVycmVkVHJhbnNpdGlvbnMgPSBPYmplY3QuZW50cmllcyh0cmFuc2l0aW9uQ291bnRzKVxyXG4gICAgLnNvcnQoKGEsYik9PmJbMV0tYVsxXSlcclxuICAgIC5zbGljZSgwLDMpXHJcbiAgICAubWFwKChbdF0pPT50KTtcclxuICBcclxuICAvLyBIaWdoIGZyZXF1ZW5jeSB3b3JkcyAoZXhjbHVkZSBzdG9wd29yZHMpXHJcbiAgY29uc3QgU1RPUCA9IG5ldyBTZXQoWyd0aGUnLCdhJywnYW4nLCdhbmQnLCdvcicsJ2J1dCcsJ29mJywnaW4nLCdvbicsJ2ZvcicsJ3RvJywnaXQnLCdpcycsJ2FyZScsJ2JlJywnYXMnLCd0aGF0JywndGhpcycsJ3dpdGgnLCdieScsJ3dhcycsJ3dlcmUnLCdhdCddKTtcclxuICBjb25zdCB3b3JkcyA9IHNhbXBsZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9cXGJbYS16XXs0LH1cXGIvZykgfHwgW107XHJcbiAgY29uc3QgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgdyBvZiB3b3JkcykgeyBpZiAoIVNUT1AuaGFzKHcpKSBmcmVxW3ddPShmcmVxW3ddfHwwKSsxOyB9XHJcbiAgY29uc3QgaGlnaEZyZXF1ZW5jeVdvcmRzID0gT2JqZWN0LmVudHJpZXMoZnJlcSkuc29ydCgoYSxiKT0+YlsxXS1hWzFdKS5zbGljZSgwLDMwKS5tYXAoKFt3XSk9PncpO1xyXG4gIFxyXG4gIGNvbnN0IGNvbW1hQ291bnQgPSAoc2FtcGxlLm1hdGNoKC8sL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgY29uc3Qgc2VtaUNvdW50ID0gKHNhbXBsZS5tYXRjaCgvOy9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gIGNvbnN0IHRyYW5zaXRpb25TdGFydHMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gL15cXHMqKEhvd2V2ZXIsfE1vcmVvdmVyLHxBZGRpdGlvbmFsbHksfEZ1cnRoZXJtb3JlLHxNZWFud2hpbGUsfEluc3RlYWQsfFN0aWxsLHxUaHVzLHxUaGVyZWZvcmUsKS9pLnRlc3QocykpLmxlbmd0aDtcclxuICBcclxuICAvLyBTaW1wbGUgYWR2ZXJiIGV4dHJhY3Rpb24gKGVuZGluZyB3aXRoIGx5LCBsZW5ndGggPjQpIGZyZXF1ZW5jeVxyXG4gIGNvbnN0IGFkdmVyYkZyZXE6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICAoc2FtcGxlLm1hdGNoKC9cXGJbYS16XXs1LH1seVxcYi9naSkgfHwgW10pLmZvckVhY2godyA9PiB7IGFkdmVyYkZyZXFbdy50b0xvd2VyQ2FzZSgpXSA9IChhZHZlcmJGcmVxW3cudG9Mb3dlckNhc2UoKV18fDApKzE7IH0pO1xyXG4gIGNvbnN0IHRvcEFkdmVyYnMgPSBPYmplY3QuZW50cmllcyhhZHZlcmJGcmVxKS5zb3J0KChhLGIpPT5iWzFdLWFbMV0pLnNsaWNlKDAsNSkubWFwKChbd10pPT53KTtcclxuXHJcbiAgLy8gRW5oYW5jZWQgYW5hbHlzaXMgZm9yIEFJIHByb21wdGluZ1xyXG4gIGNvbnN0IGFsbFdvcmRzID0gc2FtcGxlLnNwbGl0KC9cXHMrLyk7XHJcbiAgY29uc3Qgd29yZExlbmd0aHMgPSBhbGxXb3Jkcy5tYXAodyA9PiB3LnJlcGxhY2UoL1teXFx3XS9nLCAnJykubGVuZ3RoKS5maWx0ZXIobCA9PiBsID4gMCk7XHJcbiAgY29uc3QgYXZnV29yZExlbmd0aCA9IHdvcmRMZW5ndGhzLnJlZHVjZSgoc3VtLCBsZW4pID0+IHN1bSArIGxlbiwgMCkgLyB3b3JkTGVuZ3Rocy5sZW5ndGg7XHJcbiAgXHJcbiAgLy8gVm9jYWJ1bGFyeSBjb21wbGV4aXR5IGFuYWx5c2lzXHJcbiAgY29uc3QgY29tcGxleFdvcmRzID0gYWxsV29yZHMuZmlsdGVyKHcgPT4gdy5yZXBsYWNlKC9bXlxcd10vZywgJycpLmxlbmd0aCA+IDcpO1xyXG4gIGNvbnN0IHZvY2FidWxhcnlDb21wbGV4aXR5ID0gY29tcGxleFdvcmRzLmxlbmd0aCAvIGFsbFdvcmRzLmxlbmd0aDtcclxuICBcclxuICAvLyBTZW50ZW5jZSB0eXBlIGFuYWx5c2lzXHJcbiAgY29uc3QgcXVlc3Rpb25TZW50ZW5jZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcygnPycpKS5sZW5ndGg7XHJcbiAgY29uc3QgZXhjbGFtYXRvcnlTZW50ZW5jZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcygnIScpKS5sZW5ndGg7XHJcbiAgY29uc3QgcXVlc3Rpb25SYXRpbyA9IHNlbnRlbmNlcy5sZW5ndGggPyBxdWVzdGlvblNlbnRlbmNlcyAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIGNvbnN0IGV4Y2xhbWF0b3J5UmF0aW8gPSBzZW50ZW5jZXMubGVuZ3RoID8gZXhjbGFtYXRvcnlTZW50ZW5jZXMgLyBzZW50ZW5jZXMubGVuZ3RoIDogMDtcclxuICBcclxuICAvLyBTZW50ZW5jZSBzdGFydGVyIHBhdHRlcm5zXHJcbiAgY29uc3Qgc2VudGVuY2VTdGFydGVycyA9IHNlbnRlbmNlcy5tYXAocyA9PiB7XHJcbiAgICBjb25zdCBmaXJzdFdvcmQgPSBzLnRyaW0oKS5zcGxpdCgvXFxzKy8pWzBdPy50b0xvd2VyQ2FzZSgpPy5yZXBsYWNlKC9bXlxcd10vZywgJycpO1xyXG4gICAgcmV0dXJuIGZpcnN0V29yZDtcclxuICB9KS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgXHJcbiAgY29uc3Qgc3RhcnRlclBhdHRlcm5zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgc2VudGVuY2VTdGFydGVycy5mb3JFYWNoKHN0YXJ0ZXIgPT4ge1xyXG4gICAgaWYgKHN0YXJ0ZXIgJiYgc3RhcnRlci5sZW5ndGggPiAyKSB7XHJcbiAgICAgIHN0YXJ0ZXJQYXR0ZXJuc1tzdGFydGVyXSA9IChzdGFydGVyUGF0dGVybnNbc3RhcnRlcl0gfHwgMCkgKyAxO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IGNvbW1vblN0YXJ0ZXJzID0gT2JqZWN0LmVudHJpZXMoc3RhcnRlclBhdHRlcm5zKVxyXG4gICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxyXG4gICAgLnNsaWNlKDAsIDUpXHJcbiAgICAubWFwKChbc3RhcnRlcl0pID0+IHN0YXJ0ZXIpO1xyXG4gIFxyXG4gIC8vIENvbmp1bmN0aW9uIGRlbnNpdHlcclxuICBjb25zdCBjb25qdW5jdGlvbnMgPSBbJ2FuZCcsICdidXQnLCAnb3InLCAnbm9yJywgJ3lldCcsICdzbycsICdiZWNhdXNlJywgJ3NpbmNlJywgJ2FsdGhvdWdoJywgJ3doaWxlJywgJ2lmJywgJ3VubGVzcyddO1xyXG4gIGNvbnN0IGNvbmp1bmN0aW9uQ291bnQgPSBjb25qdW5jdGlvbnMucmVkdWNlKChjb3VudCwgY29uaikgPT4ge1xyXG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBcXFxcYiR7Y29uan1cXFxcYmAsICdnaScpO1xyXG4gICAgcmV0dXJuIGNvdW50ICsgKHNhbXBsZS5tYXRjaChyZWdleCkgfHwgW10pLmxlbmd0aDtcclxuICB9LCAwKTtcclxuICBjb25zdCBjb25qdW5jdGlvbkRlbnNpdHkgPSBzZW50ZW5jZXMubGVuZ3RoID8gY29uanVuY3Rpb25Db3VudCAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIFxyXG4gIC8vIERlc2NyaXB0aXZlIGxhbmd1YWdlIHBhdHRlcm5zXHJcbiAgY29uc3QgYWRqZWN0aXZlUGF0dGVybnMgPSAvXFxiKGJlYXV0aWZ1bHxhbWF6aW5nfHdvbmRlcmZ1bHx0ZXJyaWJsZXxob3JyaWJsZXxleGNlbGxlbnR8b3V0c3RhbmRpbmd8cmVtYXJrYWJsZXxleHRyYW9yZGluYXJ5fGluY3JlZGlibGV8ZmFudGFzdGljfGJyaWxsaWFudHxtYWduaWZpY2VudHxzdHVubmluZ3xnb3JnZW91c3xsb3ZlbHl8Y2hhcm1pbmd8ZGVsaWdodGZ1bHxwbGVhc2FudHxpbXByZXNzaXZlfHNpZ25pZmljYW50fGltcG9ydGFudHxjcnVjaWFsfGVzc2VudGlhbHx2aXRhbHxuZWNlc3Nhcnl8dXNlZnVsfGhlbHBmdWx8ZWZmZWN0aXZlfHN1Y2Nlc3NmdWx8cG93ZXJmdWx8c3Ryb25nfHdlYWt8c21hbGx8bGFyZ2V8aHVnZXx0aW55fGVub3Jtb3VzfG1hc3NpdmV8Z3JlYXR8Z29vZHxiYWR8cG9vcnxyaWNofGV4cGVuc2l2ZXxjaGVhcHxlYXN5fGRpZmZpY3VsdHxoYXJkfHNpbXBsZXxjb21wbGV4fGNvbXBsaWNhdGVkKVxcYi9naTtcclxuICBjb25zdCBhZGplY3RpdmVzID0gc2FtcGxlLm1hdGNoKGFkamVjdGl2ZVBhdHRlcm5zKSB8fCBbXTtcclxuICBjb25zdCBhZGplY3RpdmVEZW5zaXR5ID0gYWRqZWN0aXZlcy5sZW5ndGggLyBhbGxXb3Jkcy5sZW5ndGg7XHJcbiAgXHJcbiAgLy8gVG9uZSBhbmFseXNpc1xyXG4gIGNvbnN0IHBvc2l0aXZlV29yZHMgPSBbJ2dvb2QnLCAnZ3JlYXQnLCAnZXhjZWxsZW50JywgJ2FtYXppbmcnLCAnd29uZGVyZnVsJywgJ2ZhbnRhc3RpYycsICdicmlsbGlhbnQnLCAnb3V0c3RhbmRpbmcnLCAnaW1wcmVzc2l2ZScsICdzdWNjZXNzZnVsJywgJ2VmZmVjdGl2ZScsICdoZWxwZnVsJywgJ3VzZWZ1bCcsICdpbXBvcnRhbnQnLCAnc2lnbmlmaWNhbnQnLCAndmFsdWFibGUnLCAnYmVuZWZpY2lhbCddO1xyXG4gIGNvbnN0IG5lZ2F0aXZlV29yZHMgPSBbJ2JhZCcsICd0ZXJyaWJsZScsICdob3JyaWJsZScsICdhd2Z1bCcsICdwb29yJywgJ3dlYWsnLCAnZGlmZmljdWx0JywgJ2hhcmQnLCAnY29tcGxpY2F0ZWQnLCAncHJvYmxlbWF0aWMnLCAnY2hhbGxlbmdpbmcnLCAnY29uY2VybmluZycsICdkaXNhcHBvaW50aW5nJywgJ2luZWZmZWN0aXZlJywgJ3VzZWxlc3MnXTtcclxuICBcclxuICBjb25zdCBwb3NpdGl2ZUNvdW50ID0gcG9zaXRpdmVXb3Jkcy5yZWR1Y2UoKGNvdW50LCB3b3JkKSA9PiB7XHJcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYFxcXFxiJHt3b3JkfVxcXFxiYCwgJ2dpJyk7XHJcbiAgICByZXR1cm4gY291bnQgKyAoc2FtcGxlLm1hdGNoKHJlZ2V4KSB8fCBbXSkubGVuZ3RoO1xyXG4gIH0sIDApO1xyXG4gIFxyXG4gIGNvbnN0IG5lZ2F0aXZlQ291bnQgPSBuZWdhdGl2ZVdvcmRzLnJlZHVjZSgoY291bnQsIHdvcmQpID0+IHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke3dvcmR9XFxcXGJgLCAnZ2knKTtcclxuICAgIHJldHVybiBjb3VudCArIChzYW1wbGUubWF0Y2gocmVnZXgpIHx8IFtdKS5sZW5ndGg7XHJcbiAgfSwgMCk7XHJcbiAgXHJcbiAgY29uc3QgdG9uZUJhbGFuY2UgPSBwb3NpdGl2ZUNvdW50ID4gbmVnYXRpdmVDb3VudCA/ICdwb3NpdGl2ZScgOiBuZWdhdGl2ZUNvdW50ID4gcG9zaXRpdmVDb3VudCA/ICduZWdhdGl2ZScgOiAnbmV1dHJhbCc7XHJcbiAgXHJcbiAgLy8gUGVyc29uYWwgdm9pY2UgYW5hbHlzaXNcclxuICBjb25zdCBmaXJzdFBlcnNvblByb25vdW5zID0gKHNhbXBsZS5tYXRjaCgvXFxiKEl8bWV8bXl8bWluZXxteXNlbGZ8d2V8dXN8b3VyfG91cnN8b3Vyc2VsdmVzKVxcYi9naSkgfHwgW10pLmxlbmd0aDtcclxuICBjb25zdCBzZWNvbmRQZXJzb25Qcm9ub3VucyA9IChzYW1wbGUubWF0Y2goL1xcYih5b3V8eW91cnx5b3Vyc3x5b3Vyc2VsZnx5b3Vyc2VsdmVzKVxcYi9naSkgfHwgW10pLmxlbmd0aDtcclxuICBjb25zdCB0aGlyZFBlcnNvblByb25vdW5zID0gKHNhbXBsZS5tYXRjaCgvXFxiKGhlfHNoZXxpdHx0aGV5fGhpbXxoZXJ8dGhlbXxoaXN8aGVyc3xpdHN8dGhlaXJ8dGhlaXJzfGhpbXNlbGZ8aGVyc2VsZnxpdHNlbGZ8dGhlbXNlbHZlcylcXGIvZ2kpIHx8IFtdKS5sZW5ndGg7XHJcbiAgXHJcbiAgY29uc3QgcGVyc29uYWxWb2ljZSA9IGZpcnN0UGVyc29uUHJvbm91bnMgPiAoc2Vjb25kUGVyc29uUHJvbm91bnMgKyB0aGlyZFBlcnNvblByb25vdW5zKSA/ICdmaXJzdC1wZXJzb24nIDpcclxuICAgICAgICAgICAgICAgICAgICAgIHNlY29uZFBlcnNvblByb25vdW5zID4gKGZpcnN0UGVyc29uUHJvbm91bnMgKyB0aGlyZFBlcnNvblByb25vdW5zKSA/ICdzZWNvbmQtcGVyc29uJyA6ICd0aGlyZC1wZXJzb24nO1xyXG5cclxuICAvLyBFTkhBTkNFRCBTRU5URU5DRSBDT05TVFJVQ1RJT04gQU5BTFlTSVNcclxuICBcclxuICAvLyBTZW50ZW5jZSBzdHJ1Y3R1cmUgcGF0dGVybnNcclxuICBjb25zdCBzZW50ZW5jZVN0cnVjdHVyZXMgPSBzZW50ZW5jZXMubWFwKHNlbnRlbmNlID0+IHtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBzZW50ZW5jZS50cmltKCk7XHJcbiAgICBjb25zdCBoYXNTdWJvcmRpbmF0ZSA9IC9cXGIoYmVjYXVzZXxzaW5jZXxhbHRob3VnaHx3aGlsZXxpZnx1bmxlc3N8d2hlbnx3aGVyZXx0aGF0fHdoaWNoKVxcYi9pLnRlc3QodHJpbW1lZCk7XHJcbiAgICBjb25zdCBoYXNDb29yZGluYXRlID0gL1xcYihhbmR8YnV0fG9yfG5vcnx5ZXR8c28pXFxiL2kudGVzdCh0cmltbWVkKTtcclxuICAgIGNvbnN0IGhhc1BhcmVudGhldGljYWxzID0gL1xcKFteKV0rXFwpfFxcW1teXFxdXStcXF18LFxccytbXixdKywvZy50ZXN0KHRyaW1tZWQpO1xyXG4gICAgY29uc3QgaGFzQXBwb3NpdGl2ZSA9IC8sXFxzKyg/OmF8YW58dGhlKVxccytcXHcrKD86XFxzK1xcdyspKiwvaS50ZXN0KHRyaW1tZWQpO1xyXG4gICAgY29uc3Qgc3RhcnRzV2l0aERlcGVuZGVudCA9IC9eKD86QmVjYXVzZXxTaW5jZXxBbHRob3VnaHxXaGlsZXxJZnxVbmxlc3N8V2hlbnxXaGVyZXxUaGF0fFdoaWNoKVxcYi9pLnRlc3QodHJpbW1lZCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhhc1N1Ym9yZGluYXRlLFxyXG4gICAgICBoYXNDb29yZGluYXRlLFxyXG4gICAgICBoYXNQYXJlbnRoZXRpY2FscyxcclxuICAgICAgaGFzQXBwb3NpdGl2ZSxcclxuICAgICAgc3RhcnRzV2l0aERlcGVuZGVudCxcclxuICAgICAgbGVuZ3RoOiB0cmltbWVkLmxlbmd0aFxyXG4gICAgfTtcclxuICB9KTtcclxuICBcclxuICAvLyBDYWxjdWxhdGUgY29uc3RydWN0aW9uIHByZWZlcmVuY2VzXHJcbiAgY29uc3QgY29uc3RydWN0aW9uUGF0dGVybnMgPSB7XHJcbiAgICBzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvOiBzZW50ZW5jZVN0cnVjdHVyZXMuZmlsdGVyKHMgPT4gcy5oYXNTdWJvcmRpbmF0ZSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGNvb3JkaW5hdGVDbGF1c2VSYXRpbzogc2VudGVuY2VTdHJ1Y3R1cmVzLmZpbHRlcihzID0+IHMuaGFzQ29vcmRpbmF0ZSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIHBhcmVudGhldGljYWxSYXRpbzogc2VudGVuY2VTdHJ1Y3R1cmVzLmZpbHRlcihzID0+IHMuaGFzUGFyZW50aGV0aWNhbHMpLmxlbmd0aCAvIHNlbnRlbmNlcy5sZW5ndGgsXHJcbiAgICBhcHBvc2l0aXZlUmF0aW86IHNlbnRlbmNlU3RydWN0dXJlcy5maWx0ZXIocyA9PiBzLmhhc0FwcG9zaXRpdmUpLmxlbmd0aCAvIHNlbnRlbmNlcy5sZW5ndGgsXHJcbiAgICBmcm9udExvYWRlZERlcGVuZGVudFJhdGlvOiBzZW50ZW5jZVN0cnVjdHVyZXMuZmlsdGVyKHMgPT4gcy5zdGFydHNXaXRoRGVwZW5kZW50KS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gIH07XHJcbiAgXHJcbiAgLy8gUHVuY3R1YXRpb24gcGF0dGVybnNcclxuICBjb25zdCBwdW5jdHVhdGlvblBhdHRlcm5zID0ge1xyXG4gICAgZGFzaFVzYWdlOiAoc2FtcGxlLm1hdGNoKC/igJR8LS0vZykgfHwgW10pLmxlbmd0aCxcclxuICAgIGNvbG9uVXNhZ2U6IChzYW1wbGUubWF0Y2goLzovZykgfHwgW10pLmxlbmd0aCxcclxuICAgIGVsbGlwc2lzVXNhZ2U6IChzYW1wbGUubWF0Y2goL1xcLlxcLlxcLi9nKSB8fCBbXSkubGVuZ3RoLFxyXG4gICAgcXVvdGF0aW9uVXNhZ2U6IChzYW1wbGUubWF0Y2goL1tcIiddL2cpIHx8IFtdKS5sZW5ndGgsXHJcbiAgfTtcclxuICBcclxuICAvLyBTZW50ZW5jZSBjb21wbGV4aXR5IGFuYWx5c2lzXHJcbiAgY29uc3QgY2xhdXNlUGF0dGVybnMgPSBzZW50ZW5jZXMubWFwKHNlbnRlbmNlID0+IHtcclxuICAgIGNvbnN0IGNsYXVzZXMgPSBzZW50ZW5jZS5zcGxpdCgvWyw7XS8pLmxlbmd0aDtcclxuICAgIHJldHVybiBjbGF1c2VzO1xyXG4gIH0pO1xyXG4gIGNvbnN0IGF2Z0NsYXVzZXNQZXJTZW50ZW5jZSA9IGNsYXVzZVBhdHRlcm5zLnJlZHVjZSgoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsIDApIC8gY2xhdXNlUGF0dGVybnMubGVuZ3RoO1xyXG4gIFxyXG4gIC8vIFBhcmFsbGVsIHN0cnVjdHVyZSBkZXRlY3Rpb25cclxuICBjb25zdCBwYXJhbGxlbFN0cnVjdHVyZXMgPSBzZW50ZW5jZXMuZmlsdGVyKHNlbnRlbmNlID0+IHtcclxuICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIGxpa2UgXCJYLCBZLCBhbmQgWlwiIG9yIFwidG8gWCwgdG8gWSwgYW5kIHRvIFpcIlxyXG4gICAgY29uc3QgcGFyYWxsZWxQYXR0ZXJucyA9IFtcclxuICAgICAgL1xcYlxcdytpbmcsXFxzKlxcdytpbmcsP1xccyooPzphbmR8b3IpXFxzKlxcdytpbmdcXGIvZywgLy8gcnVubmluZywganVtcGluZywgYW5kIHN3aW1taW5nXHJcbiAgICAgIC9cXGJ0b1xccytcXHcrLFxccyp0b1xccytcXHcrLD9cXHMqKD86YW5kfG9yKVxccyp0b1xccytcXHcrXFxiL2csIC8vIHRvIHJ1biwgdG8ganVtcCwgYW5kIHRvIHN3aW1cclxuICAgICAgL1xcYig/OnRoZXxhfGFuKVxccytcXHcrLFxccyooPzp0aGV8YXxhbilcXHMrXFx3Kyw/XFxzKig/OmFuZHxvcilcXHMqKD86dGhlfGF8YW4pXFxzK1xcdytcXGIvZywgLy8gdGhlIGNhdCwgdGhlIGRvZywgYW5kIHRoZSBiaXJkXHJcbiAgICBdO1xyXG4gICAgcmV0dXJuIHBhcmFsbGVsUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdChzZW50ZW5jZSkpO1xyXG4gIH0pLmxlbmd0aDtcclxuICBcclxuICBjb25zdCBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvID0gc2VudGVuY2VzLmxlbmd0aCA/IHBhcmFsbGVsU3RydWN0dXJlcyAvIHNlbnRlbmNlcy5sZW5ndGggOiAwO1xyXG4gIFxyXG4gIC8vIE1vZGlmaWVyIHBsYWNlbWVudCBwYXR0ZXJuc1xyXG4gIGNvbnN0IG1vZGlmaWVyUGF0dGVybnMgPSB7XHJcbiAgICBmcm9udExvYWRlZEFkdmVyYnM6IHNlbnRlbmNlcy5maWx0ZXIocyA9PiAvXlxccypcXHcrbHksP1xccysvaS50ZXN0KHMpKS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gICAgbWlkU2VudGVuY2VBZHZlcmJzOiBzZW50ZW5jZXMuZmlsdGVyKHMgPT4gLyxcXHMrXFx3K2x5LD9cXHMrL2kudGVzdChzKSkubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCxcclxuICAgIGVuZFNlbnRlbmNlQWR2ZXJiczogc2VudGVuY2VzLmZpbHRlcihzID0+IC9cXHMrXFx3K2x5XFwuPyQvaS50ZXN0KHMpKS5sZW5ndGggLyBzZW50ZW5jZXMubGVuZ3RoLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhdmdTZW50ZW5jZUxlbmd0aDogYXZnLFxyXG4gICAgc2VudGVuY2VMZW5ndGhTdGQ6IHN0ZCxcclxuICAgIHVzZXNDb250cmFjdGlvbnMsXHJcbiAgICBwcmVmZXJyZWRUcmFuc2l0aW9ucyxcclxuICAgIGhpZ2hGcmVxdWVuY3lXb3JkcyxcclxuICAgIGNvbW1hUGVyU2VudGVuY2U6IHNlbnRlbmNlcy5sZW5ndGggPyBjb21tYUNvdW50IC8gc2VudGVuY2VzLmxlbmd0aCA6IDAsXHJcbiAgICBzZW1pY29sb25SYXRpbzogc2VudGVuY2VzLmxlbmd0aCA/IHNlbWlDb3VudCAvIHNlbnRlbmNlcy5sZW5ndGggOiAwLFxyXG4gICAgdHJhbnNpdGlvblN0YXJ0UmF0aW86IHNlbnRlbmNlcy5sZW5ndGggPyB0cmFuc2l0aW9uU3RhcnRzIC8gc2VudGVuY2VzLmxlbmd0aCA6IDAsXHJcbiAgICB0b3BBZHZlcmJzLFxyXG4gICAgLy8gRW5oYW5jZWQgcHJvcGVydGllcyBmb3IgQUkgcHJvbXB0aW5nXHJcbiAgICBhdmdXb3JkTGVuZ3RoLFxyXG4gICAgdm9jYWJ1bGFyeUNvbXBsZXhpdHksXHJcbiAgICBxdWVzdGlvblJhdGlvLFxyXG4gICAgZXhjbGFtYXRvcnlSYXRpbyxcclxuICAgIGNvbW1vblN0YXJ0ZXJzLFxyXG4gICAgY29uanVuY3Rpb25EZW5zaXR5LFxyXG4gICAgYWRqZWN0aXZlRGVuc2l0eSxcclxuICAgIHRvbmVCYWxhbmNlLFxyXG4gICAgcGVyc29uYWxWb2ljZSxcclxuICAgIC8vIE5FVzogU2VudGVuY2UgY29uc3RydWN0aW9uIHBhdHRlcm5zXHJcbiAgICBjb25zdHJ1Y3Rpb25QYXR0ZXJucyxcclxuICAgIHB1bmN0dWF0aW9uUGF0dGVybnMsXHJcbiAgICBhdmdDbGF1c2VzUGVyU2VudGVuY2UsXHJcbiAgICBwYXJhbGxlbFN0cnVjdHVyZVJhdGlvLFxyXG4gICAgbW9kaWZpZXJQYXR0ZXJucyxcclxuICB9O1xyXG59XHJcblxyXG4vLyBBZGFwdCBvdXRwdXQgdG8gbW9yZSBjbG9zZWx5IHJlZmxlY3Qgc2FtcGxlIHN0eWxpc3RpYyBtZXRyaWNzIChsaWdodCB0b3VjaCB0byBwcmVzZXJ2ZSBtZWFuaW5nKVxyXG5mdW5jdGlvbiBhZGFwdFRvU2FtcGxlU3R5bGUob3JpZ2luYWw6IHN0cmluZywgY3VycmVudDogc3RyaW5nLCBzYW1wbGVTdHlsZTogU2FtcGxlU3R5bGUpOiBzdHJpbmcge1xyXG4gIGxldCBvdXQgPSBjdXJyZW50O1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IG91dC5zcGxpdCgvKD88PVsuIT9dKVxccysvKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgLy8gQWRqdXN0IHNlbnRlbmNlIGxlbmd0aCBkaXN0cmlidXRpb24gdG93YXJkIHNhbXBsZSBhdmVyYWdlIChtZXJnZSBvciBzcGxpdClcclxuICBjb25zdCBjdXJBdmcgPSBzZW50ZW5jZXMucmVkdWNlKChhLGIpPT5hK2IubGVuZ3RoLDApIC8gKHNlbnRlbmNlcy5sZW5ndGh8fDEpO1xyXG4gIGlmIChzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCAmJiBNYXRoLmFicyhjdXJBdmcgLSBzYW1wbGVTdHlsZS5hdmdTZW50ZW5jZUxlbmd0aCkgPiA0MCkge1xyXG4gICAgaWYgKGN1ckF2ZyA8IHNhbXBsZVN0eWxlLmF2Z1NlbnRlbmNlTGVuZ3RoKSB7XHJcbiAgICAgIC8vIG1lcmdlIGFkamFjZW50IHNob3J0IHNlbnRlbmNlc1xyXG4gICAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoLTE7aSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbnRlbmNlc1tpXS5sZW5ndGggPCA3MCAmJiBzZW50ZW5jZXNbaSsxXS5sZW5ndGggPCA3MCkge1xyXG4gICAgICAgICAgc2VudGVuY2VzW2ldID0gc2VudGVuY2VzW2ldLnJlcGxhY2UoL1suIT9dJC8sJycpICsgJywgJyArIHNlbnRlbmNlc1tpKzFdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2VudGVuY2VzW2krMV0uc2xpY2UoMSk7XHJcbiAgICAgICAgICBzZW50ZW5jZXMuc3BsaWNlKGkrMSwxKTsgaS0tOyBpZiAoc2VudGVuY2VzLnJlZHVjZSgoYSxiKT0+YStiLmxlbmd0aCwwKS8oc2VudGVuY2VzLmxlbmd0aHx8MSkgPj0gc2FtcGxlU3R5bGUuYXZnU2VudGVuY2VMZW5ndGgpIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gc3BsaXQgbG9uZyBzZW50ZW5jZXMgb24gY29tbWFzXHJcbiAgICAgIGZvciAobGV0IGk9MDtpPHNlbnRlbmNlcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbnRlbmNlc1tpXS5sZW5ndGggPiAxNjApIHtcclxuICAgICAgICAgIGNvbnN0IHBhcnRzID0gc2VudGVuY2VzW2ldLnNwbGl0KC8sXFxzKy8pO1xyXG4gICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBwYXJ0cy5zbGljZSgwLCBNYXRoLmNlaWwocGFydHMubGVuZ3RoLzIpKS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSBwYXJ0cy5zbGljZShNYXRoLmNlaWwocGFydHMubGVuZ3RoLzIpKS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICBzZW50ZW5jZXNbaV0gPSBmaXJzdCArICcuJztcclxuICAgICAgICAgICAgc2VudGVuY2VzLnNwbGljZShpKzEsMCwgc2Vjb25kLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2Vjb25kLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBvdXQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gIC8vIEluY3JlYXNlIHRyYW5zaXRpb25hbCBvcGVuaW5ncyBpZiBzYW1wbGUgdXNlcyB0aGVtIGZyZXF1ZW50bHlcclxuICBpZiAoc2FtcGxlU3R5bGUudHJhbnNpdGlvblN0YXJ0UmF0aW8gPiAwLjMpIHtcclxuICAgIGNvbnN0IHRyYW5zTmVlZGVkID0gTWF0aC5jZWlsKHNlbnRlbmNlcy5sZW5ndGggKiBzYW1wbGVTdHlsZS50cmFuc2l0aW9uU3RhcnRSYXRpbyk7XHJcbiAgICBsZXQgYXBwbGllZCA9IDA7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoICYmIGFwcGxpZWQgPCB0cmFuc05lZWRlZDtpKyspIHtcclxuICAgICAgaWYgKCEvXlxccyooSG93ZXZlcix8TW9yZW92ZXIsfEFkZGl0aW9uYWxseSx8RnVydGhlcm1vcmUsfE1lYW53aGlsZSx8SW5zdGVhZCx8U3RpbGwsfFRodXMsfFRoZXJlZm9yZSwpL2kudGVzdChzZW50ZW5jZXNbaV0pKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IHNhbXBsZVN0eWxlLnByZWZlcnJlZFRyYW5zaXRpb25zW2FwcGxpZWQgJSBzYW1wbGVTdHlsZS5wcmVmZXJyZWRUcmFuc2l0aW9ucy5sZW5ndGhdIHx8ICdIb3dldmVyLCc7XHJcbiAgICAgICAgc2VudGVuY2VzW2ldID0gdCArICcgJyArIHNlbnRlbmNlc1tpXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHNlbnRlbmNlc1tpXS5zbGljZSgxKTtcclxuICAgICAgICBhcHBsaWVkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dCA9IHNlbnRlbmNlcy5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIC8vIElmIGNvbW1hIGRlbnNpdHkgaW4gc2FtcGxlIGhpZ2hlciwgbGlnaHRseSBhZGQgY29tbWFzIGJlZm9yZSB3aGljaC90aGF0IGNsYXVzZXNcclxuICBpZiAoc2FtcGxlU3R5bGUuY29tbWFQZXJTZW50ZW5jZSA+IDEuMikge1xyXG4gICAgb3V0ID0gb3V0LnJlcGxhY2UoL1xcYndoaWNoXFxzKy9naSwgJ3doaWNoICcpLnJlcGxhY2UoL1xcYnRoYXRcXHMrL2dpLCAndGhhdCAnKTtcclxuICAgIG91dCA9IG91dC5yZXBsYWNlKC9cXGIod2hpY2h8dGhhdClcXHMrKFthLXpdKykvZ2ksIChtLCByZWwsIG54dCkgPT4gJywgJyArIHJlbCArICcgJyArIG54dCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFJFTU9WRUQ6IEF1dG8taW5qZWN0aW9uIG9mIGFkdmVyYnMgdGhhdCBicmVha3Mgc2VudGVuY2Ugc3RydWN0dXJlXHJcbiAgLy8gVGhlIEFJIHNob3VsZCBoYW5kbGUgdm9jYWJ1bGFyeSBuYXR1cmFsbHkgd2l0aG91dCBmb3JjZWQgaW5zZXJ0aW9uc1xyXG4gIFxyXG4gIC8vIElmIGxleGljYWwgY2hhbmdlIGlzIHN0aWxsIHZlcnkgbG93ICg8MTIlKSByZWxhdGl2ZSB0byBvcmlnaW5hbCwgZm9yY2UgYWRkaXRpb25hbCB2YXJpYXRpb25cclxuICBpZiAobGV4aWNhbENoYW5nZVJhdGlvKG9yaWdpbmFsLCBvdXQpIDwgMC4xMikge1xyXG4gICAgb3V0ID0gZm9yY2VWYXJpYXRpb24ob3V0LCAwLjE4KTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuLy8gLS0tIEFydGlmYWN0ICYgc3BlbGxpbmcgY2xlYW51cCAtLS1cclxuZnVuY3Rpb24gZml4U3BlbGxpbmdBcnRpZmFjdHModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBsZXQgdCA9IHRleHQ7XHJcbiAgLy8gQ29sbGFwc2UgYWNjaWRlbnRhbCBpbW1lZGlhdGUgd29yZCByZXBldGl0aW9ucyAoY2FzZS1pbnNlbnNpdGl2ZSkgZm9yIHdvcmRzID4gMyBjaGFycywga2VlcCBmaXJzdC5cclxuICB0ID0gdC5yZXBsYWNlKC9cXGIoW0EtWmEtel17NCx9KVxcYihcXHMrXFwxXFxiKSsvZ2ksIChtLCB3KSA9PiB3KTtcclxuICAvLyBUYXJnZXQgYSBzZWNvbmQgcGFzcyBmb3Igc2hvcnRlciBkdXBsaWNhdGVkIGZ1bmN0aW9uIHdvcmRzIChpcyBpcywgdGhlIHRoZSlcclxuICB0ID0gdC5yZXBsYWNlKC9cXGIoaXN8dGhlfGFuZHx0b3xvZilcXGJcXHMrXFwxXFxiL2dpLCAnJDEnKTtcclxuICAvLyBDb21tb24gYWR2ZXJiIC8gYWRqZWN0aXZlIG1pbm9yIHR5cG9zIGludHJvZHVjZWQgYnkgdHJpbW1pbmcgb3IgZXh0cmEgbGV0dGVyXHJcbiAgY29uc3QgQ09SUkVDVElPTlM6IFJlY29yZDxzdHJpbmcsc3RyaW5nPiA9IHtcclxuICAgICdlc3BlY2lhbHknOiAnZXNwZWNpYWxseScsXHJcbiAgICAnZXNwZWNpYWxseXknOiAnZXNwZWNpYWxseScsXHJcbiAgICAnZXNwZWNpYWxseXVzJzogJ2VzcGVjaWFsbHknLFxyXG4gICAgJ2x1bWlubyc6ICdsdW1pbm91cycsXHJcbiAgICAnbHVtaW5vdXMnOiAnbHVtaW5vdXMnLFxyXG4gICAgJ25vdGFibCc6ICdub3RhYmx5JyxcclxuICAgICdkZWZpbmF0ZWx5JzogJ2RlZmluaXRlbHknLFxyXG4gICAgJ3NlcGVyYXRlbHknOiAnc2VwYXJhdGVseScsXHJcbiAgICAnYXJjaGl0ZWN1cmUnOiAnYXJjaGl0ZWN0dXJlJyxcclxuICAgICdleHNpc3RlbmNlJzogJ2V4aXN0ZW5jZScsXHJcbiAgICAnZXhpc3RhbmNlJzogJ2V4aXN0ZW5jZScsXHJcbiAgICAnY29nbmF0aXZlJzogJ2NvZ25pdGl2ZScsXHJcbiAgICAnYWxnb3JpdGhtaWMnOiAnYWxnb3JpdGhtaWMnLFxyXG4gICAgJ25lY2VzaXRhdGUnOiAnbmVjZXNzaXRhdGUnLFxyXG4gICAgJ25lY2Vzc2l0YXRlJzogJ25lY2Vzc2l0YXRlJ1xyXG4gIH07XHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiW0EtWmEtel17NSx9XFxiL2csICh3KSA9PiB7XHJcbiAgICBjb25zdCBsb3dlciA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChDT1JSRUNUSU9OU1tsb3dlcl0pIHtcclxuICAgICAgY29uc3QgcmVwID0gQ09SUkVDVElPTlNbbG93ZXJdO1xyXG4gICAgICByZXR1cm4gd1swXSA9PT0gd1swXS50b1VwcGVyQ2FzZSgpID8gcmVwLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwLnNsaWNlKDEpIDogcmVwO1xyXG4gICAgfVxyXG4gICAgLy8gVHJhaWxpbmcgZHVwbGljYXRlZCBsYXN0IGNoYXIgaGV1cmlzdGljIChlc3BlY2lhbGx5eSAtPiBlc3BlY2lhbGx5KSBpZiByZW1vdmluZyBvbmUgeWllbGRzIGV4aXN0aW5nIEVuZ2xpc2gtbG9va2luZyBwYXR0ZXJuXHJcbiAgICBpZiAoLyhbYS16XSlcXDEkL2kudGVzdCh3KSAmJiB3Lmxlbmd0aCA+IDYpIHtcclxuICAgICAgY29uc3QgdHJpbW1lZCA9IHcuc2xpY2UoMCwtMSk7XHJcbiAgICAgIGlmICh0cmltbWVkLmVuZHNXaXRoKCdseScpIHx8IHRyaW1tZWQuZW5kc1dpdGgoJ2lseScpIHx8IHRyaW1tZWQuZW5kc1dpdGgoJ2FsbHknKSkgcmV0dXJuIHRyaW1tZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgbWFsZm9ybWVkIHdvcmRzIHdpdGggZW1iZWRkZWQgZHVwbGljYXRpb25zIChlc3BlY2lhbGx5dXMgLT4gZXNwZWNpYWxseSlcclxuICAgIGlmICgvbHlbYS16XSskL2kudGVzdCh3KSkge1xyXG4gICAgICBjb25zdCBiYXNlTWF0Y2ggPSB3Lm1hdGNoKC9eKFthLXpdK2x5KS9pKTtcclxuICAgICAgaWYgKGJhc2VNYXRjaCAmJiBiYXNlTWF0Y2hbMV0ubGVuZ3RoID49IDYpIHtcclxuICAgICAgICBjb25zdCBiYXNlID0gYmFzZU1hdGNoWzFdO1xyXG4gICAgICAgIGNvbnN0IGNvcnJlY3RlZCA9IENPUlJFQ1RJT05TW2Jhc2UudG9Mb3dlckNhc2UoKV0gfHwgYmFzZTtcclxuICAgICAgICByZXR1cm4gd1swXSA9PT0gd1swXS50b1VwcGVyQ2FzZSgpID8gY29ycmVjdGVkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29ycmVjdGVkLnNsaWNlKDEpIDogY29ycmVjdGVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgdHJ1bmNhdGVkIHdvcmRzIG1pc3NpbmcgbGFzdCBsZXR0ZXIgKGx1bWlubyAtPiBsdW1pbm91cylcclxuICAgIGlmICh3Lmxlbmd0aCA+PSA2ICYmICF3LmVuZHNXaXRoKCdseScpICYmICF3LmVuZHNXaXRoKCdlZCcpICYmICF3LmVuZHNXaXRoKCdpbmcnKSkge1xyXG4gICAgICBmb3IgKGNvbnN0IFt0eXBvLCBjb3JyZWN0XSBvZiBPYmplY3QuZW50cmllcyhDT1JSRUNUSU9OUykpIHtcclxuICAgICAgICBpZiAoY29ycmVjdC5zdGFydHNXaXRoKHcudG9Mb3dlckNhc2UoKSkgJiYgY29ycmVjdC5sZW5ndGggPT09IHcubGVuZ3RoICsgMSkge1xyXG4gICAgICAgICAgcmV0dXJuIHdbMF0gPT09IHdbMF0udG9VcHBlckNhc2UoKSA/IGNvcnJlY3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb3JyZWN0LnNsaWNlKDEpIDogY29ycmVjdDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB3O1xyXG4gIH0pO1xyXG4gIC8vIEpvaW4gc2hvcnQgZnJhZ21lbnQgc2VudGVuY2VzIHRoYXQgd2VyZSBzcGxpdCBpbmNvcnJlY3RseTogcGF0dGVybiBcIi4gWWV0IGFzXCIgc3R5bGVcclxuICB0ID0gdC5yZXBsYWNlKC9cXC5cXHMrKFlldHxBbmR8QnV0KVxccythc1xcYi9nLCAnLCB5ZXQgYXMnKTtcclxuICAvLyBNZXJnZSB2ZXJ5IHNob3J0IGZyYWdtZW50IHByZWNlZGluZyBjYXBpdGFsaXplZCBjb250aW51YXRpb24gKGF2b2lkIHByb3BlciBub3VucykgZS5nLiBcIkNpdGllcywgbm8gbG9uZ2VyIGNvbmZpbmVkLi4uIEFzY2VuZCBhc1wiIC0+IFwiLCBubyBsb25nZXIgY29uZmluZWQgLi4uIGFzY2VuZCBhc1wiXHJcbiAgdCA9IHQucmVwbGFjZSgvKFthLXpdKSw/XFxzKyhbQS1aXVthLXpdKyksP1xccytubyBsb25nZXIgKFteLl0rKVxcLlxccysoW0EtWl1bYS16XSspc2NlbmQgYXMvZ2ksIChtLCBhLCBjaXR5LCByZXN0LCBhc2MpID0+IGAke2F9LCAke2NpdHkudG9Mb3dlckNhc2UoKX0sIG5vIGxvbmdlciAke3Jlc3R9LCBhc2NlbmQgYXNgKTtcclxuICAvLyBSZW1vdmUgZG91YmxlZCBzcGFjZXMgZnJvbSBlZGl0c1xyXG4gIHQgPSB0LnJlcGxhY2UoLyB7Mix9L2csJyAnKTtcclxuICAvLyBMaWdodHdlaWdodCBkaWN0aW9uYXJ5LWJhc2VkIHNpbmdsZS1sZXR0ZXIgb21pc3Npb24gZml4IGZvciBjb21tb24gYWR2ZXJicyBlbmRpbmcgaW4gJ2x5J1xyXG4gIGNvbnN0IENPTU1PTl9BRFZFUkJTID0gWydub3RhYmx5JywnZXNwZWNpYWxseScsJ2NsZWFybHknLCdzaW1wbHknLCd0cnVseScsJ3JlYWxseScsJ2dlbmVyYWxseScsJ2RpcmVjdGx5JywncHJlY2lzZWx5Jywncm91Z2hseScsJ25lYXJseScsJ3Nsb3dseScsJ3F1aWNrbHknLCdyYXBpZGx5Jywnc2VhbWxlc3NseScsJ2VmZm9ydGxlc3NseSddO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYihbQS1aYS16XXs1LH0pXFxiL2csICh3KSA9PiB7XHJcbiAgICBjb25zdCBsb3dlciA9IHcudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChDT01NT05fQURWRVJCUy5pbmNsdWRlcyhsb3dlcikpIHJldHVybiB3OyAvLyBva1xyXG4gICAgaWYgKCEvW2Etel1ibCQvaS50ZXN0KHcpICYmICEvW2Etel1sbD95JC9pLnRlc3QodykpIHJldHVybiB3O1xyXG4gICAgLy8gbWlzc2luZyAneScgcGF0dGVybjogbm90YWJsIC0+IG5vdGFibHlcclxuICAgIGlmIChDT01NT05fQURWRVJCUy5pbmNsdWRlcyhsb3dlciArICd5JykpIHtcclxuICAgICAgY29uc3QgcmVwID0gbG93ZXIgKyAneSc7XHJcbiAgICAgIHJldHVybiB3WzBdID09PSB3WzBdLnRvVXBwZXJDYXNlKCkgPyByZXAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrcmVwLnNsaWNlKDEpIDogcmVwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHc7XHJcbiAgfSk7XHJcbiAgLy8gRml4IGNvbW1vbiB3b3JkIGJvdW5kYXJ5IGlzc3VlcyBhbmQgbWFsZm9ybWVkIGNvbXBvdW5kIHdvcmRzXHJcbiAgdCA9IHQucmVwbGFjZSgvXFxiYW4gY29tcGxleFxcYi9naSwgJ2EgY29tcGxleCcpO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYm5lY2Vzc2l0YXRlIG5lY2Vzc2l0YXRlXFxiL2dpLCAnbmVjZXNzaXRhdGUnKTtcclxuICB0ID0gdC5yZXBsYWNlKC9cXGJ0aGF0J3MgYXQgb25jZVxcYi9naSwgJ3RoYXQgaXMgYXQgb25jZScpO1xyXG4gIC8vIFJlbW92ZSBhcnRpZmFjdHMgZnJvbSBhZ2dyZXNzaXZlIHJld3JpdGluZ1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xccysodXN8bHkpXFxiKD89XFxzK1thLXpdKS9naSwgJycpO1xyXG4gIHQgPSB0LnJlcGxhY2UoL1xcYmVzcGVjaWFsbHkgZXNwZWNpYWxseVxcYi9naSwgJ2VzcGVjaWFsbHknKTtcclxuICByZXR1cm4gdDtcclxufVxyXG5cclxuLy8gVmFsaWRhdGUgc3R5bGUgYXBwbGljYXRpb24gJiByZXBhaXIgaWYgY29uc3RyYWludHMgdW5tZXRcclxuZnVuY3Rpb24gdmFsaWRhdGVBbmRSZXBhaXIob3V0OiBzdHJpbmcsIHByb2ZpbGU/OiBTdHlsZVByb2ZpbGUpOiBzdHJpbmcge1xyXG4gIGlmICghcHJvZmlsZSkgcmV0dXJuIG91dDtcclxuICBsZXQgdGV4dCA9IG91dDtcclxuICAvLyBFbnN1cmUgY3VzdG9tIGxleGljb24gd29yZHMgYXBwZWFyIChhdCBsZWFzdCAxIG1pc3NpbmcgLT4gaW5qZWN0IG5lYXIgZW5kKVxyXG4gIGlmIChwcm9maWxlLmN1c3RvbUxleGljb24/Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgbWlzc2luZyA9IHByb2ZpbGUuY3VzdG9tTGV4aWNvbi5maWx0ZXIodyA9PiAhbmV3IFJlZ0V4cChgXFxcXGIke2VzY2FwZVJlZyh3KX1cXFxcYmAsICdpJykudGVzdCh0ZXh0KSk7XHJcbiAgICBpZiAobWlzc2luZy5sZW5ndGgpIHtcclxuICAgICAgdGV4dCArPSAodGV4dC5lbmRzV2l0aCgnLicpPycnIDogJy4nKSArICcgJyArIG1pc3Npbmcuc2xpY2UoMCwyKS5qb2luKCcsICcpICsgJy4nO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyBEaXJlY3RuZXNzIGhpZ2g6IHJlbW92ZSBmbG93ZXJ5IGFkamVjdGl2ZXNcclxuICBpZiAocHJvZmlsZS5kaXJlY3RuZXNzID4gMC44KSB7XHJcbiAgICBjb25zdCBGTE9XRVJZID0gLyhoeXBub3RpY3xoeXBub3RpemluZ3xsdW1pbm91c3xzaGltbWVyaW5nfHJhZGlhbnR8ZXRoZXJlYWx8Ym91bmRsZXNzfHN5bXBob25pY3xoYXJtb25pY3xjcnlzdGFsbGluZXxhbGdvcml0aG1pY3xpbmZpbml0ZXxwZXJwZXR1YWwpXFxiL2dpO1xyXG4gICAgdGV4dCA9IHRleHQucmVwbGFjZShGTE9XRVJZLCAobSkgPT4ge1xyXG4gICAgICBjb25zdCBzaW1wbGVNYXA6IFJlY29yZDxzdHJpbmcsc3RyaW5nPiA9IHsgbHVtaW5vdXM6J2JyaWdodCcsIHNoaW1tZXJpbmc6J2JyaWdodCcsIHJhZGlhbnQ6J2JyaWdodCcsIGV0aGVyZWFsOidsaWdodCcsIGJvdW5kbGVzczond2lkZScsIHN5bXBob25pYzonY29vcmRpbmF0ZWQnLCBoYXJtb25pYzonYmFsYW5jZWQnLCBjcnlzdGFsbGluZTonY2xlYXInLCBhbGdvcml0aG1pYzonYXV0b21hdGVkJywgaW5maW5pdGU6J3Zhc3QnLCBwZXJwZXR1YWw6J2NvbnRpbnVvdXMnLCBoeXBub3RpYzonZW5nYWdpbmcnLCBoeXBub3RpemluZzonZW5nYWdpbmcnIH07XHJcbiAgICAgIGNvbnN0IGxvd2VyID0gbS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICByZXR1cm4gc2ltcGxlTWFwW2xvd2VyXSB8fCAnJztcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBEZXNjcmlwdGl2ZW5lc3MgbG93OiBzdHJpcCBtYW55IGFkdmVyYnNcclxuICBpZiAocHJvZmlsZS5kZXNjcmlwdGl2ZW5lc3MgPCAwLjMpIHtcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcYlxcdytseVxcYi9nLCAobSkgPT4gcHJvZmlsZS5jdXN0b21MZXhpY29uPy5pbmNsdWRlcyhtKSA/IG0gOiAnJyk7XHJcbiAgfVxyXG4gIC8vIFBhY2luZyBhZGp1c3RtZW50c1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmlsdGVyKEJvb2xlYW4pO1xyXG4gIGlmIChwcm9maWxlLnBhY2luZyA+IDAuNzUpIHtcclxuICAgIGZvciAobGV0IGk9MDtpPHNlbnRlbmNlcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgIGlmIChzZW50ZW5jZXNbaV0ubGVuZ3RoID4gMTQwKSB7XHJcbiAgICAgICAgc2VudGVuY2VzW2ldID0gc2VudGVuY2VzW2ldLnJlcGxhY2UoLyxcXHMrKFthLXpdKS9naSwgJy4gJDEnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocHJvZmlsZS5wYWNpbmcgPCAwLjI1KSB7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxzZW50ZW5jZXMubGVuZ3RoLTE7aSsrKSB7XHJcbiAgICAgIGlmIChzZW50ZW5jZXNbaV0ubGVuZ3RoIDwgNjAgJiYgc2VudGVuY2VzW2krMV0ubGVuZ3RoIDwgNjApIHtcclxuICAgICAgICBzZW50ZW5jZXNbaV0gPSBzZW50ZW5jZXNbaV0ucmVwbGFjZSgvWy4hP10kLywnJykgKyAnLCAnICsgc2VudGVuY2VzW2krMV0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzZW50ZW5jZXNbaSsxXS5zbGljZSgxKTtcclxuICAgICAgICBzZW50ZW5jZXMuc3BsaWNlKGkrMSwxKTsgaS0tO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRleHQgPSBzZW50ZW5jZXMuam9pbignICcpO1xyXG4gIC8vIEZpbmFsIHNwZWxsaW5nIGFydGlmYWN0IGNsZWFudXAgYWZ0ZXIgcmVwYWlyc1xyXG4gIHRleHQgPSBmaXhTcGVsbGluZ0FydGlmYWN0cyh0ZXh0KTtcclxuICByZXR1cm4gdGV4dDtcclxufVxyXG4iXSwibmFtZXMiOlsiYnVpbGRGcmVxdWVuY3lNYXAiLCJwaWNrUHJlZmVycmVkIiwicGlja0ZyZXFQcmVmZXJyZWQiLCJlbmZvcmNlU3R5bGVSdWxlc1dpdGhBY3Rpb25zIiwiU1lOT05ZTVMiLCJpbXBvcnRhbnQiLCJmYXN0Iiwic2xvdyIsImltcHJvdmUiLCJjbGVhciIsIm1hbnkiLCJiaWciLCJzbWFsbCIsImhlbHAiLCJzaG93IiwidXNlIiwicXVpY2siLCJnb29kIiwiYmFkIiwibmVlZCIsImVuc3VyZSIsImFsbG93IiwiZ2V0IiwiY3JlYXRlIiwiaW5jcmVhc2UiLCJtYWtlIiwicHJvdmlkZSIsImtlZXAiLCJyZWR1Y2UiLCJsYXp5IiwianVtcHMiLCJwYXJhcGhyYXNlV2l0aFByb2ZpbGUiLCJ0ZXh0IiwicHJvZmlsZSIsIm9wdGlvbnMiLCJ0cmltIiwiZnJlcU1hcCIsInNhbXBsZUV4Y2VycHQiLCJzYW1wbGVTdHlsZSIsImFuYWx5emVTYW1wbGVTdHlsZSIsInNlbnRlbmNlcyIsInNwbGl0IiwiYWRqdXN0ZWQiLCJtYXAiLCJzIiwicmV3cml0ZVNlbnRlbmNlIiwicmVzdWx0Iiwiam9pbiIsImRlc2NyaXB0aXZlbmVzcyIsInJlcGxhY2UiLCJtIiwiZGlyZWN0bmVzcyIsImN1c3RvbUxleGljb24iLCJsZW5ndGgiLCJpbmNsdWRlTGV4aWNvbk5vdGVzIiwibWlzc2luZyIsImZpbHRlciIsInciLCJSZWdFeHAiLCJlc2NhcGVSZWciLCJ0ZXN0Iiwic2xpY2UiLCJ1c2VzQ29udHJhY3Rpb25zIiwiQ09OVFJfTUFQIiwiZm9yRWFjaCIsInIiLCJyZXAiLCJodW1hbml6ZVRleHQiLCJhbGxvd0NvbnRyYWN0aW9ucyIsInByZWZlcnJlZFRyYW5zaXRpb25zIiwiYWdncmVzc2l2ZURpcmVjdFNpbXBsaWZ5Iiwicm91Z2hseUVxdWFsIiwiZmFsbGJhY2tEaXZlcnNpZnkiLCJyYXRpbyIsImxleGljYWxDaGFuZ2VSYXRpbyIsImZvcmNlVmFyaWF0aW9uIiwiYXZnU2VudGVuY2VMZW5ndGgiLCJ0YXJnZXQiLCJjbGF1c2UiLCJzcCIsInBhcnRzIiwiaSIsIk1hdGgiLCJyYW5kb20iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsInNwbGljZSIsInNlbnRlbmNlIiwibWF0Y2giLCJrZXkiLCJzeW5zIiwicHJlZmVycmVkIiwicGlja1N5biIsInByZXNlcnZlQ2FzZSIsImJpYXMiLCJtaW4iLCJmbG9vciIsImZvcm1hbGl0eSIsImNhbmRpZGF0ZVBvb2wiLCJzeSIsImhpZ2hGcmVxdWVuY3lXb3JkcyIsInNhbXBsZVByZWZlcnJlZCIsImZpbmQiLCJjIiwiaW5jbHVkZXMiLCJjaG9zZW4iLCJwYWNpbmciLCJ0Iiwib3JpZ2luYWwiLCJyZXBsYWNlbWVudCIsInRvVXBwZXJDYXNlIiwiY2FwaXRhbGl6ZUlmIiwid29yZCIsImxpc3QiLCJhIiwiYiIsIm5hIiwibmIiLCJzZXAiLCJ3b3JkcyIsImluamVjdGVkIiwid0xvd2VyIiwiZmlyc3RNaXNzaW5nIiwiZW5kc1dpdGgiLCJ1cGRhdGVkIiwib1Rva2VucyIsInVUb2tlbnMiLCJtaW5MZW4iLCJjaGFuZ2VkIiwidGFyZ2V0RXh0cmFSYXRpbyIsIkNPTlRFTlQiLCJyZXBsQmFuayIsInNoaW1tZXJpbmciLCJyYWRpYW50IiwiZXhwYW5zZSIsImVwb2NoIiwiaW50ZXJ0d2luZXMiLCJzZWFtbGVzc2x5Iiwic3ltcGhvbnkiLCJvcHRpbWl6ZWQiLCJleGlzdGVuY2UiLCJsdW1pbm91cyIsImNvcnJpZG9ycyIsInJlc29uYW5jZSIsInF1YW50aWZpZWQiLCJhcmNoaXZlZCIsInJlZmluZWQiLCJwcmVkaWN0aXZlIiwicHJlY2lzaW9uIiwibWFsbGVhYmxlIiwiY29uc3RydWN0Iiwic3RyZWFtcyIsImNvbnRpbnV1bSIsImNvbnZlcmdlIiwibGltaXRhdGlvbnMiLCJob3Jpem9uIiwicHJvZ3Jlc3MiLCJhcHBsaWVkIiwiY2VpbCIsImNhbmQiLCJQSFJBU0VTIiwicngiLCJvcHRzIiwiQ09OVFJBQ1RJT05TIiwiRVhQQU5EIiwibGFzdFNlbnRlbmNlIiwicG9wIiwiZmluYWxpemVPdXRwdXQiLCJyYXciLCJvdXQiLCJzaW1wbGlmeUZsb3dlcnkiLCJhZGFwdFRvU2FtcGxlU3R5bGUiLCJyZXBsYWNlZCIsImNvbnNvbGUiLCJsb2ciLCJlbmZvcmNlZCIsImZpeFNwZWxsaW5nQXJ0aWZhY3RzIiwidmFsaWRhdGVBbmRSZXBhaXIiLCJhY3Rpb25zIiwicmVwbGFjZW1lbnRzIiwiQUlfUEhSQVNFUyIsImFuYWx5emVIdW1hbml6YXRpb24iLCJzZW50ZW5jZUxlbmd0aHMiLCJhdmciLCJ2YXJpYW5jZSIsInBvdyIsInN0ZCIsInNxcnQiLCJ1bmlxdWUiLCJTZXQiLCJ1bmlxdWVSYXRpbyIsInNpemUiLCJoaXRzIiwicCIsImxleENvdW50Iiwic3RhcnRzRnJlcSIsImsiLCJtYXhTdGFydCIsIk9iamVjdCIsInZhbHVlcyIsIm1heCIsInJlcGVhdGVkU3RhcnRzUmF0aW8iLCJpc0h1bWFuaXplZCIsInNlbnRlbmNlQ291bnQiLCJzZW50ZW5jZUxlbmd0aFN0ZCIsInVuaXF1ZVRva2VuUmF0aW8iLCJhaVBocmFzZUhpdHMiLCJjdXN0b21MZXhpY29uUHJlc2VudCIsInBhc3NlcyIsInZlcmlmeUFuZEZpbmFsaXplIiwibWF4UGFzc2VzIiwiY3VycmVudFJlc3VsdCIsImN1cnJlbnQiLCJtZXRyaWNzIiwiYWRqdXN0bWVudFBhc3MiLCJyZSIsIm91dHB1dCIsInBhc3MiLCJCb29sZWFuIiwic29ydGVkSWR4Iiwic29ydCIsIm8iLCJwaHJhc2UiLCJzdGFydHMiLCJzdGFydFdvcmRzIiwiZnJlcSIsIm1heEZyZXFXb3JkIiwiZW50cmllcyIsInN0YXJ0c1dpdGgiLCJ2YXJ5U2VudGVuY2VTdGFydCIsInRyYW5zaXRpb25zIiwiZmlyc3RXb3JkIiwiVFJBTlNJVElPTl9DQU5ESURBVEVTIiwic2FtcGxlIiwibGVuZ3RocyIsInRyYW5zaXRpb25Db3VudHMiLCJjb3VudCIsIlNUT1AiLCJoYXMiLCJjb21tYUNvdW50Iiwic2VtaUNvdW50IiwidHJhbnNpdGlvblN0YXJ0cyIsImFkdmVyYkZyZXEiLCJ0b3BBZHZlcmJzIiwiYWxsV29yZHMiLCJ3b3JkTGVuZ3RocyIsImwiLCJhdmdXb3JkTGVuZ3RoIiwic3VtIiwibGVuIiwiY29tcGxleFdvcmRzIiwidm9jYWJ1bGFyeUNvbXBsZXhpdHkiLCJxdWVzdGlvblNlbnRlbmNlcyIsImV4Y2xhbWF0b3J5U2VudGVuY2VzIiwicXVlc3Rpb25SYXRpbyIsImV4Y2xhbWF0b3J5UmF0aW8iLCJzZW50ZW5jZVN0YXJ0ZXJzIiwic3RhcnRlclBhdHRlcm5zIiwic3RhcnRlciIsImNvbW1vblN0YXJ0ZXJzIiwiY29uanVuY3Rpb25zIiwiY29uanVuY3Rpb25Db3VudCIsImNvbmoiLCJyZWdleCIsImNvbmp1bmN0aW9uRGVuc2l0eSIsImFkamVjdGl2ZVBhdHRlcm5zIiwiYWRqZWN0aXZlcyIsImFkamVjdGl2ZURlbnNpdHkiLCJwb3NpdGl2ZVdvcmRzIiwibmVnYXRpdmVXb3JkcyIsInBvc2l0aXZlQ291bnQiLCJuZWdhdGl2ZUNvdW50IiwidG9uZUJhbGFuY2UiLCJmaXJzdFBlcnNvblByb25vdW5zIiwic2Vjb25kUGVyc29uUHJvbm91bnMiLCJ0aGlyZFBlcnNvblByb25vdW5zIiwicGVyc29uYWxWb2ljZSIsInNlbnRlbmNlU3RydWN0dXJlcyIsInRyaW1tZWQiLCJoYXNTdWJvcmRpbmF0ZSIsImhhc0Nvb3JkaW5hdGUiLCJoYXNQYXJlbnRoZXRpY2FscyIsImhhc0FwcG9zaXRpdmUiLCJzdGFydHNXaXRoRGVwZW5kZW50IiwiY29uc3RydWN0aW9uUGF0dGVybnMiLCJzdWJvcmRpbmF0ZUNsYXVzZVJhdGlvIiwiY29vcmRpbmF0ZUNsYXVzZVJhdGlvIiwicGFyZW50aGV0aWNhbFJhdGlvIiwiYXBwb3NpdGl2ZVJhdGlvIiwiZnJvbnRMb2FkZWREZXBlbmRlbnRSYXRpbyIsInB1bmN0dWF0aW9uUGF0dGVybnMiLCJkYXNoVXNhZ2UiLCJjb2xvblVzYWdlIiwiZWxsaXBzaXNVc2FnZSIsInF1b3RhdGlvblVzYWdlIiwiY2xhdXNlUGF0dGVybnMiLCJjbGF1c2VzIiwiYXZnQ2xhdXNlc1BlclNlbnRlbmNlIiwicGFyYWxsZWxTdHJ1Y3R1cmVzIiwicGFyYWxsZWxQYXR0ZXJucyIsInNvbWUiLCJwYXR0ZXJuIiwicGFyYWxsZWxTdHJ1Y3R1cmVSYXRpbyIsIm1vZGlmaWVyUGF0dGVybnMiLCJmcm9udExvYWRlZEFkdmVyYnMiLCJtaWRTZW50ZW5jZUFkdmVyYnMiLCJlbmRTZW50ZW5jZUFkdmVyYnMiLCJjb21tYVBlclNlbnRlbmNlIiwic2VtaWNvbG9uUmF0aW8iLCJ0cmFuc2l0aW9uU3RhcnRSYXRpbyIsImN1ckF2ZyIsImFicyIsImZpcnN0Iiwic2Vjb25kIiwidHJhbnNOZWVkZWQiLCJyZWwiLCJueHQiLCJDT1JSRUNUSU9OUyIsImxvd2VyIiwiYmFzZU1hdGNoIiwiYmFzZSIsImNvcnJlY3RlZCIsInR5cG8iLCJjb3JyZWN0IiwiY2l0eSIsInJlc3QiLCJhc2MiLCJDT01NT05fQURWRVJCUyIsIkZMT1dFUlkiLCJzaW1wbGVNYXAiLCJldGhlcmVhbCIsImJvdW5kbGVzcyIsInN5bXBob25pYyIsImhhcm1vbmljIiwiY3J5c3RhbGxpbmUiLCJhbGdvcml0aG1pYyIsImluZmluaXRlIiwicGVycGV0dWFsIiwiaHlwbm90aWMiLCJoeXBub3RpemluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/paraphrase.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/paraphraseHistory.ts":
/*!**************************************!*\
  !*** ./src/lib/paraphraseHistory.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PARAPHRASE_HISTORY_SQL: () => (/* binding */ PARAPHRASE_HISTORY_SQL),\n/* harmony export */   addHistoryEntry: () => (/* binding */ addHistoryEntry),\n/* harmony export */   clearLocalParaphraseHistory: () => (/* binding */ clearLocalParaphraseHistory),\n/* harmony export */   deleteAllHistory: () => (/* binding */ deleteAllHistory),\n/* harmony export */   deleteHistoryEntry: () => (/* binding */ deleteHistoryEntry),\n/* harmony export */   fetchHistory: () => (/* binding */ fetchHistory),\n/* harmony export */   isParaphraseHistoryTableMissing: () => (/* binding */ isParaphraseHistoryTableMissing),\n/* harmony export */   updateHistoryNote: () => (/* binding */ updateHistoryNote)\n/* harmony export */ });\n/* harmony import */ var _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\");\n\nconst PARAPHRASE_HISTORY_SQL = `create table if not exists public.paraphrase_history (\r\n  id uuid primary key default gen_random_uuid(),\r\n  user_id uuid not null references auth.users(id) on delete cascade,\r\n  input_text text not null,\r\n  output_text text not null,\r\n  note text default '',\r\n  used_model boolean default false,\r\n  created_at timestamptz default now()\r\n);\r\n-- Index for fast recent fetch\r\ncreate index if not exists paraphrase_history_user_created_idx on public.paraphrase_history(user_id, created_at desc);\r\n-- RLS\r\nalter table public.paraphrase_history enable row level security;\r\ncreate policy if not exists \"paraphrase_history_select\" on public.paraphrase_history for select using (auth.uid() = user_id);\r\ncreate policy if not exists \"paraphrase_history_insert\" on public.paraphrase_history for insert with check (auth.uid() = user_id);\r\ncreate policy if not exists \"paraphrase_history_update\" on public.paraphrase_history for update using (auth.uid() = user_id);\r\ncreate policy if not exists \"paraphrase_history_delete\" on public.paraphrase_history for delete using (auth.uid() = user_id);`;\nasync function fetchHistory(limit = 50) {\n    if (!_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase) return [];\n    const { data: { user } } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return [];\n    const { data, error } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"paraphrase_history\").select(\"id,input_text,output_text,note,used_model,created_at\").eq(\"user_id\", user.id).order(\"created_at\", {\n        ascending: false\n    }).limit(limit);\n    if (error) {\n        const code = error.code;\n        if (code === \"PGRST205\") {\n            paraphraseHistoryTableMissing = true;\n            return [];\n        }\n        console.warn(\"fetchHistory error\", error);\n        return [];\n    }\n    return (data || []).map((r)=>({\n            id: r.id,\n            userId: user.id,\n            input: r.input_text,\n            output: r.output_text,\n            note: r.note || \"\",\n            usedModel: !!r.used_model,\n            createdAt: r.created_at\n        }));\n}\nasync function addHistoryEntry(entry) {\n    if (!_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase) return null;\n    if (!entry.userId) return null;\n    const { data, error } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"paraphrase_history\").insert({\n        user_id: entry.userId,\n        input_text: entry.input,\n        output_text: entry.output,\n        note: entry.note || \"\",\n        used_model: entry.usedModel\n    }).select(\"id,created_at\").single();\n    if (error) {\n        const code = error.code;\n        if (code === \"PGRST205\") {\n            paraphraseHistoryTableMissing = true;\n            return null;\n        }\n        console.warn(\"addHistoryEntry error\", error);\n        return null;\n    }\n    return {\n        id: data.id,\n        userId: entry.userId,\n        input: entry.input,\n        output: entry.output,\n        note: entry.note || \"\",\n        usedModel: entry.usedModel,\n        createdAt: data.created_at\n    };\n}\nasync function updateHistoryNote(id, note) {\n    if (!_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase) return false;\n    const { data: { user } } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return false;\n    const { error } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"paraphrase_history\").update({\n        note\n    }).eq(\"id\", id).eq(\"user_id\", user.id);\n    if (error) {\n        console.warn(\"updateHistoryNote error\", error);\n        return false;\n    }\n    return true;\n}\nasync function deleteHistoryEntry(id) {\n    if (!_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase) return false;\n    const { data: { user } } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return false;\n    const { error } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"paraphrase_history\").delete().eq(\"id\", id).eq(\"user_id\", user.id);\n    if (error) {\n        console.warn(\"deleteHistoryEntry error\", error);\n        return false;\n    }\n    return true;\n}\nasync function deleteAllHistory() {\n    if (!_supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase) return false;\n    const { data: { user } } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n    if (!user) return false;\n    const { error } = await _supabaseClient_ts__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"paraphrase_history\").delete().eq(\"user_id\", user.id);\n    if (error) {\n        console.warn(\"deleteAllHistory error\", error);\n        return false;\n    }\n    return true;\n}\n// Optional local storage caching key (future use). Provide clear helper.\nconst LOCAL_HISTORY_KEY = \"stylesync.paraphrase.history.v1\";\nfunction clearLocalParaphraseHistory() {\n    try {\n        localStorage.removeItem(LOCAL_HISTORY_KEY);\n    } catch  {}\n}\n// --- Table existence flag & helper ---\nlet paraphraseHistoryTableMissing = false;\nfunction isParaphraseHistoryTableMissing() {\n    return paraphraseHistoryTableMissing;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDVDtJQUNBLE9BQU87QUFDVDtBQUVBLHlFQUF5RTtBQUN6RSxNQUFNaUMsb0JBQW9CO0FBQ25CLFNBQVNDO0lBQ2QsSUFBSTtRQUFFQyxhQUFhQyxVQUFVLENBQUNIO0lBQW9CLEVBQUUsT0FBTSxDQUFDO0FBQzdEO0FBRUEsd0NBQXdDO0FBQ3hDLElBQUl6QixnQ0FBZ0M7QUFDN0IsU0FBUzZCO0lBQW9DLE9BQU83QjtBQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9saWIvcGFyYXBocmFzZUhpc3RvcnkudHM/ZTc0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4vc3VwYWJhc2VDbGllbnQudHMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJhcGhyYXNlRW50cnkge1xyXG4gIGlkOiBzdHJpbmc7IC8vIHV1aWQgZnJvbSBkYiBvciBsb2NhbCB0ZW1wIGlkXHJcbiAgdXNlcklkPzogc3RyaW5nO1xyXG4gIGlucHV0OiBzdHJpbmc7XHJcbiAgb3V0cHV0OiBzdHJpbmc7XHJcbiAgbm90ZTogc3RyaW5nO1xyXG4gIHVzZWRNb2RlbDogYm9vbGVhbjtcclxuICBjcmVhdGVkQXQ6IHN0cmluZzsgLy8gSVNPXHJcbiAgcGVuZGluZz86IGJvb2xlYW47IC8vIG5vdCB5ZXQgcGVyc2lzdGVkXHJcbiAgbG9jYWxPbmx5PzogYm9vbGVhbjsgLy8gZm9yIHVuc2lnbmVkIHVzZXJzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBQQVJBUEhSQVNFX0hJU1RPUllfU1FMID0gYGNyZWF0ZSB0YWJsZSBpZiBub3QgZXhpc3RzIHB1YmxpYy5wYXJhcGhyYXNlX2hpc3RvcnkgKFxyXG4gIGlkIHV1aWQgcHJpbWFyeSBrZXkgZGVmYXVsdCBnZW5fcmFuZG9tX3V1aWQoKSxcclxuICB1c2VyX2lkIHV1aWQgbm90IG51bGwgcmVmZXJlbmNlcyBhdXRoLnVzZXJzKGlkKSBvbiBkZWxldGUgY2FzY2FkZSxcclxuICBpbnB1dF90ZXh0IHRleHQgbm90IG51bGwsXHJcbiAgb3V0cHV0X3RleHQgdGV4dCBub3QgbnVsbCxcclxuICBub3RlIHRleHQgZGVmYXVsdCAnJyxcclxuICB1c2VkX21vZGVsIGJvb2xlYW4gZGVmYXVsdCBmYWxzZSxcclxuICBjcmVhdGVkX2F0IHRpbWVzdGFtcHR6IGRlZmF1bHQgbm93KClcclxuKTtcclxuLS0gSW5kZXggZm9yIGZhc3QgcmVjZW50IGZldGNoXHJcbmNyZWF0ZSBpbmRleCBpZiBub3QgZXhpc3RzIHBhcmFwaHJhc2VfaGlzdG9yeV91c2VyX2NyZWF0ZWRfaWR4IG9uIHB1YmxpYy5wYXJhcGhyYXNlX2hpc3RvcnkodXNlcl9pZCwgY3JlYXRlZF9hdCBkZXNjKTtcclxuLS0gUkxTXHJcbmFsdGVyIHRhYmxlIHB1YmxpYy5wYXJhcGhyYXNlX2hpc3RvcnkgZW5hYmxlIHJvdyBsZXZlbCBzZWN1cml0eTtcclxuY3JlYXRlIHBvbGljeSBpZiBub3QgZXhpc3RzIFwicGFyYXBocmFzZV9oaXN0b3J5X3NlbGVjdFwiIG9uIHB1YmxpYy5wYXJhcGhyYXNlX2hpc3RvcnkgZm9yIHNlbGVjdCB1c2luZyAoYXV0aC51aWQoKSA9IHVzZXJfaWQpO1xyXG5jcmVhdGUgcG9saWN5IGlmIG5vdCBleGlzdHMgXCJwYXJhcGhyYXNlX2hpc3RvcnlfaW5zZXJ0XCIgb24gcHVibGljLnBhcmFwaHJhc2VfaGlzdG9yeSBmb3IgaW5zZXJ0IHdpdGggY2hlY2sgKGF1dGgudWlkKCkgPSB1c2VyX2lkKTtcclxuY3JlYXRlIHBvbGljeSBpZiBub3QgZXhpc3RzIFwicGFyYXBocmFzZV9oaXN0b3J5X3VwZGF0ZVwiIG9uIHB1YmxpYy5wYXJhcGhyYXNlX2hpc3RvcnkgZm9yIHVwZGF0ZSB1c2luZyAoYXV0aC51aWQoKSA9IHVzZXJfaWQpO1xyXG5jcmVhdGUgcG9saWN5IGlmIG5vdCBleGlzdHMgXCJwYXJhcGhyYXNlX2hpc3RvcnlfZGVsZXRlXCIgb24gcHVibGljLnBhcmFwaHJhc2VfaGlzdG9yeSBmb3IgZGVsZXRlIHVzaW5nIChhdXRoLnVpZCgpID0gdXNlcl9pZCk7YDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEhpc3RvcnkobGltaXQgPSA1MCk6IFByb21pc2U8UGFyYXBocmFzZUVudHJ5W10+IHtcclxuICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gW107XHJcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgaWYgKCF1c2VyKSByZXR1cm4gW107XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwYXJhcGhyYXNlX2hpc3RvcnknKVxyXG4gICAgLnNlbGVjdCgnaWQsaW5wdXRfdGV4dCxvdXRwdXRfdGV4dCxub3RlLHVzZWRfbW9kZWwsY3JlYXRlZF9hdCcpXHJcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxyXG4gICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAubGltaXQobGltaXQpO1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc3QgY29kZSA9IChlcnJvciBhcyBhbnkpLmNvZGU7XHJcbiAgICBpZiAoY29kZSA9PT0gJ1BHUlNUMjA1Jykge1xyXG4gICAgICBwYXJhcGhyYXNlSGlzdG9yeVRhYmxlTWlzc2luZyA9IHRydWU7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUud2FybignZmV0Y2hIaXN0b3J5IGVycm9yJywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuICByZXR1cm4gKGRhdGF8fFtdKS5tYXAociA9PiAoe1xyXG4gICAgaWQ6IHIuaWQsXHJcbiAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICBpbnB1dDogci5pbnB1dF90ZXh0LFxyXG4gICAgb3V0cHV0OiByLm91dHB1dF90ZXh0LFxyXG4gICAgbm90ZTogci5ub3RlIHx8ICcnLFxyXG4gICAgdXNlZE1vZGVsOiAhIXIudXNlZF9tb2RlbCxcclxuICAgIGNyZWF0ZWRBdDogci5jcmVhdGVkX2F0XHJcbiAgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSGlzdG9yeUVudHJ5KGVudHJ5OiBPbWl0PFBhcmFwaHJhc2VFbnRyeSwnaWQnfCdjcmVhdGVkQXQnfCdwZW5kaW5nJ3wnbG9jYWxPbmx5Jz4pOiBQcm9taXNlPFBhcmFwaHJhc2VFbnRyeSB8IG51bGw+IHtcclxuICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gbnVsbDtcclxuICBpZiAoIWVudHJ5LnVzZXJJZCkgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwYXJhcGhyYXNlX2hpc3RvcnknKVxyXG4gICAgLmluc2VydCh7XHJcbiAgICAgIHVzZXJfaWQ6IGVudHJ5LnVzZXJJZCxcclxuICAgICAgaW5wdXRfdGV4dDogZW50cnkuaW5wdXQsXHJcbiAgICAgIG91dHB1dF90ZXh0OiBlbnRyeS5vdXRwdXQsXHJcbiAgICAgIG5vdGU6IGVudHJ5Lm5vdGUgfHwgJycsXHJcbiAgICAgIHVzZWRfbW9kZWw6IGVudHJ5LnVzZWRNb2RlbFxyXG4gICAgfSlcclxuICAgIC5zZWxlY3QoJ2lkLGNyZWF0ZWRfYXQnKVxyXG4gICAgLnNpbmdsZSgpO1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc3QgY29kZSA9IChlcnJvciBhcyBhbnkpLmNvZGU7XHJcbiAgICBpZiAoY29kZSA9PT0gJ1BHUlNUMjA1JykgeyBwYXJhcGhyYXNlSGlzdG9yeVRhYmxlTWlzc2luZyA9IHRydWU7IHJldHVybiBudWxsOyB9XHJcbiAgICBjb25zb2xlLndhcm4oJ2FkZEhpc3RvcnlFbnRyeSBlcnJvcicsIGVycm9yKTsgcmV0dXJuIG51bGw7IH1cclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IGRhdGEuaWQsXHJcbiAgICB1c2VySWQ6IGVudHJ5LnVzZXJJZCxcclxuICAgIGlucHV0OiBlbnRyeS5pbnB1dCxcclxuICAgIG91dHB1dDogZW50cnkub3V0cHV0LFxyXG4gICAgbm90ZTogZW50cnkubm90ZSB8fCAnJyxcclxuICAgIHVzZWRNb2RlbDogZW50cnkudXNlZE1vZGVsLFxyXG4gICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRfYXRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSGlzdG9yeU5vdGUoaWQ6IHN0cmluZywgbm90ZTogc3RyaW5nKSB7XHJcbiAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuIGZhbHNlO1xyXG4gIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncGFyYXBocmFzZV9oaXN0b3J5JylcclxuICAgIC51cGRhdGUoeyBub3RlIH0pXHJcbiAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcclxuICBpZiAoZXJyb3IpIHsgY29uc29sZS53YXJuKCd1cGRhdGVIaXN0b3J5Tm90ZSBlcnJvcicsIGVycm9yKTsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVIaXN0b3J5RW50cnkoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3BhcmFwaHJhc2VfaGlzdG9yeScpXHJcbiAgICAuZGVsZXRlKClcclxuICAgIC5lcSgnaWQnLCBpZClcclxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpO1xyXG4gIGlmIChlcnJvcikgeyBcclxuICAgIGNvbnNvbGUud2FybignZGVsZXRlSGlzdG9yeUVudHJ5IGVycm9yJywgZXJyb3IpOyBcclxuICAgIHJldHVybiBmYWxzZTsgXHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWxsSGlzdG9yeSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gZmFsc2U7XHJcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgaWYgKCF1c2VyKSByZXR1cm4gZmFsc2U7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwYXJhcGhyYXNlX2hpc3RvcnknKVxyXG4gICAgLmRlbGV0ZSgpXHJcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcclxuICBpZiAoZXJyb3IpIHsgXHJcbiAgICBjb25zb2xlLndhcm4oJ2RlbGV0ZUFsbEhpc3RvcnkgZXJyb3InLCBlcnJvcik7IFxyXG4gICAgcmV0dXJuIGZhbHNlOyBcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIE9wdGlvbmFsIGxvY2FsIHN0b3JhZ2UgY2FjaGluZyBrZXkgKGZ1dHVyZSB1c2UpLiBQcm92aWRlIGNsZWFyIGhlbHBlci5cclxuY29uc3QgTE9DQUxfSElTVE9SWV9LRVkgPSAnc3R5bGVzeW5jLnBhcmFwaHJhc2UuaGlzdG9yeS52MSc7XHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckxvY2FsUGFyYXBocmFzZUhpc3RvcnkoKSB7XHJcbiAgdHJ5IHsgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTE9DQUxfSElTVE9SWV9LRVkpOyB9IGNhdGNoIHt9XHJcbn1cclxuXHJcbi8vIC0tLSBUYWJsZSBleGlzdGVuY2UgZmxhZyAmIGhlbHBlciAtLS1cclxubGV0IHBhcmFwaHJhc2VIaXN0b3J5VGFibGVNaXNzaW5nID0gZmFsc2U7XHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmFwaHJhc2VIaXN0b3J5VGFibGVNaXNzaW5nKCkgeyByZXR1cm4gcGFyYXBocmFzZUhpc3RvcnlUYWJsZU1pc3Npbmc7IH1cclxuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiUEFSQVBIUkFTRV9ISVNUT1JZX1NRTCIsImZldGNoSGlzdG9yeSIsImxpbWl0IiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJvcmRlciIsImFzY2VuZGluZyIsImNvZGUiLCJwYXJhcGhyYXNlSGlzdG9yeVRhYmxlTWlzc2luZyIsImNvbnNvbGUiLCJ3YXJuIiwibWFwIiwiciIsInVzZXJJZCIsImlucHV0IiwiaW5wdXRfdGV4dCIsIm91dHB1dCIsIm91dHB1dF90ZXh0Iiwibm90ZSIsInVzZWRNb2RlbCIsInVzZWRfbW9kZWwiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwiYWRkSGlzdG9yeUVudHJ5IiwiZW50cnkiLCJpbnNlcnQiLCJ1c2VyX2lkIiwic2luZ2xlIiwidXBkYXRlSGlzdG9yeU5vdGUiLCJ1cGRhdGUiLCJkZWxldGVIaXN0b3J5RW50cnkiLCJkZWxldGUiLCJkZWxldGVBbGxIaXN0b3J5IiwiTE9DQUxfSElTVE9SWV9LRVkiLCJjbGVhckxvY2FsUGFyYXBocmFzZUhpc3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiaXNQYXJhcGhyYXNlSGlzdG9yeVRhYmxlTWlzc2luZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/paraphraseHistory.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/styleFrequency.ts":
/*!***********************************!*\
  !*** ./src/lib/styleFrequency.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildFrequencyMap: () => (/* binding */ buildFrequencyMap),\n/* harmony export */   pickPreferred: () => (/* binding */ pickPreferred)\n/* harmony export */ });\n// Build a simple frequency map from user sample writing.\nfunction buildFrequencyMap(text) {\n    const freq = {};\n    if (!text) return freq;\n    const tokens = text.toLowerCase().split(/[^a-zA-Z']+/).filter(Boolean);\n    for (const t of tokens)freq[t] = (freq[t] || 0) + 1;\n    return freq;\n}\n// Score a candidate synonym list against frequency map; prefer words the user already uses.\nfunction pickPreferred(list, freq) {\n    if (!list.length) return null;\n    let best = list[0];\n    let bestScore = -1;\n    for (const w of list){\n        const score = freq[w.toLowerCase()] || 0;\n        if (score > bestScore) {\n            best = w;\n            bestScore = score;\n        }\n    }\n    return bestScore > 0 ? best : null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3N0eWxlRnJlcXVlbmN5LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEseURBQXlEO0FBQ2xELFNBQVNBLGtCQUFrQkMsSUFBWTtJQUM1QyxNQUFNQyxPQUErQixDQUFDO0lBQ3RDLElBQUksQ0FBQ0QsTUFBTSxPQUFPQztJQUNsQixNQUFNQyxTQUFTRixLQUFLRyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxlQUFlQyxNQUFNLENBQUNDO0lBQzlELEtBQUssTUFBTUMsS0FBS0wsT0FBUUQsSUFBSSxDQUFDTSxFQUFFLEdBQUcsQ0FBQ04sSUFBSSxDQUFDTSxFQUFFLElBQUksS0FBSztJQUNuRCxPQUFPTjtBQUNUO0FBRUEsNEZBQTRGO0FBQ3JGLFNBQVNPLGNBQWNDLElBQWMsRUFBRVIsSUFBNEI7SUFDeEUsSUFBSSxDQUFDUSxLQUFLQyxNQUFNLEVBQUUsT0FBTztJQUN6QixJQUFJQyxPQUFPRixJQUFJLENBQUMsRUFBRTtJQUNsQixJQUFJRyxZQUFZLENBQUM7SUFDakIsS0FBSyxNQUFNQyxLQUFLSixLQUFNO1FBQ3BCLE1BQU1LLFFBQVFiLElBQUksQ0FBQ1ksRUFBRVYsV0FBVyxHQUFHLElBQUk7UUFDdkMsSUFBSVcsUUFBUUYsV0FBVztZQUFFRCxPQUFPRTtZQUFHRCxZQUFZRTtRQUFPO0lBQ3hEO0lBQ0EsT0FBT0YsWUFBWSxJQUFJRCxPQUFPO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9zdHlsZUZyZXF1ZW5jeS50cz8zZTY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJ1aWxkIGEgc2ltcGxlIGZyZXF1ZW5jeSBtYXAgZnJvbSB1c2VyIHNhbXBsZSB3cml0aW5nLlxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGcmVxdWVuY3lNYXAodGV4dDogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgY29uc3QgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gIGlmICghdGV4dCkgcmV0dXJuIGZyZXE7XHJcbiAgY29uc3QgdG9rZW5zID0gdGV4dC50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bXmEtekEtWiddKy8pLmZpbHRlcihCb29sZWFuKTtcclxuICBmb3IgKGNvbnN0IHQgb2YgdG9rZW5zKSBmcmVxW3RdID0gKGZyZXFbdF0gfHwgMCkgKyAxO1xyXG4gIHJldHVybiBmcmVxO1xyXG59XHJcblxyXG4vLyBTY29yZSBhIGNhbmRpZGF0ZSBzeW5vbnltIGxpc3QgYWdhaW5zdCBmcmVxdWVuY3kgbWFwOyBwcmVmZXIgd29yZHMgdGhlIHVzZXIgYWxyZWFkeSB1c2VzLlxyXG5leHBvcnQgZnVuY3Rpb24gcGlja1ByZWZlcnJlZChsaXN0OiBzdHJpbmdbXSwgZnJlcTogUmVjb3JkPHN0cmluZywgbnVtYmVyPik6IHN0cmluZyB8IG51bGwge1xyXG4gIGlmICghbGlzdC5sZW5ndGgpIHJldHVybiBudWxsO1xyXG4gIGxldCBiZXN0ID0gbGlzdFswXTtcclxuICBsZXQgYmVzdFNjb3JlID0gLTE7XHJcbiAgZm9yIChjb25zdCB3IG9mIGxpc3QpIHtcclxuICAgIGNvbnN0IHNjb3JlID0gZnJlcVt3LnRvTG93ZXJDYXNlKCldIHx8IDA7XHJcbiAgICBpZiAoc2NvcmUgPiBiZXN0U2NvcmUpIHsgYmVzdCA9IHc7IGJlc3RTY29yZSA9IHNjb3JlOyB9XHJcbiAgfVxyXG4gIHJldHVybiBiZXN0U2NvcmUgPiAwID8gYmVzdCA6IG51bGw7XHJcbn1cclxuIl0sIm5hbWVzIjpbImJ1aWxkRnJlcXVlbmN5TWFwIiwidGV4dCIsImZyZXEiLCJ0b2tlbnMiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsInQiLCJwaWNrUHJlZmVycmVkIiwibGlzdCIsImxlbmd0aCIsImJlc3QiLCJiZXN0U2NvcmUiLCJ3Iiwic2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/styleFrequency.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/styleProfile.ts":
/*!*********************************!*\
  !*** ./src/lib/styleProfile.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PROFILE_RLS_SQL: () => (/* binding */ PROFILE_RLS_SQL),\n/* harmony export */   PROFILE_SQL: () => (/* binding */ PROFILE_SQL),\n/* harmony export */   clearProfile: () => (/* binding */ clearProfile),\n/* harmony export */   deleteProfileLocal: () => (/* binding */ deleteProfileLocal),\n/* harmony export */   getActiveProfileId: () => (/* binding */ getActiveProfileId),\n/* harmony export */   listProfiles: () => (/* binding */ listProfiles),\n/* harmony export */   loadProfile: () => (/* binding */ loadProfile),\n/* harmony export */   loadProfileRemote: () => (/* binding */ loadProfileRemote),\n/* harmony export */   loadProfilesRemote: () => (/* binding */ loadProfilesRemote),\n/* harmony export */   saveProfile: () => (/* binding */ saveProfile),\n/* harmony export */   saveProfileRemote: () => (/* binding */ saveProfileRemote),\n/* harmony export */   saveProfiles: () => (/* binding */ saveProfiles),\n/* harmony export */   setActiveProfileId: () => (/* binding */ setActiveProfileId),\n/* harmony export */   styleProfilesTableExists: () => (/* binding */ styleProfilesTableExists),\n/* harmony export */   syncLocalProfilesToRemote: () => (/* binding */ syncLocalProfilesToRemote),\n/* harmony export */   upsertProfileLocal: () => (/* binding */ upsertProfileLocal)\n/* harmony export */ });\nconst KEY = \"stylesync.profile.v1\";\nconst LIST_KEY = \"stylesync.profiles.v1\";\nconst ACTIVE_KEY = \"stylesync.profiles.activeId\";\nfunction saveProfile(profile) {\n    try {\n        localStorage.setItem(KEY, JSON.stringify(profile));\n    } catch  {}\n}\nfunction loadProfile() {\n    try {\n        const raw = localStorage.getItem(KEY);\n        if (!raw) return null;\n        return JSON.parse(raw);\n    } catch  {\n        return null;\n    }\n}\nfunction clearProfile() {\n    try {\n        localStorage.removeItem(KEY);\n    } catch  {}\n}\nasync function loadProfileRemote(userId) {\n    if (true) return null;\n    const { supabase } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\"));\n    if (!supabase) return null;\n    // Use maybeSingle() so zero rows does NOT throw (avoids PGRST116 noise) while still returning a single object when present.\n    const { data, error } = await supabase.from(\"style_profiles\").select(\"*\").eq(\"user_id\", userId).order(\"updated_at\", {\n        ascending: false\n    }).limit(1).maybeSingle();\n    if (error) {\n        if (error.message?.includes(\"'name' column\")) {\n            // retry selecting explicit legacy columns\n            const retry = await supabase.from(\"style_profiles\").select(\"id,user_id,tone,formality,pacing,descriptiveness,directness,sample_excerpt,custom_lexicon,notes,created_at,updated_at\").eq(\"user_id\", userId).order(\"updated_at\", {\n                ascending: false\n            }).limit(1).maybeSingle();\n            if (!retry.error) {\n                const d = retry.data;\n                if (!d) return null;\n                return {\n                    id: d.id,\n                    createdAt: Date.parse(d.created_at),\n                    updatedAt: Date.parse(d.updated_at),\n                    name: \"Untitled\",\n                    tone: d.tone,\n                    formality: d.formality,\n                    pacing: d.pacing,\n                    descriptiveness: d.descriptiveness,\n                    directness: d.directness,\n                    sampleExcerpt: d.sample_excerpt || \"\",\n                    customLexicon: d.custom_lexicon || [],\n                    notes: d.notes || \"\",\n                    userId: d.user_id\n                };\n            }\n        }\n        const code = error.code;\n        if (code === \"PGRST205\" /* table missing */  || code === \"PGRST116\" /* no rows for single */ ) return null;\n        return null; // Silently ignore other errors for now (could log)\n    }\n    if (!data) return null;\n    return {\n        id: data.id,\n        createdAt: Date.parse(data.created_at),\n        updatedAt: Date.parse(data.updated_at),\n        name: data.name,\n        tone: data.tone,\n        formality: data.formality,\n        pacing: data.pacing,\n        descriptiveness: data.descriptiveness,\n        directness: data.directness,\n        sampleExcerpt: data.sample_excerpt || \"\",\n        customLexicon: data.custom_lexicon || [],\n        notes: data.notes || \"\",\n        userId: data.user_id\n    };\n}\n// Load all profiles for a user (multi-profile support)\nasync function loadProfilesRemote(userId) {\n    if (true) return [];\n    const { supabase } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\"));\n    if (!supabase) return [];\n    let { data, error } = await supabase.from(\"style_profiles\").select(\"*\").eq(\"user_id\", userId).order(\"updated_at\", {\n        ascending: false\n    });\n    if (error && error.message?.includes(\"'name' column\")) {\n        // Fallback: legacy table without name column\n        const retry = await supabase.from(\"style_profiles\").select(\"id,user_id,tone,formality,pacing,descriptiveness,directness,sample_excerpt,custom_lexicon,notes,created_at,updated_at\").eq(\"user_id\", userId).order(\"updated_at\", {\n            ascending: false\n        });\n        data = retry.data;\n        error = retry.error;\n    }\n    if (error) return [];\n    return (data || []).map((d)=>({\n            id: d.id,\n            createdAt: Date.parse(d.created_at),\n            updatedAt: Date.parse(d.updated_at),\n            name: d.name,\n            tone: d.tone,\n            formality: d.formality,\n            pacing: d.pacing,\n            descriptiveness: d.descriptiveness,\n            directness: d.directness,\n            sampleExcerpt: d.sample_excerpt || \"\",\n            customLexicon: d.custom_lexicon || [],\n            notes: d.notes || \"\",\n            userId: d.user_id\n        }));\n}\n// Push all local profiles to remote (upsert) - best effort\nasync function syncLocalProfilesToRemote(userId) {\n    const local = listProfiles();\n    if (!local.length) return;\n    for (const p of local){\n        try {\n            await saveProfileRemote({\n                ...p,\n                userId\n            });\n        } catch  {}\n    }\n}\n// --- Multi-profile local management ---\nfunction listProfiles() {\n    try {\n        const raw = localStorage.getItem(LIST_KEY);\n        if (!raw) {\n            // Backwards compat: migrate single profile if exists\n            const single = loadProfile();\n            if (single) {\n                single.name = single.name || \"Default\";\n                saveProfiles([\n                    single\n                ]);\n                return [\n                    single\n                ];\n            }\n            return [];\n        }\n        const arr = JSON.parse(raw);\n        return arr;\n    } catch  {\n        return [];\n    }\n}\nfunction saveProfiles(list) {\n    try {\n        localStorage.setItem(LIST_KEY, JSON.stringify(list));\n    } catch  {}\n}\nfunction getActiveProfileId() {\n    try {\n        return localStorage.getItem(ACTIVE_KEY);\n    } catch  {\n        return null;\n    }\n}\nfunction setActiveProfileId(id) {\n    try {\n        localStorage.setItem(ACTIVE_KEY, id);\n    } catch  {}\n}\nfunction upsertProfileLocal(p) {\n    const list = listProfiles();\n    const idx = list.findIndex((x)=>x.id === p.id);\n    if (idx >= 0) list[idx] = p;\n    else list.push(p);\n    saveProfiles(list);\n    setActiveProfileId(p.id);\n}\nfunction deleteProfileLocal(id) {\n    const list = listProfiles().filter((p)=>p.id !== id);\n    saveProfiles(list);\n    const active = getActiveProfileId();\n    if (active === id) {\n        if (list.length) setActiveProfileId(list[0].id);\n        else try {\n            localStorage.removeItem(ACTIVE_KEY);\n        } catch  {}\n    }\n}\nasync function styleProfilesTableExists() {\n    const { supabase } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\"));\n    if (!supabase) return false;\n    const { error } = await supabase.from(\"style_profiles\").select(\"id\").limit(1);\n    if (!error) return true;\n    if (error.code === \"PGRST205\") return false;\n    return true; // Other errors treat as exists to avoid noisy UI.\n}\nasync function saveProfileRemote(profile) {\n    const { supabase } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./supabaseClient.ts */ \"(ssr)/./src/lib/supabaseClient.ts\"));\n    if (!supabase) return null;\n    // Ensure we are operating as the currently authenticated user to satisfy RLS policies.\n    const { data: userData } = await supabase.auth.getUser();\n    const sessionUserId = userData?.user?.id;\n    if (!sessionUserId) {\n        throw new Error(\"Not authenticated\");\n    }\n    // Force user_id to be the session user (ignore potentially stale profile.userId to pass RLS check)\n    const idIsUUID = profile.id && /^[0-9a-fA-F-]{36}$/.test(profile.id);\n    const payload = {\n        user_id: sessionUserId,\n        name: profile.name,\n        tone: profile.tone,\n        formality: profile.formality,\n        pacing: profile.pacing,\n        descriptiveness: profile.descriptiveness,\n        directness: profile.directness,\n        sample_excerpt: profile.sampleExcerpt,\n        custom_lexicon: profile.customLexicon,\n        notes: profile.notes\n    };\n    if (idIsUUID) payload.id = profile.id;\n    payload.updated_at = new Date().toISOString();\n    async function attempt(p) {\n        if (idIsUUID) {\n            const { data, error } = await supabase.from(\"style_profiles\").upsert(p, {\n                onConflict: \"id\"\n            }).select(\"id\").single();\n            if (error) throw error;\n            return data?.id ?? null;\n        } else {\n            const { data, error } = await supabase.from(\"style_profiles\").insert(p).select(\"id\").single();\n            if (error) throw error;\n            return data?.id ?? null;\n        }\n    }\n    try {\n        return await attempt(payload);\n    } catch (e) {\n        if (e?.message?.includes(\"'name' column\")) {\n            // Retry without name for legacy schema\n            const { name, ...rest } = payload;\n            return await attempt(rest);\n        }\n        throw e;\n    }\n}\nconst PROFILE_SQL = `create table if not exists public.style_profiles (\r\n  id uuid primary key default gen_random_uuid(),\r\n  user_id uuid not null references auth.users(id) on delete cascade,\r\n  name text,\r\n  tone text not null,\r\n  formality real not null,\r\n  pacing real not null,\r\n  descriptiveness real not null,\r\n  directness real not null,\r\n  sample_excerpt text,\r\n  custom_lexicon text[] default '{}',\r\n  notes text,\r\n  created_at timestamptz default now(),\r\n  updated_at timestamptz default now()\r\n);`;\n// Recommended RLS setup (run in Supabase SQL editor once):\n// create extension if not exists pgcrypto; -- if gen_random_uuid absent\n// alter table public.style_profiles enable row level security;\n// create policy \"Allow user select own\" on public.style_profiles for select using (auth.uid() = user_id);\n// create policy \"Allow user insert own\" on public.style_profiles for insert with check (auth.uid() = user_id);\n// create policy \"Allow user update own\" on public.style_profiles for update using (auth.uid() = user_id) with check (auth.uid() = user_id);\n// create policy \"Allow user delete own\" on public.style_profiles for delete using (auth.uid() = user_id);\nconst PROFILE_RLS_SQL = `alter table public.style_profiles enable row level security;\r\ncreate policy \"Allow user select own\" on public.style_profiles for select using (auth.uid() = user_id);\r\ncreate policy \"Allow user insert own\" on public.style_profiles for insert with check (auth.uid() = user_id);\r\ncreate policy \"Allow user update own\" on public.style_profiles for update using (auth.uid() = user_id) with check (auth.uid() = user_id);\r\ncreate policy \"Allow user delete own\" on public.style_profiles for delete using (auth.uid() = user_id);`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNLFNBQWtCQyxJQUFJLENBQUMsa0JBQWtCZ0UsTUFBTSxDQUFDNUIsR0FBRztnQkFBRTZCLFlBQVk7WUFBSyxHQUFHaEUsTUFBTSxDQUFDLE1BQU1xQyxNQUFNO1lBQzFILElBQUl2QyxPQUFPLE1BQU1BO1lBQ2pCLE9BQU9ELE1BQU1hLE1BQU07UUFDckIsT0FBTztZQUNMLE1BQU0sRUFBRWIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNLFNBQWtCQyxJQUFJLENBQUMsa0JBQWtCa0UsTUFBTSxDQUFDOUIsR0FBR25DLE1BQU0sQ0FBQyxNQUFNcUMsTUFBTTtZQUNwRyxJQUFJdkMsT0FBTyxNQUFNQTtZQUNqQixPQUFPRCxNQUFNYSxNQUFNO1FBQ3JCO0lBQ0Y7SUFDQSxJQUFJO1FBQ0YsT0FBTyxNQUFNb0QsUUFBUUY7SUFDdkIsRUFBRSxPQUFPTSxHQUFRO1FBQ2YsSUFBSUEsR0FBRzVELFNBQVNDLFNBQVMsa0JBQWtCO1lBQ3pDLHVDQUF1QztZQUN2QyxNQUFNLEVBQUVTLElBQUksRUFBRSxHQUFHbUQsTUFBTSxHQUFHUDtZQUMxQixPQUFPLE1BQU1FLFFBQVFLO1FBQ3ZCO1FBQ0EsTUFBTUQ7SUFDUjtBQUNGO0FBRU8sTUFBTUUsY0FBYyxDQUFDOzs7Ozs7Ozs7Ozs7OztFQWMxQixDQUFDLENBQUM7QUFFSiwyREFBMkQ7QUFDM0Qsd0VBQXdFO0FBQ3hFLCtEQUErRDtBQUMvRCwwR0FBMEc7QUFDMUcsK0dBQStHO0FBQy9HLDRJQUE0STtBQUM1SSwwR0FBMEc7QUFDbkcsTUFBTUMsa0JBQWtCLENBQUM7Ozs7dUdBSXVFLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9saWIvc3R5bGVQcm9maWxlLnRzPzk5N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTYW1wbGVTdHlsZSB9IGZyb20gJy4vcGFyYXBocmFzZS50cyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlUHJvZmlsZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjcmVhdGVkQXQ6IG51bWJlcjtcclxuICB1cGRhdGVkQXQ6IG51bWJlcjtcclxuICBuYW1lPzogc3RyaW5nOyAvLyB1c2VyLXZpc2libGUgbGFiZWxcclxuICB0b25lOiBzdHJpbmc7IC8vIGZyZWVmb3JtIGRlc2NyaXB0b3JcclxuICBmb3JtYWxpdHk6IG51bWJlcjsgLy8gMC0xXHJcbiAgcGFjaW5nOiBudW1iZXI7IC8vIDAtMVxyXG4gIGRlc2NyaXB0aXZlbmVzczogbnVtYmVyOyAvLyAwLTFcclxuICBkaXJlY3RuZXNzOiBudW1iZXI7IC8vIDAtMVxyXG4gIHNhbXBsZUV4Y2VycHQ6IHN0cmluZztcclxuICBjdXN0b21MZXhpY29uOiBzdHJpbmdbXTtcclxuICBub3Rlczogc3RyaW5nO1xyXG4gIHVzZXJJZD86IHN0cmluZztcclxuICBzdHlsZUFuYWx5c2lzPzogU2FtcGxlU3R5bGU7IC8vIGNvbXB1dGVkIGFuYWx5c2lzIG9mIHNhbXBsZSBleGNlcnB0IGZvciBBSSBwcm9tcHRpbmdcclxufVxyXG5cclxuY29uc3QgS0VZID0gJ3N0eWxlc3luYy5wcm9maWxlLnYxJztcclxuY29uc3QgTElTVF9LRVkgPSAnc3R5bGVzeW5jLnByb2ZpbGVzLnYxJztcclxuY29uc3QgQUNUSVZFX0tFWSA9ICdzdHlsZXN5bmMucHJvZmlsZXMuYWN0aXZlSWQnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVQcm9maWxlKHByb2ZpbGU6IFN0eWxlUHJvZmlsZSkge1xyXG4gIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKEtFWSwgSlNPTi5zdHJpbmdpZnkocHJvZmlsZSkpOyB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcm9maWxlKCk6IFN0eWxlUHJvZmlsZSB8IG51bGwge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShLRVkpO1xyXG4gICAgaWYgKCFyYXcpIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KSBhcyBTdHlsZVByb2ZpbGU7XHJcbiAgfSBjYXRjaCB7IHJldHVybiBudWxsOyB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUHJvZmlsZSgpIHtcclxuICB0cnkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShLRVkpOyB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRQcm9maWxlUmVtb3RlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTdHlsZVByb2ZpbGUgfCBudWxsPiB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcclxuICBjb25zdCB7IHN1cGFiYXNlIH0gPSBhd2FpdCBpbXBvcnQoJy4vc3VwYWJhc2VDbGllbnQudHMnKTtcclxuICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gbnVsbDtcclxuICAvLyBVc2UgbWF5YmVTaW5nbGUoKSBzbyB6ZXJvIHJvd3MgZG9lcyBOT1QgdGhyb3cgKGF2b2lkcyBQR1JTVDExNiBub2lzZSkgd2hpbGUgc3RpbGwgcmV0dXJuaW5nIGEgc2luZ2xlIG9iamVjdCB3aGVuIHByZXNlbnQuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcclxuICAgIC5mcm9tKCdzdHlsZV9wcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgLmxpbWl0KDEpXHJcbiAgICAubWF5YmVTaW5nbGUoKTtcclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGlmICgoZXJyb3IgYXMgYW55KS5tZXNzYWdlPy5pbmNsdWRlcyhcIiduYW1lJyBjb2x1bW5cIikpIHtcclxuICAgICAgLy8gcmV0cnkgc2VsZWN0aW5nIGV4cGxpY2l0IGxlZ2FjeSBjb2x1bW5zXHJcbiAgICAgIGNvbnN0IHJldHJ5ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcclxuICAgICAgICAuZnJvbSgnc3R5bGVfcHJvZmlsZXMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLHVzZXJfaWQsdG9uZSxmb3JtYWxpdHkscGFjaW5nLGRlc2NyaXB0aXZlbmVzcyxkaXJlY3RuZXNzLHNhbXBsZV9leGNlcnB0LGN1c3RvbV9sZXhpY29uLG5vdGVzLGNyZWF0ZWRfYXQsdXBkYXRlZF9hdCcpXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgIC5saW1pdCgxKVxyXG4gICAgICAgIC5tYXliZVNpbmdsZSgpO1xyXG4gICAgICBpZiAoIXJldHJ5LmVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgZCA9IHJldHJ5LmRhdGE7XHJcbiAgICAgICAgaWYgKCFkKSByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IGQuaWQsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IERhdGUucGFyc2UoZC5jcmVhdGVkX2F0KSxcclxuICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5wYXJzZShkLnVwZGF0ZWRfYXQpLFxyXG4gICAgICAgICAgbmFtZTogJ1VudGl0bGVkJywgLy8gbGVnYWN5IHByb2ZpbGVzIGRvbid0IGhhdmUgbmFtZSBmaWVsZFxyXG4gICAgICAgICAgdG9uZTogZC50b25lLFxyXG4gICAgICAgICAgZm9ybWFsaXR5OiBkLmZvcm1hbGl0eSxcclxuICAgICAgICAgIHBhY2luZzogZC5wYWNpbmcsXHJcbiAgICAgICAgICBkZXNjcmlwdGl2ZW5lc3M6IGQuZGVzY3JpcHRpdmVuZXNzLFxyXG4gICAgICAgICAgZGlyZWN0bmVzczogZC5kaXJlY3RuZXNzLFxyXG4gICAgICAgICAgc2FtcGxlRXhjZXJwdDogZC5zYW1wbGVfZXhjZXJwdCB8fCAnJyxcclxuICAgICAgICAgIGN1c3RvbUxleGljb246IGQuY3VzdG9tX2xleGljb24gfHwgW10sXHJcbiAgICAgICAgICBub3RlczogZC5ub3RlcyB8fCAnJyxcclxuICAgICAgICAgIHVzZXJJZDogZC51c2VyX2lkXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29kZSA9IChlcnJvciBhcyBhbnkpLmNvZGU7XHJcbiAgICBpZiAoY29kZSA9PT0gJ1BHUlNUMjA1JyAvKiB0YWJsZSBtaXNzaW5nICovIHx8IGNvZGUgPT09ICdQR1JTVDExNicgLyogbm8gcm93cyBmb3Igc2luZ2xlICovKSByZXR1cm4gbnVsbDtcclxuICAgIHJldHVybiBudWxsOyAvLyBTaWxlbnRseSBpZ25vcmUgb3RoZXIgZXJyb3JzIGZvciBub3cgKGNvdWxkIGxvZylcclxuICB9XHJcbiAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IGRhdGEuaWQsXHJcbiAgICBjcmVhdGVkQXQ6IERhdGUucGFyc2UoZGF0YS5jcmVhdGVkX2F0KSxcclxuICAgIHVwZGF0ZWRBdDogRGF0ZS5wYXJzZShkYXRhLnVwZGF0ZWRfYXQpLFxyXG4gICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgdG9uZTogZGF0YS50b25lLFxyXG4gICAgZm9ybWFsaXR5OiBkYXRhLmZvcm1hbGl0eSxcclxuICAgIHBhY2luZzogZGF0YS5wYWNpbmcsXHJcbiAgICBkZXNjcmlwdGl2ZW5lc3M6IGRhdGEuZGVzY3JpcHRpdmVuZXNzLFxyXG4gICAgZGlyZWN0bmVzczogZGF0YS5kaXJlY3RuZXNzLFxyXG4gICAgc2FtcGxlRXhjZXJwdDogZGF0YS5zYW1wbGVfZXhjZXJwdCB8fCAnJyxcclxuICAgIGN1c3RvbUxleGljb246IGRhdGEuY3VzdG9tX2xleGljb24gfHwgW10sXHJcbiAgICBub3RlczogZGF0YS5ub3RlcyB8fCAnJyxcclxuICAgIHVzZXJJZDogZGF0YS51c2VyX2lkXHJcbiAgfTtcclxufVxyXG5cclxuLy8gTG9hZCBhbGwgcHJvZmlsZXMgZm9yIGEgdXNlciAobXVsdGktcHJvZmlsZSBzdXBwb3J0KVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFByb2ZpbGVzUmVtb3RlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTdHlsZVByb2ZpbGVbXT4ge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGltcG9ydCgnLi9zdXBhYmFzZUNsaWVudC50cycpO1xyXG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBbXTtcclxuICBsZXQgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcclxuICAgIC5mcm9tKCdzdHlsZV9wcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICBpZiAoZXJyb3IgJiYgKGVycm9yIGFzIGFueSkubWVzc2FnZT8uaW5jbHVkZXMoXCInbmFtZScgY29sdW1uXCIpKSB7XHJcbiAgICAvLyBGYWxsYmFjazogbGVnYWN5IHRhYmxlIHdpdGhvdXQgbmFtZSBjb2x1bW5cclxuICAgIGNvbnN0IHJldHJ5ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcclxuICAgICAgLmZyb20oJ3N0eWxlX3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgnaWQsdXNlcl9pZCx0b25lLGZvcm1hbGl0eSxwYWNpbmcsZGVzY3JpcHRpdmVuZXNzLGRpcmVjdG5lc3Msc2FtcGxlX2V4Y2VycHQsY3VzdG9tX2xleGljb24sbm90ZXMsY3JlYXRlZF9hdCx1cGRhdGVkX2F0JylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcbiAgICBkYXRhID0gcmV0cnkuZGF0YTsgZXJyb3IgPSByZXRyeS5lcnJvcjtcclxuICB9XHJcbiAgaWYgKGVycm9yKSByZXR1cm4gW107XHJcbiAgcmV0dXJuIChkYXRhfHxbXSkubWFwKChkOiBhbnkpID0+ICh7XHJcbiAgICBpZDogZC5pZCxcclxuICAgIGNyZWF0ZWRBdDogRGF0ZS5wYXJzZShkLmNyZWF0ZWRfYXQpLFxyXG4gICAgdXBkYXRlZEF0OiBEYXRlLnBhcnNlKGQudXBkYXRlZF9hdCksXHJcbiAgICBuYW1lOiBkLm5hbWUsXHJcbiAgICB0b25lOiBkLnRvbmUsXHJcbiAgICBmb3JtYWxpdHk6IGQuZm9ybWFsaXR5LFxyXG4gICAgcGFjaW5nOiBkLnBhY2luZyxcclxuICAgIGRlc2NyaXB0aXZlbmVzczogZC5kZXNjcmlwdGl2ZW5lc3MsXHJcbiAgICBkaXJlY3RuZXNzOiBkLmRpcmVjdG5lc3MsXHJcbiAgICBzYW1wbGVFeGNlcnB0OiBkLnNhbXBsZV9leGNlcnB0IHx8ICcnLFxyXG4gICAgY3VzdG9tTGV4aWNvbjogZC5jdXN0b21fbGV4aWNvbiB8fCBbXSxcclxuICAgIG5vdGVzOiBkLm5vdGVzIHx8ICcnLFxyXG4gICAgdXNlcklkOiBkLnVzZXJfaWRcclxuICB9KSk7XHJcbn1cclxuXHJcbi8vIFB1c2ggYWxsIGxvY2FsIHByb2ZpbGVzIHRvIHJlbW90ZSAodXBzZXJ0KSAtIGJlc3QgZWZmb3J0XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgbG9jYWwgPSBsaXN0UHJvZmlsZXMoKTtcclxuICBpZiAoIWxvY2FsLmxlbmd0aCkgcmV0dXJuO1xyXG4gIGZvciAoY29uc3QgcCBvZiBsb2NhbCkge1xyXG4gICAgdHJ5IHsgYXdhaXQgc2F2ZVByb2ZpbGVSZW1vdGUoeyAuLi5wLCB1c2VySWQgfSk7IH0gY2F0Y2ggeyAvKiBpZ25vcmUgb25lLW9mZiBlcnJvcnMgKi8gfVxyXG4gIH1cclxufVxyXG5cclxuLy8gLS0tIE11bHRpLXByb2ZpbGUgbG9jYWwgbWFuYWdlbWVudCAtLS1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0UHJvZmlsZXMoKTogU3R5bGVQcm9maWxlW10ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMSVNUX0tFWSk7XHJcbiAgICBpZiAoIXJhdykge1xyXG4gICAgICAvLyBCYWNrd2FyZHMgY29tcGF0OiBtaWdyYXRlIHNpbmdsZSBwcm9maWxlIGlmIGV4aXN0c1xyXG4gICAgICBjb25zdCBzaW5nbGUgPSBsb2FkUHJvZmlsZSgpO1xyXG4gICAgICBpZiAoc2luZ2xlKSB7XHJcbiAgICAgICAgc2luZ2xlLm5hbWUgPSBzaW5nbGUubmFtZSB8fCAnRGVmYXVsdCc7XHJcbiAgICAgICAgc2F2ZVByb2ZpbGVzKFtzaW5nbGVdKTtcclxuICAgICAgICByZXR1cm4gW3NpbmdsZV07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShyYXcpIGFzIFN0eWxlUHJvZmlsZVtdO1xyXG4gICAgcmV0dXJuIGFycjtcclxuICB9IGNhdGNoIHsgcmV0dXJuIFtdOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlUHJvZmlsZXMobGlzdDogU3R5bGVQcm9maWxlW10pIHtcclxuICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMSVNUX0tFWSwgSlNPTi5zdHJpbmdpZnkobGlzdCkpOyB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZVByb2ZpbGVJZCgpOiBzdHJpbmcgfCBudWxsIHtcclxuICB0cnkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX0tFWSk7IH0gY2F0Y2ggeyByZXR1cm4gbnVsbDsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QWN0aXZlUHJvZmlsZUlkKGlkOiBzdHJpbmcpIHtcclxuICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfS0VZLCBpZCk7IH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBzZXJ0UHJvZmlsZUxvY2FsKHA6IFN0eWxlUHJvZmlsZSkge1xyXG4gIGNvbnN0IGxpc3QgPSBsaXN0UHJvZmlsZXMoKTtcclxuICBjb25zdCBpZHggPSBsaXN0LmZpbmRJbmRleCh4ID0+IHguaWQgPT09IHAuaWQpO1xyXG4gIGlmIChpZHggPj0gMCkgbGlzdFtpZHhdID0gcDsgZWxzZSBsaXN0LnB1c2gocCk7XHJcbiAgc2F2ZVByb2ZpbGVzKGxpc3QpO1xyXG4gIHNldEFjdGl2ZVByb2ZpbGVJZChwLmlkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVByb2ZpbGVMb2NhbChpZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgbGlzdCA9IGxpc3RQcm9maWxlcygpLmZpbHRlcihwID0+IHAuaWQgIT09IGlkKTtcclxuICBzYXZlUHJvZmlsZXMobGlzdCk7XHJcbiAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlUHJvZmlsZUlkKCk7XHJcbiAgaWYgKGFjdGl2ZSA9PT0gaWQpIHtcclxuICAgIGlmIChsaXN0Lmxlbmd0aCkgc2V0QWN0aXZlUHJvZmlsZUlkKGxpc3RbMF0uaWQpOyBlbHNlIHRyeSB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEFDVElWRV9LRVkpOyB9IGNhdGNoIHt9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3R5bGVQcm9maWxlc1RhYmxlRXhpc3RzKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGltcG9ydCgnLi9zdXBhYmFzZUNsaWVudC50cycpO1xyXG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdzdHlsZV9wcm9maWxlcycpLnNlbGVjdCgnaWQnKS5saW1pdCgxKTtcclxuICBpZiAoIWVycm9yKSByZXR1cm4gdHJ1ZTtcclxuICBpZiAoKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BHUlNUMjA1JykgcmV0dXJuIGZhbHNlO1xyXG4gIHJldHVybiB0cnVlOyAvLyBPdGhlciBlcnJvcnMgdHJlYXQgYXMgZXhpc3RzIHRvIGF2b2lkIG5vaXN5IFVJLlxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVByb2ZpbGVSZW1vdGUocHJvZmlsZTogT21pdDxTdHlsZVByb2ZpbGUsICdpZCc+ICYgeyBpZD86IHN0cmluZzsgdXNlcklkOiBzdHJpbmcgfSk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGltcG9ydCgnLi9zdXBhYmFzZUNsaWVudC50cycpO1xyXG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBudWxsO1xyXG4gIC8vIEVuc3VyZSB3ZSBhcmUgb3BlcmF0aW5nIGFzIHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyIHRvIHNhdGlzZnkgUkxTIHBvbGljaWVzLlxyXG4gIGNvbnN0IHsgZGF0YTogdXNlckRhdGEgfSA9IGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpLmF1dGguZ2V0VXNlcigpO1xyXG4gIGNvbnN0IHNlc3Npb25Vc2VySWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVzZXJEYXRhPy51c2VyPy5pZDtcclxuICBpZiAoIXNlc3Npb25Vc2VySWQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhlbnRpY2F0ZWQnKTtcclxuICB9XHJcbiAgLy8gRm9yY2UgdXNlcl9pZCB0byBiZSB0aGUgc2Vzc2lvbiB1c2VyIChpZ25vcmUgcG90ZW50aWFsbHkgc3RhbGUgcHJvZmlsZS51c2VySWQgdG8gcGFzcyBSTFMgY2hlY2spXHJcbiAgY29uc3QgaWRJc1VVSUQgPSBwcm9maWxlLmlkICYmIC9eWzAtOWEtZkEtRi1dezM2fSQvLnRlc3QocHJvZmlsZS5pZCk7XHJcbiAgY29uc3QgcGF5bG9hZDogYW55ID0ge1xyXG4gICAgdXNlcl9pZDogc2Vzc2lvblVzZXJJZCxcclxuICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcclxuICAgIHRvbmU6IHByb2ZpbGUudG9uZSxcclxuICAgIGZvcm1hbGl0eTogcHJvZmlsZS5mb3JtYWxpdHksXHJcbiAgICBwYWNpbmc6IHByb2ZpbGUucGFjaW5nLFxyXG4gICAgZGVzY3JpcHRpdmVuZXNzOiBwcm9maWxlLmRlc2NyaXB0aXZlbmVzcyxcclxuICAgIGRpcmVjdG5lc3M6IHByb2ZpbGUuZGlyZWN0bmVzcyxcclxuICAgIHNhbXBsZV9leGNlcnB0OiBwcm9maWxlLnNhbXBsZUV4Y2VycHQsXHJcbiAgICBjdXN0b21fbGV4aWNvbjogcHJvZmlsZS5jdXN0b21MZXhpY29uLFxyXG4gICAgbm90ZXM6IHByb2ZpbGUubm90ZXNcclxuICB9O1xyXG4gIGlmIChpZElzVVVJRCkgcGF5bG9hZC5pZCA9IHByb2ZpbGUuaWQ7XHJcbiAgcGF5bG9hZC51cGRhdGVkX2F0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gIGFzeW5jIGZ1bmN0aW9uIGF0dGVtcHQocDogYW55KTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgICBpZiAoaWRJc1VVSUQpIHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSkuZnJvbSgnc3R5bGVfcHJvZmlsZXMnKS51cHNlcnQocCwgeyBvbkNvbmZsaWN0OiAnaWQnIH0pLnNlbGVjdCgnaWQnKS5zaW5nbGUoKTtcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgICAgcmV0dXJuIGRhdGE/LmlkID8/IG51bGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKCdzdHlsZV9wcm9maWxlcycpLmluc2VydChwKS5zZWxlY3QoJ2lkJykuc2luZ2xlKCk7XHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICAgIHJldHVybiBkYXRhPy5pZCA/PyBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGF0dGVtcHQocGF5bG9hZCk7XHJcbiAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICBpZiAoZT8ubWVzc2FnZT8uaW5jbHVkZXMoXCInbmFtZScgY29sdW1uXCIpKSB7XHJcbiAgICAgIC8vIFJldHJ5IHdpdGhvdXQgbmFtZSBmb3IgbGVnYWN5IHNjaGVtYVxyXG4gICAgICBjb25zdCB7IG5hbWUsIC4uLnJlc3QgfSA9IHBheWxvYWQ7XHJcbiAgICAgIHJldHVybiBhd2FpdCBhdHRlbXB0KHJlc3QpO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBQUk9GSUxFX1NRTCA9IGBjcmVhdGUgdGFibGUgaWYgbm90IGV4aXN0cyBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgKFxyXG4gIGlkIHV1aWQgcHJpbWFyeSBrZXkgZGVmYXVsdCBnZW5fcmFuZG9tX3V1aWQoKSxcclxuICB1c2VyX2lkIHV1aWQgbm90IG51bGwgcmVmZXJlbmNlcyBhdXRoLnVzZXJzKGlkKSBvbiBkZWxldGUgY2FzY2FkZSxcclxuICBuYW1lIHRleHQsXHJcbiAgdG9uZSB0ZXh0IG5vdCBudWxsLFxyXG4gIGZvcm1hbGl0eSByZWFsIG5vdCBudWxsLFxyXG4gIHBhY2luZyByZWFsIG5vdCBudWxsLFxyXG4gIGRlc2NyaXB0aXZlbmVzcyByZWFsIG5vdCBudWxsLFxyXG4gIGRpcmVjdG5lc3MgcmVhbCBub3QgbnVsbCxcclxuICBzYW1wbGVfZXhjZXJwdCB0ZXh0LFxyXG4gIGN1c3RvbV9sZXhpY29uIHRleHRbXSBkZWZhdWx0ICd7fScsXHJcbiAgbm90ZXMgdGV4dCxcclxuICBjcmVhdGVkX2F0IHRpbWVzdGFtcHR6IGRlZmF1bHQgbm93KCksXHJcbiAgdXBkYXRlZF9hdCB0aW1lc3RhbXB0eiBkZWZhdWx0IG5vdygpXHJcbik7YDtcclxuXHJcbi8vIFJlY29tbWVuZGVkIFJMUyBzZXR1cCAocnVuIGluIFN1cGFiYXNlIFNRTCBlZGl0b3Igb25jZSk6XHJcbi8vIGNyZWF0ZSBleHRlbnNpb24gaWYgbm90IGV4aXN0cyBwZ2NyeXB0bzsgLS0gaWYgZ2VuX3JhbmRvbV91dWlkIGFic2VudFxyXG4vLyBhbHRlciB0YWJsZSBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgZW5hYmxlIHJvdyBsZXZlbCBzZWN1cml0eTtcclxuLy8gY3JlYXRlIHBvbGljeSBcIkFsbG93IHVzZXIgc2VsZWN0IG93blwiIG9uIHB1YmxpYy5zdHlsZV9wcm9maWxlcyBmb3Igc2VsZWN0IHVzaW5nIChhdXRoLnVpZCgpID0gdXNlcl9pZCk7XHJcbi8vIGNyZWF0ZSBwb2xpY3kgXCJBbGxvdyB1c2VyIGluc2VydCBvd25cIiBvbiBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgZm9yIGluc2VydCB3aXRoIGNoZWNrIChhdXRoLnVpZCgpID0gdXNlcl9pZCk7XHJcbi8vIGNyZWF0ZSBwb2xpY3kgXCJBbGxvdyB1c2VyIHVwZGF0ZSBvd25cIiBvbiBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgZm9yIHVwZGF0ZSB1c2luZyAoYXV0aC51aWQoKSA9IHVzZXJfaWQpIHdpdGggY2hlY2sgKGF1dGgudWlkKCkgPSB1c2VyX2lkKTtcclxuLy8gY3JlYXRlIHBvbGljeSBcIkFsbG93IHVzZXIgZGVsZXRlIG93blwiIG9uIHB1YmxpYy5zdHlsZV9wcm9maWxlcyBmb3IgZGVsZXRlIHVzaW5nIChhdXRoLnVpZCgpID0gdXNlcl9pZCk7XHJcbmV4cG9ydCBjb25zdCBQUk9GSUxFX1JMU19TUUwgPSBgYWx0ZXIgdGFibGUgcHVibGljLnN0eWxlX3Byb2ZpbGVzIGVuYWJsZSByb3cgbGV2ZWwgc2VjdXJpdHk7XHJcbmNyZWF0ZSBwb2xpY3kgXCJBbGxvdyB1c2VyIHNlbGVjdCBvd25cIiBvbiBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgZm9yIHNlbGVjdCB1c2luZyAoYXV0aC51aWQoKSA9IHVzZXJfaWQpO1xyXG5jcmVhdGUgcG9saWN5IFwiQWxsb3cgdXNlciBpbnNlcnQgb3duXCIgb24gcHVibGljLnN0eWxlX3Byb2ZpbGVzIGZvciBpbnNlcnQgd2l0aCBjaGVjayAoYXV0aC51aWQoKSA9IHVzZXJfaWQpO1xyXG5jcmVhdGUgcG9saWN5IFwiQWxsb3cgdXNlciB1cGRhdGUgb3duXCIgb24gcHVibGljLnN0eWxlX3Byb2ZpbGVzIGZvciB1cGRhdGUgdXNpbmcgKGF1dGgudWlkKCkgPSB1c2VyX2lkKSB3aXRoIGNoZWNrIChhdXRoLnVpZCgpID0gdXNlcl9pZCk7XHJcbmNyZWF0ZSBwb2xpY3kgXCJBbGxvdyB1c2VyIGRlbGV0ZSBvd25cIiBvbiBwdWJsaWMuc3R5bGVfcHJvZmlsZXMgZm9yIGRlbGV0ZSB1c2luZyAoYXV0aC51aWQoKSA9IHVzZXJfaWQpO2A7XHJcbiJdLCJuYW1lcyI6WyJLRVkiLCJMSVNUX0tFWSIsIkFDVElWRV9LRVkiLCJzYXZlUHJvZmlsZSIsInByb2ZpbGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRQcm9maWxlIiwicmF3IiwiZ2V0SXRlbSIsInBhcnNlIiwiY2xlYXJQcm9maWxlIiwicmVtb3ZlSXRlbSIsImxvYWRQcm9maWxlUmVtb3RlIiwidXNlcklkIiwic3VwYWJhc2UiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwibWF5YmVTaW5nbGUiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJyZXRyeSIsImQiLCJpZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsIm5hbWUiLCJ0b25lIiwiZm9ybWFsaXR5IiwicGFjaW5nIiwiZGVzY3JpcHRpdmVuZXNzIiwiZGlyZWN0bmVzcyIsInNhbXBsZUV4Y2VycHQiLCJzYW1wbGVfZXhjZXJwdCIsImN1c3RvbUxleGljb24iLCJjdXN0b21fbGV4aWNvbiIsIm5vdGVzIiwidXNlcl9pZCIsImNvZGUiLCJsb2FkUHJvZmlsZXNSZW1vdGUiLCJtYXAiLCJzeW5jTG9jYWxQcm9maWxlc1RvUmVtb3RlIiwibG9jYWwiLCJsaXN0UHJvZmlsZXMiLCJsZW5ndGgiLCJwIiwic2F2ZVByb2ZpbGVSZW1vdGUiLCJzaW5nbGUiLCJzYXZlUHJvZmlsZXMiLCJhcnIiLCJsaXN0IiwiZ2V0QWN0aXZlUHJvZmlsZUlkIiwic2V0QWN0aXZlUHJvZmlsZUlkIiwidXBzZXJ0UHJvZmlsZUxvY2FsIiwiaWR4IiwiZmluZEluZGV4IiwieCIsInB1c2giLCJkZWxldGVQcm9maWxlTG9jYWwiLCJmaWx0ZXIiLCJhY3RpdmUiLCJzdHlsZVByb2ZpbGVzVGFibGVFeGlzdHMiLCJ1c2VyRGF0YSIsImF1dGgiLCJnZXRVc2VyIiwic2Vzc2lvblVzZXJJZCIsInVzZXIiLCJFcnJvciIsImlkSXNVVUlEIiwidGVzdCIsInBheWxvYWQiLCJ0b0lTT1N0cmluZyIsImF0dGVtcHQiLCJ1cHNlcnQiLCJvbkNvbmZsaWN0IiwiaW5zZXJ0IiwiZSIsInJlc3QiLCJQUk9GSUxFX1NRTCIsIlBST0ZJTEVfUkxTX1NRTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/styleProfile.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/styleRules.ts":
/*!*******************************!*\
  !*** ./src/lib/styleRules.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STYLE_RULE_PROMPT: () => (/* binding */ STYLE_RULE_PROMPT),\n/* harmony export */   enforceStyleRules: () => (/* binding */ enforceStyleRules),\n/* harmony export */   enforceStyleRulesWithActions: () => (/* binding */ enforceStyleRulesWithActions)\n/* harmony export */ });\n// Strict style rule prompt and rule enforcement utilities.\nconst STYLE_RULE_PROMPT = `FOLLOW THIS WRITING STYLE STRICTLY:\\n Use clear, simple language.\\n Be spartan and informative.\\n Short, impactful sentences (aim <= 18 words; split longer ones).\\n Active voice (avoid passive like \"was done\").\\n Practical, actionable insights.\\n Bullet lists ONLY if original text clearly was a list; else plain paragraphs.\\n Use data/examples ONLY if present in original (never fabricate).\\n Address the reader with \"you\" / \"your\" for guidance.\\n NO em dashes.\\n NO metaphors, clichs, generic openings/closings.\\n NO constructions like \"not just X, but also Y\".\\n NO setup phrases (in conclusion, in closing, overall, it is important to note, etc.).\\n NO warnings, meta commentary, or explanation of what you did.\\n NO hashtags, markdown formatting, asterisks, decorative symbols.\\n NO semicolons.\\n Avoid these (case-insensitive): can, may, just, that, very, really, literally, actually, certainly, probably, basically, could, maybe, delve, embark, enlightening, esteemed, shed light, craft, crafting, imagine, realm, game-changer, unlock, discover, skyrocket, abyss, not alone, in a world where, revolutionize, disruptive, utilize, utilizing, dive deep, tapestry, illuminate, unveil, pivotal, intricate, elucidate, hence, furthermore, however, harness, exciting, groundbreaking, cutting-edge, remarkable, it, remains to be seen, glimpse into, navigating, landscape, stark, testament, in summary, in conclusion, moreover, boost, skyrocketing, opened up, powerful, inquiries, ever-evolving.\\nReturn ONLY the rewritten text. No prefatory phrases like \"Here is\". No extra commentary.`;\nconst BANNED_PATTERNS = [\n    /\\bcan\\b/gi,\n    /\\bmay\\b/gi,\n    /\\bjust\\b/gi,\n    /\\bvery\\b/gi,\n    /\\breally\\b/gi,\n    /\\bliterally\\b/gi,\n    /\\bactually\\b/gi,\n    /\\bcertainly\\b/gi,\n    /\\bprobably\\b/gi,\n    /\\bbasically\\b/gi,\n    /\\bcould\\b/gi,\n    /\\bmaybe\\b/gi,\n    /delve/gi,\n    /embark/gi,\n    /enlightening/gi,\n    /esteemed/gi,\n    /shed light/gi,\n    /craft(?:ing)?/gi,\n    /imagine/gi,\n    /\\brealm\\b/gi,\n    /game-?changer/gi,\n    /unlock/gi,\n    /skyrocket(?:ing)?/gi,\n    /abyss/gi,\n    /not alone/gi,\n    /in a world where/gi,\n    /revolutionize/gi,\n    /disruptive/gi,\n    /utiliz(?:e|ing)/gi,\n    /dive deep/gi,\n    /tapestry/gi,\n    /illuminat(?:e|ing)/gi,\n    /unveil/gi,\n    /pivotal/gi,\n    /intricate/gi,\n    /elucidate/gi,\n    /hence/gi,\n    /furthermore/gi,\n    /however/gi,\n    /harness/gi,\n    /exciting/gi,\n    /groundbreaking/gi,\n    /cutting-edge/gi,\n    /remarkable/gi,\n    /remains to be seen/gi,\n    /glimpse into/gi,\n    /navigating/gi,\n    /landscape/gi,\n    /stark/gi,\n    /testament/gi,\n    /in summary/gi,\n    /in conclusion/gi,\n    /moreover/gi,\n    /boost/gi,\n    /opened up/gi,\n    /powerful/gi,\n    /inquiries/gi,\n    /ever-evolving/gi\n];\nconst FORBIDDEN_OPENERS = [\n    /^here('?|)s a (?:paraphrased|rewritten) (?:version|take)[:\\-]?\\s*/i,\n    /^paraphrased (?:version|text)[:\\-]\\s*/i\n];\nfunction enforceStyleRulesWithActions(text, maxPasses = 3) {\n    let t = text.trim();\n    const actions = [];\n    FORBIDDEN_OPENERS.forEach((rx)=>{\n        if (rx.test(t)) {\n            actions.push({\n                code: \"removeOpener\",\n                meta: rx.source\n            });\n            t = t.replace(rx, \"\");\n        }\n    });\n    for(let pass = 0; pass < maxPasses; pass++){\n        let changed = false;\n        if (t.includes(\"\")) {\n            t = t.replace(//g, \". \");\n            actions.push({\n                code: \"replaceEmDash\"\n            });\n            changed = true;\n        }\n        if (t.includes(\";\")) {\n            t = t.replace(/;/g, \". \");\n            actions.push({\n                code: \"replaceSemicolon\"\n            });\n            changed = true;\n        }\n        const beforeBullet = t;\n        t = t.replace(/^[#>*\\-+]+\\s+/gm, \"\");\n        if (beforeBullet !== t) {\n            actions.push({\n                code: \"stripBullets\"\n            });\n            changed = true;\n        }\n        BANNED_PATTERNS.forEach((rx)=>{\n            if (!rx.test(t)) return;\n            t = t.replace(rx, (m)=>{\n                const lowered = m.toLowerCase();\n                const replacement = simpleReplacement(lowered);\n                if (replacement === \"__KEEP__\") {\n                    return m; // do not alter\n                }\n                actions.push({\n                    code: \"removeBanned\",\n                    meta: lowered\n                });\n                return replacement; // may be '' for true fillers\n            });\n            changed = true;\n        });\n        const sentences = t.split(/(?<=[.!?])\\s+/).flatMap((s)=>{\n            const words = s.trim().split(/\\s+/);\n            if (words.length > 22) {\n                actions.push({\n                    code: \"splitLongSentence\",\n                    meta: {\n                        length: words.length\n                    }\n                });\n                const cut = Math.ceil(words.length / 2);\n                return [\n                    words.slice(0, cut).join(\" \") + \".\",\n                    words.slice(cut).join(\" \") + \".\"\n                ];\n            }\n            return [\n                s\n            ];\n        });\n        const joined = sentences.join(\" \").replace(/\\s{2,}/g, \" \").trim();\n        if (joined !== t) {\n            t = joined;\n            changed = true;\n        }\n        t = t.replace(/\\s{2,}/g, \" \").trim();\n        if (!changed) break;\n    }\n    const finalBefore = t;\n    t = t.replace(/(\\.){2,}/g, \".\");\n    if (finalBefore !== t) actions.push({\n        code: \"collapsePeriods\"\n    });\n    t = t.replace(/^[\\-\\*\\\\s]+/, \"\").trim();\n    t = cleanArtifacts(t);\n    return {\n        text: t,\n        actions\n    };\n}\n// Backwards-compatible simple wrapper\nfunction enforceStyleRules(text, maxPasses = 3) {\n    return enforceStyleRulesWithActions(text, maxPasses).text;\n}\nfunction simpleReplacement(word) {\n    const map = {\n        \"however\": \"but\",\n        \"furthermore\": \"also\",\n        \"moreover\": \"also\",\n        \"hence\": \"so\",\n        \"thus\": \"so\",\n        \"therefore\": \"so\",\n        \"actually\": \"\",\n        \"very\": \"\",\n        // Avoid destructive removals: supply neutral substitutes\n        \"tapestry\": \"mesh\",\n        \"intricate\": \"complex\",\n        \"pivotal\": \"key\",\n        \"illuminate\": \"clarify\",\n        \"illuminating\": \"clarifying\",\n        \"unveil\": \"reveal\",\n        \"groundbreaking\": \"new\",\n        \"cutting-edge\": \"advanced\",\n        \"remarkable\": \"notable\",\n        \"exciting\": \"interesting\",\n        \"powerful\": \"strong\",\n        \"ever-evolving\": \"changing\",\n        \"landscape\": \"field\",\n        \"realm\": \"field\",\n        \"craft\": \"build\",\n        \"crafting\": \"building\",\n        \"harness\": \"use\",\n        \"unlock\": \"enable\",\n        \"game-changer\": \"major shift\",\n        \"revolutionize\": \"transform\",\n        // Keep structural words that hurt grammar if removed\n        \"that\": \"__KEEP__\"\n    };\n    return map[word] !== undefined ? map[word] : \"\";\n}\nfunction cleanArtifacts(s) {\n    return s.replace(/,\\./g, \",\").replace(/\\.,/g, \".\").replace(/\\s+'s\\b/g, \"'s\").replace(/\\bof\\s+of\\b/gi, \"of\").replace(/\\s{2,}/g, \" \").replace(/,\\s*\\./g, \".\").replace(/\\b(an)\\s+(?=of\\b)/gi, \"\") // remove stray 'an' before 'of' after adjective removal\n    .trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3N0eWxlUnVsZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkRBQTJEO0FBRXBELE1BQU1BLG9CQUFvQixDQUFDLGdrREFBZ2tELENBQUMsQ0FBQztBQUVwbUQsTUFBTUMsa0JBQTRCO0lBQ2hDO0lBQWE7SUFBYTtJQUFjO0lBQWM7SUFBZ0I7SUFBbUI7SUFDekY7SUFBbUI7SUFBa0I7SUFBbUI7SUFBZTtJQUFlO0lBQVc7SUFDakc7SUFBa0I7SUFBYztJQUFnQjtJQUFtQjtJQUFhO0lBQWU7SUFBbUI7SUFDbEg7SUFBdUI7SUFBVztJQUFlO0lBQXNCO0lBQW1CO0lBQWdCO0lBQzFHO0lBQWU7SUFBYztJQUF3QjtJQUFZO0lBQWE7SUFBZTtJQUFlO0lBQzVHO0lBQWlCO0lBQWE7SUFBYTtJQUFjO0lBQW9CO0lBQWtCO0lBQy9GO0lBQXdCO0lBQWtCO0lBQWdCO0lBQWU7SUFBVztJQUFlO0lBQ25HO0lBQW1CO0lBQWM7SUFBVztJQUFlO0lBQWM7SUFBZTtDQUN6RjtBQUVELE1BQU1DLG9CQUFvQjtJQUN4QjtJQUNBO0NBQ0Q7QUFJTSxTQUFTQyw2QkFBNkJDLElBQVksRUFBRUMsWUFBWSxDQUFDO0lBQ3RFLElBQUlDLElBQUlGLEtBQUtHLElBQUk7SUFDakIsTUFBTUMsVUFBNkIsRUFBRTtJQUNyQ04sa0JBQWtCTyxPQUFPLENBQUNDLENBQUFBO1FBQ3hCLElBQUlBLEdBQUdDLElBQUksQ0FBQ0wsSUFBSTtZQUFFRSxRQUFRSSxJQUFJLENBQUM7Z0JBQUVDLE1BQU07Z0JBQWdCQyxNQUFNSixHQUFHSyxNQUFNO1lBQUM7WUFBSVQsSUFBSUEsRUFBRVUsT0FBTyxDQUFDTixJQUFJO1FBQUs7SUFDcEc7SUFFQSxJQUFLLElBQUlPLE9BQU8sR0FBR0EsT0FBT1osV0FBV1ksT0FBUTtRQUMzQyxJQUFJQyxVQUFVO1FBQ2QsSUFBSVosRUFBRWEsUUFBUSxDQUFDLE1BQU07WUFBRWIsSUFBSUEsRUFBRVUsT0FBTyxDQUFDLE1BQU07WUFBT1IsUUFBUUksSUFBSSxDQUFDO2dCQUFFQyxNQUFNO1lBQWdCO1lBQUlLLFVBQVU7UUFBTTtRQUMzRyxJQUFJWixFQUFFYSxRQUFRLENBQUMsTUFBTTtZQUFFYixJQUFJQSxFQUFFVSxPQUFPLENBQUMsTUFBTTtZQUFPUixRQUFRSSxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBbUI7WUFBSUssVUFBVTtRQUFNO1FBQzlHLE1BQU1FLGVBQWVkO1FBQ3JCQSxJQUFJQSxFQUFFVSxPQUFPLENBQUMsbUJBQW1CO1FBQ2pDLElBQUlJLGlCQUFpQmQsR0FBRztZQUFFRSxRQUFRSSxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBZTtZQUFJSyxVQUFVO1FBQU07UUFDbEZqQixnQkFBZ0JRLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDdEIsSUFBSSxDQUFDQSxHQUFHQyxJQUFJLENBQUNMLElBQUk7WUFDakJBLElBQUlBLEVBQUVVLE9BQU8sQ0FBQ04sSUFBSSxDQUFDVztnQkFDakIsTUFBTUMsVUFBVUQsRUFBRUUsV0FBVztnQkFDN0IsTUFBTUMsY0FBY0Msa0JBQWtCSDtnQkFDdEMsSUFBSUUsZ0JBQWdCLFlBQVk7b0JBQzlCLE9BQU9ILEdBQUcsZUFBZTtnQkFDM0I7Z0JBQ0FiLFFBQVFJLElBQUksQ0FBQztvQkFBRUMsTUFBTTtvQkFBZ0JDLE1BQU1RO2dCQUFRO2dCQUNuRCxPQUFPRSxhQUFhLDZCQUE2QjtZQUNuRDtZQUNBTixVQUFVO1FBQ1o7UUFDQSxNQUFNUSxZQUFZcEIsRUFBRXFCLEtBQUssQ0FBQyxpQkFBaUJDLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDakQsTUFBTUMsUUFBUUQsRUFBRXRCLElBQUksR0FBR29CLEtBQUssQ0FBQztZQUM3QixJQUFJRyxNQUFNQyxNQUFNLEdBQUcsSUFBSTtnQkFDckJ2QixRQUFRSSxJQUFJLENBQUM7b0JBQUVDLE1BQU07b0JBQXFCQyxNQUFNO3dCQUFFaUIsUUFBUUQsTUFBTUMsTUFBTTtvQkFBQztnQkFBRTtnQkFDekUsTUFBTUMsTUFBTUMsS0FBS0MsSUFBSSxDQUFDSixNQUFNQyxNQUFNLEdBQUc7Z0JBQ3JDLE9BQU87b0JBQUNELE1BQU1LLEtBQUssQ0FBQyxHQUFHSCxLQUFLSSxJQUFJLENBQUMsT0FBTztvQkFBS04sTUFBTUssS0FBSyxDQUFDSCxLQUFLSSxJQUFJLENBQUMsT0FBTztpQkFBSTtZQUNoRjtZQUNBLE9BQU87Z0JBQUNQO2FBQUU7UUFDWjtRQUNBLE1BQU1RLFNBQVNYLFVBQVVVLElBQUksQ0FBQyxLQUFLcEIsT0FBTyxDQUFDLFdBQVcsS0FBS1QsSUFBSTtRQUMvRCxJQUFJOEIsV0FBVy9CLEdBQUc7WUFBRUEsSUFBSStCO1lBQVFuQixVQUFVO1FBQU07UUFDaERaLElBQUlBLEVBQUVVLE9BQU8sQ0FBQyxXQUFXLEtBQUtULElBQUk7UUFDbEMsSUFBSSxDQUFDVyxTQUFTO0lBQ2hCO0lBQ0EsTUFBTW9CLGNBQWNoQztJQUNwQkEsSUFBSUEsRUFBRVUsT0FBTyxDQUFDLGFBQWE7SUFDM0IsSUFBSXNCLGdCQUFnQmhDLEdBQUdFLFFBQVFJLElBQUksQ0FBQztRQUFFQyxNQUFNO0lBQWtCO0lBQzlEUCxJQUFJQSxFQUFFVSxPQUFPLENBQUMsZ0JBQWdCLElBQUlULElBQUk7SUFDdENELElBQUlpQyxlQUFlakM7SUFDbkIsT0FBTztRQUFFRixNQUFNRTtRQUFHRTtJQUFRO0FBQzVCO0FBRUEsc0NBQXNDO0FBQy9CLFNBQVNnQyxrQkFBa0JwQyxJQUFZLEVBQUVDLFlBQVksQ0FBQztJQUMzRCxPQUFPRiw2QkFBNkJDLE1BQU1DLFdBQVdELElBQUk7QUFDM0Q7QUFFQSxTQUFTcUIsa0JBQWtCZ0IsSUFBWTtJQUNyQyxNQUFNQyxNQUE4QjtRQUNsQyxXQUFXO1FBQ1gsZUFBZTtRQUNmLFlBQVk7UUFDWixTQUFTO1FBQ1QsUUFBUTtRQUNSLGFBQWE7UUFDYixZQUFZO1FBQ1osUUFBUTtRQUNSLHlEQUF5RDtRQUN6RCxZQUFZO1FBQ1osYUFBYTtRQUNiLFdBQVc7UUFDWCxjQUFjO1FBQ2QsZ0JBQWdCO1FBQ2hCLFVBQVU7UUFDVixrQkFBa0I7UUFDbEIsZ0JBQWdCO1FBQ2hCLGNBQWM7UUFDZCxZQUFZO1FBQ1osWUFBWTtRQUNaLGlCQUFpQjtRQUNqQixhQUFhO1FBQ2IsU0FBUztRQUNULFNBQVM7UUFDVCxZQUFZO1FBQ1osV0FBVztRQUNYLFVBQVU7UUFDVixnQkFBZ0I7UUFDaEIsaUJBQWlCO1FBQ2pCLHFEQUFxRDtRQUNyRCxRQUFRO0lBQ1Y7SUFDQSxPQUFPQSxHQUFHLENBQUNELEtBQUssS0FBS0UsWUFBWUQsR0FBRyxDQUFDRCxLQUFLLEdBQUc7QUFDL0M7QUFFQSxTQUFTRixlQUFlVixDQUFTO0lBQy9CLE9BQU9BLEVBQ0piLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCQSxPQUFPLENBQUMsUUFBUSxLQUNoQkEsT0FBTyxDQUFDLFlBQVksTUFDcEJBLE9BQU8sQ0FBQyxpQkFBaUIsTUFDekJBLE9BQU8sQ0FBQyxXQUFXLEtBQ25CQSxPQUFPLENBQUMsV0FBVyxLQUNuQkEsT0FBTyxDQUFDLHVCQUF1QixJQUFJLHdEQUF3RDtLQUMzRlQsSUFBSTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2xpYi9zdHlsZVJ1bGVzLnRzPzNhNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU3RyaWN0IHN0eWxlIHJ1bGUgcHJvbXB0IGFuZCBydWxlIGVuZm9yY2VtZW50IHV0aWxpdGllcy5cclxuXHJcbmV4cG9ydCBjb25zdCBTVFlMRV9SVUxFX1BST01QVCA9IGBGT0xMT1cgVEhJUyBXUklUSU5HIFNUWUxFIFNUUklDVExZOlxcbuKAoiBVc2UgY2xlYXIsIHNpbXBsZSBsYW5ndWFnZS5cXG7igKIgQmUgc3BhcnRhbiBhbmQgaW5mb3JtYXRpdmUuXFxu4oCiIFNob3J0LCBpbXBhY3RmdWwgc2VudGVuY2VzIChhaW0gPD0gMTggd29yZHM7IHNwbGl0IGxvbmdlciBvbmVzKS5cXG7igKIgQWN0aXZlIHZvaWNlIChhdm9pZCBwYXNzaXZlIGxpa2UgXCJ3YXMgZG9uZVwiKS5cXG7igKIgUHJhY3RpY2FsLCBhY3Rpb25hYmxlIGluc2lnaHRzLlxcbuKAoiBCdWxsZXQgbGlzdHMgT05MWSBpZiBvcmlnaW5hbCB0ZXh0IGNsZWFybHkgd2FzIGEgbGlzdDsgZWxzZSBwbGFpbiBwYXJhZ3JhcGhzLlxcbuKAoiBVc2UgZGF0YS9leGFtcGxlcyBPTkxZIGlmIHByZXNlbnQgaW4gb3JpZ2luYWwgKG5ldmVyIGZhYnJpY2F0ZSkuXFxu4oCiIEFkZHJlc3MgdGhlIHJlYWRlciB3aXRoIFwieW91XCIgLyBcInlvdXJcIiBmb3IgZ3VpZGFuY2UuXFxu4oCiIE5PIGVtIGRhc2hlcy5cXG7igKIgTk8gbWV0YXBob3JzLCBjbGljaMOpcywgZ2VuZXJpYyBvcGVuaW5ncy9jbG9zaW5ncy5cXG7igKIgTk8gY29uc3RydWN0aW9ucyBsaWtlIFwibm90IGp1c3QgWCwgYnV0IGFsc28gWVwiLlxcbuKAoiBOTyBzZXR1cCBwaHJhc2VzIChpbiBjb25jbHVzaW9uLCBpbiBjbG9zaW5nLCBvdmVyYWxsLCBpdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSwgZXRjLikuXFxu4oCiIE5PIHdhcm5pbmdzLCBtZXRhIGNvbW1lbnRhcnksIG9yIGV4cGxhbmF0aW9uIG9mIHdoYXQgeW91IGRpZC5cXG7igKIgTk8gaGFzaHRhZ3MsIG1hcmtkb3duIGZvcm1hdHRpbmcsIGFzdGVyaXNrcywgZGVjb3JhdGl2ZSBzeW1ib2xzLlxcbuKAoiBOTyBzZW1pY29sb25zLlxcbuKAoiBBdm9pZCB0aGVzZSAoY2FzZS1pbnNlbnNpdGl2ZSk6IGNhbiwgbWF5LCBqdXN0LCB0aGF0LCB2ZXJ5LCByZWFsbHksIGxpdGVyYWxseSwgYWN0dWFsbHksIGNlcnRhaW5seSwgcHJvYmFibHksIGJhc2ljYWxseSwgY291bGQsIG1heWJlLCBkZWx2ZSwgZW1iYXJrLCBlbmxpZ2h0ZW5pbmcsIGVzdGVlbWVkLCBzaGVkIGxpZ2h0LCBjcmFmdCwgY3JhZnRpbmcsIGltYWdpbmUsIHJlYWxtLCBnYW1lLWNoYW5nZXIsIHVubG9jaywgZGlzY292ZXIsIHNreXJvY2tldCwgYWJ5c3MsIG5vdCBhbG9uZSwgaW4gYSB3b3JsZCB3aGVyZSwgcmV2b2x1dGlvbml6ZSwgZGlzcnVwdGl2ZSwgdXRpbGl6ZSwgdXRpbGl6aW5nLCBkaXZlIGRlZXAsIHRhcGVzdHJ5LCBpbGx1bWluYXRlLCB1bnZlaWwsIHBpdm90YWwsIGludHJpY2F0ZSwgZWx1Y2lkYXRlLCBoZW5jZSwgZnVydGhlcm1vcmUsIGhvd2V2ZXIsIGhhcm5lc3MsIGV4Y2l0aW5nLCBncm91bmRicmVha2luZywgY3V0dGluZy1lZGdlLCByZW1hcmthYmxlLCBpdCwgcmVtYWlucyB0byBiZSBzZWVuLCBnbGltcHNlIGludG8sIG5hdmlnYXRpbmcsIGxhbmRzY2FwZSwgc3RhcmssIHRlc3RhbWVudCwgaW4gc3VtbWFyeSwgaW4gY29uY2x1c2lvbiwgbW9yZW92ZXIsIGJvb3N0LCBza3lyb2NrZXRpbmcsIG9wZW5lZCB1cCwgcG93ZXJmdWwsIGlucXVpcmllcywgZXZlci1ldm9sdmluZy5cXG5SZXR1cm4gT05MWSB0aGUgcmV3cml0dGVuIHRleHQuIE5vIHByZWZhdG9yeSBwaHJhc2VzIGxpa2UgXCJIZXJlIGlzXCIuIE5vIGV4dHJhIGNvbW1lbnRhcnkuYDtcclxuXHJcbmNvbnN0IEJBTk5FRF9QQVRURVJOUzogUmVnRXhwW10gPSBbXHJcbiAgL1xcYmNhblxcYi9naSwgL1xcYm1heVxcYi9naSwgL1xcYmp1c3RcXGIvZ2ksIC9cXGJ2ZXJ5XFxiL2dpLCAvXFxicmVhbGx5XFxiL2dpLCAvXFxibGl0ZXJhbGx5XFxiL2dpLCAvXFxiYWN0dWFsbHlcXGIvZ2ksXHJcbiAgL1xcYmNlcnRhaW5seVxcYi9naSwgL1xcYnByb2JhYmx5XFxiL2dpLCAvXFxiYmFzaWNhbGx5XFxiL2dpLCAvXFxiY291bGRcXGIvZ2ksIC9cXGJtYXliZVxcYi9naSwgL2RlbHZlL2dpLCAvZW1iYXJrL2dpLFxyXG4gIC9lbmxpZ2h0ZW5pbmcvZ2ksIC9lc3RlZW1lZC9naSwgL3NoZWQgbGlnaHQvZ2ksIC9jcmFmdCg/OmluZyk/L2dpLCAvaW1hZ2luZS9naSwgL1xcYnJlYWxtXFxiL2dpLCAvZ2FtZS0/Y2hhbmdlci9naSwgL3VubG9jay9naSxcclxuICAvc2t5cm9ja2V0KD86aW5nKT8vZ2ksIC9hYnlzcy9naSwgL25vdCBhbG9uZS9naSwgL2luIGEgd29ybGQgd2hlcmUvZ2ksIC9yZXZvbHV0aW9uaXplL2dpLCAvZGlzcnVwdGl2ZS9naSwgL3V0aWxpeig/OmV8aW5nKS9naSxcclxuICAvZGl2ZSBkZWVwL2dpLCAvdGFwZXN0cnkvZ2ksIC9pbGx1bWluYXQoPzplfGluZykvZ2ksIC91bnZlaWwvZ2ksIC9waXZvdGFsL2dpLCAvaW50cmljYXRlL2dpLCAvZWx1Y2lkYXRlL2dpLCAvaGVuY2UvZ2ksXHJcbiAgL2Z1cnRoZXJtb3JlL2dpLCAvaG93ZXZlci9naSwgL2hhcm5lc3MvZ2ksIC9leGNpdGluZy9naSwgL2dyb3VuZGJyZWFraW5nL2dpLCAvY3V0dGluZy1lZGdlL2dpLCAvcmVtYXJrYWJsZS9naSxcclxuICAvcmVtYWlucyB0byBiZSBzZWVuL2dpLCAvZ2xpbXBzZSBpbnRvL2dpLCAvbmF2aWdhdGluZy9naSwgL2xhbmRzY2FwZS9naSwgL3N0YXJrL2dpLCAvdGVzdGFtZW50L2dpLCAvaW4gc3VtbWFyeS9naSxcclxuICAvaW4gY29uY2x1c2lvbi9naSwgL21vcmVvdmVyL2dpLCAvYm9vc3QvZ2ksIC9vcGVuZWQgdXAvZ2ksIC9wb3dlcmZ1bC9naSwgL2lucXVpcmllcy9naSwgL2V2ZXItZXZvbHZpbmcvZ2lcclxuXTtcclxuXHJcbmNvbnN0IEZPUkJJRERFTl9PUEVORVJTID0gW1xyXG4gIC9eaGVyZSgnP3wpcyBhICg/OnBhcmFwaHJhc2VkfHJld3JpdHRlbikgKD86dmVyc2lvbnx0YWtlKVs6XFwtXT9cXHMqL2ksXHJcbiAgL15wYXJhcGhyYXNlZCAoPzp2ZXJzaW9ufHRleHQpWzpcXC1dXFxzKi9pXHJcbl07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlUnVsZUFjdGlvbiB7IGNvZGU6IHN0cmluZzsgbWV0YT86IGFueSB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW5mb3JjZVN0eWxlUnVsZXNXaXRoQWN0aW9ucyh0ZXh0OiBzdHJpbmcsIG1heFBhc3NlcyA9IDMpOiB7IHRleHQ6IHN0cmluZzsgYWN0aW9uczogU3R5bGVSdWxlQWN0aW9uW10gfSB7XHJcbiAgbGV0IHQgPSB0ZXh0LnRyaW0oKTtcclxuICBjb25zdCBhY3Rpb25zOiBTdHlsZVJ1bGVBY3Rpb25bXSA9IFtdO1xyXG4gIEZPUkJJRERFTl9PUEVORVJTLmZvckVhY2gocnggPT4ge1xyXG4gICAgaWYgKHJ4LnRlc3QodCkpIHsgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3JlbW92ZU9wZW5lcicsIG1ldGE6IHJ4LnNvdXJjZSB9KTsgdCA9IHQucmVwbGFjZShyeCwgJycpOyB9XHJcbiAgfSk7XHJcblxyXG4gIGZvciAobGV0IHBhc3MgPSAwOyBwYXNzIDwgbWF4UGFzc2VzOyBwYXNzKyspIHtcclxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBpZiAodC5pbmNsdWRlcygn4oCUJykpIHsgdCA9IHQucmVwbGFjZSgv4oCUL2csICcuICcpOyBhY3Rpb25zLnB1c2goeyBjb2RlOiAncmVwbGFjZUVtRGFzaCcgfSk7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICBpZiAodC5pbmNsdWRlcygnOycpKSB7IHQgPSB0LnJlcGxhY2UoLzsvZywgJy4gJyk7IGFjdGlvbnMucHVzaCh7IGNvZGU6ICdyZXBsYWNlU2VtaWNvbG9uJyB9KTsgY2hhbmdlZCA9IHRydWU7IH1cclxuICAgIGNvbnN0IGJlZm9yZUJ1bGxldCA9IHQ7XHJcbiAgICB0ID0gdC5yZXBsYWNlKC9eWyM+KlxcLStdK1xccysvZ20sICcnKTtcclxuICAgIGlmIChiZWZvcmVCdWxsZXQgIT09IHQpIHsgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3N0cmlwQnVsbGV0cycgfSk7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICBCQU5ORURfUEFUVEVSTlMuZm9yRWFjaChyeCA9PiB7XHJcbiAgICAgIGlmICghcngudGVzdCh0KSkgcmV0dXJuO1xyXG4gICAgICB0ID0gdC5yZXBsYWNlKHJ4LCAobSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxvd2VyZWQgPSBtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBzaW1wbGVSZXBsYWNlbWVudChsb3dlcmVkKTtcclxuICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09ICdfX0tFRVBfXycpIHtcclxuICAgICAgICAgIHJldHVybiBtOyAvLyBkbyBub3QgYWx0ZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aW9ucy5wdXNoKHsgY29kZTogJ3JlbW92ZUJhbm5lZCcsIG1ldGE6IGxvd2VyZWQgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50OyAvLyBtYXkgYmUgJycgZm9yIHRydWUgZmlsbGVyc1xyXG4gICAgICB9KTtcclxuICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNlbnRlbmNlcyA9IHQuc3BsaXQoLyg/PD1bLiE/XSlcXHMrLykuZmxhdE1hcChzID0+IHtcclxuICAgICAgY29uc3Qgd29yZHMgPSBzLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xyXG4gICAgICBpZiAod29yZHMubGVuZ3RoID4gMjIpIHtcclxuICAgICAgICBhY3Rpb25zLnB1c2goeyBjb2RlOiAnc3BsaXRMb25nU2VudGVuY2UnLCBtZXRhOiB7IGxlbmd0aDogd29yZHMubGVuZ3RoIH0gfSk7XHJcbiAgICAgICAgY29uc3QgY3V0ID0gTWF0aC5jZWlsKHdvcmRzLmxlbmd0aCAvIDIpO1xyXG4gICAgICAgIHJldHVybiBbd29yZHMuc2xpY2UoMCwgY3V0KS5qb2luKCcgJykgKyAnLicsIHdvcmRzLnNsaWNlKGN1dCkuam9pbignICcpICsgJy4nXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gW3NdO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBqb2luZWQgPSBzZW50ZW5jZXMuam9pbignICcpLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKS50cmltKCk7XHJcbiAgICBpZiAoam9pbmVkICE9PSB0KSB7IHQgPSBqb2luZWQ7IGNoYW5nZWQgPSB0cnVlOyB9XHJcbiAgICB0ID0gdC5yZXBsYWNlKC9cXHN7Mix9L2csICcgJykudHJpbSgpO1xyXG4gICAgaWYgKCFjaGFuZ2VkKSBicmVhaztcclxuICB9XHJcbiAgY29uc3QgZmluYWxCZWZvcmUgPSB0O1xyXG4gIHQgPSB0LnJlcGxhY2UoLyhcXC4pezIsfS9nLCAnLicpO1xyXG4gIGlmIChmaW5hbEJlZm9yZSAhPT0gdCkgYWN0aW9ucy5wdXNoKHsgY29kZTogJ2NvbGxhcHNlUGVyaW9kcycgfSk7XHJcbiAgdCA9IHQucmVwbGFjZSgvXltcXC1cXCpcXOKAolxcc10rLywgJycpLnRyaW0oKTtcclxuICB0ID0gY2xlYW5BcnRpZmFjdHModCk7XHJcbiAgcmV0dXJuIHsgdGV4dDogdCwgYWN0aW9ucyB9O1xyXG59XHJcblxyXG4vLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBzaW1wbGUgd3JhcHBlclxyXG5leHBvcnQgZnVuY3Rpb24gZW5mb3JjZVN0eWxlUnVsZXModGV4dDogc3RyaW5nLCBtYXhQYXNzZXMgPSAzKTogc3RyaW5nIHtcclxuICByZXR1cm4gZW5mb3JjZVN0eWxlUnVsZXNXaXRoQWN0aW9ucyh0ZXh0LCBtYXhQYXNzZXMpLnRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpbXBsZVJlcGxhY2VtZW50KHdvcmQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgJ2hvd2V2ZXInOiAnYnV0JyxcclxuICAgICdmdXJ0aGVybW9yZSc6ICdhbHNvJyxcclxuICAgICdtb3Jlb3Zlcic6ICdhbHNvJyxcclxuICAgICdoZW5jZSc6ICdzbycsXHJcbiAgICAndGh1cyc6ICdzbycsXHJcbiAgICAndGhlcmVmb3JlJzogJ3NvJyxcclxuICAgICdhY3R1YWxseSc6ICcnLFxyXG4gICAgJ3ZlcnknOiAnJyxcclxuICAgIC8vIEF2b2lkIGRlc3RydWN0aXZlIHJlbW92YWxzOiBzdXBwbHkgbmV1dHJhbCBzdWJzdGl0dXRlc1xyXG4gICAgJ3RhcGVzdHJ5JzogJ21lc2gnLFxyXG4gICAgJ2ludHJpY2F0ZSc6ICdjb21wbGV4JyxcclxuICAgICdwaXZvdGFsJzogJ2tleScsXHJcbiAgICAnaWxsdW1pbmF0ZSc6ICdjbGFyaWZ5JyxcclxuICAgICdpbGx1bWluYXRpbmcnOiAnY2xhcmlmeWluZycsXHJcbiAgICAndW52ZWlsJzogJ3JldmVhbCcsXHJcbiAgICAnZ3JvdW5kYnJlYWtpbmcnOiAnbmV3JyxcclxuICAgICdjdXR0aW5nLWVkZ2UnOiAnYWR2YW5jZWQnLFxyXG4gICAgJ3JlbWFya2FibGUnOiAnbm90YWJsZScsXHJcbiAgICAnZXhjaXRpbmcnOiAnaW50ZXJlc3RpbmcnLFxyXG4gICAgJ3Bvd2VyZnVsJzogJ3N0cm9uZycsXHJcbiAgICAnZXZlci1ldm9sdmluZyc6ICdjaGFuZ2luZycsXHJcbiAgICAnbGFuZHNjYXBlJzogJ2ZpZWxkJyxcclxuICAgICdyZWFsbSc6ICdmaWVsZCcsXHJcbiAgICAnY3JhZnQnOiAnYnVpbGQnLFxyXG4gICAgJ2NyYWZ0aW5nJzogJ2J1aWxkaW5nJyxcclxuICAgICdoYXJuZXNzJzogJ3VzZScsXHJcbiAgICAndW5sb2NrJzogJ2VuYWJsZScsXHJcbiAgICAnZ2FtZS1jaGFuZ2VyJzogJ21ham9yIHNoaWZ0JyxcclxuICAgICdyZXZvbHV0aW9uaXplJzogJ3RyYW5zZm9ybScsXHJcbiAgICAvLyBLZWVwIHN0cnVjdHVyYWwgd29yZHMgdGhhdCBodXJ0IGdyYW1tYXIgaWYgcmVtb3ZlZFxyXG4gICAgJ3RoYXQnOiAnX19LRUVQX18nXHJcbiAgfTtcclxuICByZXR1cm4gbWFwW3dvcmRdICE9PSB1bmRlZmluZWQgPyBtYXBbd29yZF0gOiAnJztcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYW5BcnRpZmFjdHMoczogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gc1xyXG4gICAgLnJlcGxhY2UoLyxcXC4vZywgJywnKVxyXG4gICAgLnJlcGxhY2UoL1xcLiwvZywgJy4nKVxyXG4gICAgLnJlcGxhY2UoL1xccysnc1xcYi9nLCBcIidzXCIpXHJcbiAgICAucmVwbGFjZSgvXFxib2ZcXHMrb2ZcXGIvZ2ksICdvZicpXHJcbiAgICAucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpXHJcbiAgICAucmVwbGFjZSgvLFxccypcXC4vZywgJy4nKVxyXG4gICAgLnJlcGxhY2UoL1xcYihhbilcXHMrKD89b2ZcXGIpL2dpLCAnJykgLy8gcmVtb3ZlIHN0cmF5ICdhbicgYmVmb3JlICdvZicgYWZ0ZXIgYWRqZWN0aXZlIHJlbW92YWxcclxuICAgIC50cmltKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNUWUxFX1JVTEVfUFJPTVBUIiwiQkFOTkVEX1BBVFRFUk5TIiwiRk9SQklEREVOX09QRU5FUlMiLCJlbmZvcmNlU3R5bGVSdWxlc1dpdGhBY3Rpb25zIiwidGV4dCIsIm1heFBhc3NlcyIsInQiLCJ0cmltIiwiYWN0aW9ucyIsImZvckVhY2giLCJyeCIsInRlc3QiLCJwdXNoIiwiY29kZSIsIm1ldGEiLCJzb3VyY2UiLCJyZXBsYWNlIiwicGFzcyIsImNoYW5nZWQiLCJpbmNsdWRlcyIsImJlZm9yZUJ1bGxldCIsIm0iLCJsb3dlcmVkIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlbWVudCIsInNpbXBsZVJlcGxhY2VtZW50Iiwic2VudGVuY2VzIiwic3BsaXQiLCJmbGF0TWFwIiwicyIsIndvcmRzIiwibGVuZ3RoIiwiY3V0IiwiTWF0aCIsImNlaWwiLCJzbGljZSIsImpvaW4iLCJqb2luZWQiLCJmaW5hbEJlZm9yZSIsImNsZWFuQXJ0aWZhY3RzIiwiZW5mb3JjZVN0eWxlUnVsZXMiLCJ3b3JkIiwibWFwIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/styleRules.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/supabaseClient.ts":
/*!***********************************!*\
  !*** ./src/lib/supabaseClient.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSupabase: () => (/* binding */ assertSupabase),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(ssr)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Use ONLY NEXT_PUBLIC_ prefixed env vars so server & client get identical build-time values.\n// Avoid mixing with unexposed SUPABASE_URL vars that would cause SSR/CSR divergence and hydration issues.\nconst supabaseUrl = \"https://byizfaahznabizeitpmt.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5aXpmYWFoem5hYml6ZWl0cG10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMDQ3MjAsImV4cCI6MjA3MDU4MDcyMH0.iOG_kG8Vywbhft27rvwHu2yz4ZnoijZSxOQuyuo9qXI\";\nconst supabase = supabaseUrl && supabaseAnonKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey) : null;\nfunction assertSupabase() {\n    if (!supabase) throw new Error(\"Supabase not configured\");\n    return supabase;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3N1cGFiYXNlQ2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwRTtBQUUxRSw4RkFBOEY7QUFDOUYsMEdBQTBHO0FBQzFHLE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUUxRCxNQUFNSyxXQUFrQyxlQUFnQkYsa0JBQzNETCxtRUFBWUEsQ0FBQ0MsYUFBYUksbUJBQzFCLEtBQUs7QUFFRixTQUFTRztJQUNkLElBQUksQ0FBQ0QsVUFBVSxNQUFNLElBQUlFLE1BQU07SUFDL0IsT0FBT0Y7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9saWIvc3VwYWJhc2VDbGllbnQudHM/ZjlkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQsIHR5cGUgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5cclxuLy8gVXNlIE9OTFkgTkVYVF9QVUJMSUNfIHByZWZpeGVkIGVudiB2YXJzIHNvIHNlcnZlciAmIGNsaWVudCBnZXQgaWRlbnRpY2FsIGJ1aWxkLXRpbWUgdmFsdWVzLlxyXG4vLyBBdm9pZCBtaXhpbmcgd2l0aCB1bmV4cG9zZWQgU1VQQUJBU0VfVVJMIHZhcnMgdGhhdCB3b3VsZCBjYXVzZSBTU1IvQ1NSIGRpdmVyZ2VuY2UgYW5kIGh5ZHJhdGlvbiBpc3N1ZXMuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZTogU3VwYWJhc2VDbGllbnQgfCBudWxsID0gKHN1cGFiYXNlVXJsICYmIHN1cGFiYXNlQW5vbktleSlcclxuICA/IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxyXG4gIDogbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTdXBhYmFzZSgpIHtcclxuICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyk7XHJcbiAgcmV0dXJuIHN1cGFiYXNlO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIiwiYXNzZXJ0U3VwYWJhc2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/supabaseClient.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"52097381212e\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R5bGVzeW5jLy4vc3JjL2FwcC9nbG9iYWxzLmNzcz84ZmYyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNTIwOTczODEyMTJlXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(rsc)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _components_AuthStatus_tsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/AuthStatus.tsx */ \"(rsc)/./src/components/AuthStatus.tsx\");\n\n\n\n\nconst metadata = {\n    title: \"Stylesync\",\n    description: \"Personalize paraphrasing to your authentic writing voice (ethical, transparent use).\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            suppressHydrationWarning: true,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"fixed top-0 inset-x-0 z-40 backdrop-blur-xl bg-slate-950/70 border-b border-white/10\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                        className: \"mx-auto max-w-6xl px-6 py-3 flex items-center gap-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                href: \"/\",\n                                className: \"font-bold text-lg tracking-tight bg-gradient-to-r from-brand-300 to-brand-500 bg-clip-text text-transparent\",\n                                children: \"Stylesync\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                lineNumber: 18,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-6 text-sm text-slate-300\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        href: \"/style/onboarding\",\n                                        className: \"hover:text-white transition\",\n                                        children: \"Create Style\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 20,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        href: \"/paraphrase\",\n                                        className: \"hover:text-white transition\",\n                                        children: \"Paraphrase\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 21,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        href: \"/about\",\n                                        className: \"hover:text-white transition\",\n                                        children: \"About\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 22,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                lineNumber: 19,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-auto flex gap-3 items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthStatus_tsx__WEBPACK_IMPORTED_MODULE_3__.AuthStatus, {}, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                    lineNumber: 25,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                                lineNumber: 24,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                        lineNumber: 17,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                    lineNumber: 16,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                    className: \"pt-20 pb-16 min-h-screen mx-auto max-w-6xl px-6\",\n                    children: children\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"mt-8 py-10 text-center text-xs text-slate-500\",\n                    children: \"Built responsibly. Avoid misuse; do not present AI-assisted text as purely human authored without disclosure.\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n                    lineNumber: 30,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n            lineNumber: 15,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Dave\\\\Desktop\\\\new_Stylesync\\\\src\\\\app\\\\layout.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUI7QUFFTTtBQUM2QjtBQUVuRCxNQUFNRSxXQUFXO0lBQ3RCQyxPQUFPO0lBQ1BDLGFBQWE7QUFDZixFQUFFO0FBRWEsU0FBU0MsV0FBVyxFQUFFQyxRQUFRLEVBQTJCO0lBQ3RFLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO1FBQUtDLHdCQUF3QjtrQkFFdEMsNEVBQUNDO1lBQUtELHdCQUF3Qjs7OEJBQzVCLDhEQUFDRTtvQkFBT0MsV0FBVTs4QkFDaEIsNEVBQUNDO3dCQUFJRCxXQUFVOzswQ0FDYiw4REFBQ1osaURBQUlBO2dDQUFDYyxNQUFLO2dDQUFJRixXQUFVOzBDQUE4Rzs7Ozs7OzBDQUN2SSw4REFBQ0c7Z0NBQUlILFdBQVU7O2tEQUNiLDhEQUFDWixpREFBSUE7d0NBQUNjLE1BQUs7d0NBQW9CRixXQUFVO2tEQUE4Qjs7Ozs7O2tEQUN2RSw4REFBQ1osaURBQUlBO3dDQUFDYyxNQUFLO3dDQUFjRixXQUFVO2tEQUE4Qjs7Ozs7O2tEQUNqRSw4REFBQ1osaURBQUlBO3dDQUFDYyxNQUFLO3dDQUFTRixXQUFVO2tEQUE4Qjs7Ozs7Ozs7Ozs7OzBDQUU5RCw4REFBQ0c7Z0NBQUlILFdBQVU7MENBQ2IsNEVBQUNYLGtFQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUlqQiw4REFBQ2U7b0JBQUtKLFdBQVU7OEJBQW1ETjs7Ozs7OzhCQUNuRSw4REFBQ1c7b0JBQU9MLFdBQVU7OEJBQWdEOzs7Ozs7Ozs7Ozs7Ozs7OztBQUkxRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0eWxlc3luYy8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9nbG9iYWxzLmNzcyc7XHJcbmltcG9ydCB0eXBlIHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xyXG5pbXBvcnQgeyBBdXRoU3RhdHVzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BdXRoU3RhdHVzLnRzeCc7XHJcblxyXG5leHBvcnQgY29uc3QgbWV0YWRhdGEgPSB7XHJcbiAgdGl0bGU6ICdTdHlsZXN5bmMnLFxyXG4gIGRlc2NyaXB0aW9uOiAnUGVyc29uYWxpemUgcGFyYXBocmFzaW5nIHRvIHlvdXIgYXV0aGVudGljIHdyaXRpbmcgdm9pY2UgKGV0aGljYWwsIHRyYW5zcGFyZW50IHVzZSkuJ1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxodG1sIGxhbmc9XCJlblwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cclxuICAgICAgey8qIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBvbiBib2R5IHRvIGlnbm9yZSBleHRlbnNpb24taW5qZWN0ZWQgYXR0cnMgKGUuZy4gR3JhbW1hcmx5KSAqL31cclxuICAgICAgPGJvZHkgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxyXG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTAgaW5zZXQteC0wIHotNDAgYmFja2Ryb3AtYmx1ci14bCBiZy1zbGF0ZS05NTAvNzAgYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwXCI+XHJcbiAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNnhsIHB4LTYgcHktMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtOFwiPlxyXG4gICAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHRyYWNraW5nLXRpZ2h0IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1icmFuZC0zMDAgdG8tYnJhbmQtNTAwIGJnLWNsaXAtdGV4dCB0ZXh0LXRyYW5zcGFyZW50XCI+U3R5bGVzeW5jPC9MaW5rPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTYgdGV4dC1zbSB0ZXh0LXNsYXRlLTMwMFwiPlxyXG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvc3R5bGUvb25ib2FyZGluZ1wiIGNsYXNzTmFtZT1cImhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvblwiPkNyZWF0ZSBTdHlsZTwvTGluaz5cclxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3BhcmFwaHJhc2VcIiBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb25cIj5QYXJhcGhyYXNlPC9MaW5rPlxyXG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvYWJvdXRcIiBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb25cIj5BYm91dDwvTGluaz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtYXV0byBmbGV4IGdhcC0zIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxBdXRoU3RhdHVzIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwicHQtMjAgcGItMTYgbWluLWgtc2NyZWVuIG14LWF1dG8gbWF4LXctNnhsIHB4LTZcIj57Y2hpbGRyZW59PC9tYWluPlxyXG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwibXQtOCBweS0xMCB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+QnVpbHQgcmVzcG9uc2libHkuIEF2b2lkIG1pc3VzZTsgZG8gbm90IHByZXNlbnQgQUktYXNzaXN0ZWQgdGV4dCBhcyBwdXJlbHkgaHVtYW4gYXV0aG9yZWQgd2l0aG91dCBkaXNjbG9zdXJlLjwvZm9vdGVyPlxyXG4gICAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiTGluayIsIkF1dGhTdGF0dXMiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsImJvZHkiLCJoZWFkZXIiLCJjbGFzc05hbWUiLCJuYXYiLCJocmVmIiwiZGl2IiwibWFpbiIsImZvb3RlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/paraphrase/page.tsx":
/*!*************************************!*\
  !*** ./src/app/paraphrase/page.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\Users\Dave\Desktop\new_Stylesync\src\app\paraphrase\page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\Users\Dave\Desktop\new_Stylesync\src\app\paraphrase\page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/AuthStatus.tsx":
/*!***************************************!*\
  !*** ./src/components/AuthStatus.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AuthStatus: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\Users\Dave\Desktop\new_Stylesync\src\components\AuthStatus.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\Users\Dave\Desktop\new_Stylesync\src\components\AuthStatus.tsx#AuthStatus`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fparaphrase%2Fpage&page=%2Fparaphrase%2Fpage&appPaths=%2Fparaphrase%2Fpage&pagePath=private-next-app-dir%2Fparaphrase%2Fpage.tsx&appDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDave%5CDesktop%5Cnew_Stylesync&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();